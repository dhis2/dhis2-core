<book>
<chapter>
<title>Definições</title>
<para>The settings module provides a set of application configuration options. There are two main groups of settings: the <emphasis role="italic">system settings</emphasis> apply to the whole system and all its users while the <emphasis role="italic">user settings</emphasis> apply to the environment of the currently logged in user.</para>
<section>
<title>Definições de Utilizador</title>
<para>The user settings section provides general configuration options and options specifically for email.</para>
<section id="userGeneralSettings">
<title>User general settings</title>
<itemizedlist>
<listitem>
<para>Interface language: Sets the locale / language of the user interface, such as labels, menus and headers. You can currently select between 18 languages.</para>
</listitem>
<listitem>
<para>Database language: Sets the locale / language of the database contents in the system, such as the list of data elements and reports.</para>
</listitem>
<listitem>
<para>Sort order property: Sets the property for which to base the sorting of the element lists in the system, such as the list of data elements and indicators. Available properties are <emphasis role="italic">name</emphasis>, <emphasis role="italic">short name</emphasis>, <emphasis role="italic">alternative name</emphasis> and <emphasis role="italic">code</emphasis>. For instance, if you set the sort order property to short name, all lists will be sorted based on the short name property. You can also do manual sorting of all lists by going to the desired list and click &quot;sort&quot; and perform the sorting. This sorting can then be enabled by selecting <emphasis role="italic">custom</emphasis> as the sort order property.</para>
</listitem>
<listitem>
<para>Display property: Sets the property which will be displayed in the element lists in the system, such as the list of data sets.</para>
</listitem>
<listitem>
<para>Style: Sets the style / look-and-feel of the system. You can choose among four different styles while the <emphasis role="italic">light blue</emphasis> style is the default and recommended style. The user setting overrides the corresponding style system setting.</para>
</listitem>
<listitem>
<para>Dashboard charts to display: Sets the numer of charts to display on the front page of the dashboard module. For small screens, four charts are recommended while eight charts are recommended for widescreens.</para>
</listitem>
</itemizedlist>
</section>
<section id="userMessageSettings">
<title>User message settings</title>
<itemizedlist>
<listitem>
<para>Message email notification: Decides whether you want to receive email notifications. Currently the system offers email notifications of messages received in the dashboard. This requires that you have entered your email address in your personal account details - you can access it under &quot;Help&quot; - &quot;User account&quot;.</para>
</listitem>
</itemizedlist>
</section>
</section>
<section>
<title>System settings</title>
<para>The system settings section provides general configuration options and options specifically for appearance and email.</para>
<section id="systemGeneralSettings">
<title>System general settings</title>
<itemizedlist>
<listitem>
<para>Aggregation strategy: This setting defines how the system generates and provides aggregated data to the output tools. There are two options available: <emphasis role="italic">Batch</emphasis> means that all output tools like reports, charts and maps will read aggregate data from pre-built data mart tables in the database. This strategy provides the best performance and inflicts less load on the application since data retrieval only implies reading from one or a few database tables using a simple query.</para>
<para>This strategy requries that those data mart tables are populated with the relevant data before the reports are requested. This can preferrably be done using nightly scheduled jobs or manually through the data mart user interface. A potential downside is that users will have to wait to the next day to view their reports after doing data entry. This approach is the recommended for large online deployments where there are medium to high user concurrency.</para>
<para><emphasis role="italic">Real-time</emphasis> means that aggregated data is generated and retrieved on-the-fly every time a report is requested. This implies that there is no delay after doing data entry before the data is accessible in reports. Performance will not scale adequately and hence this strategy is suitable for small, typically offline, deployments.</para>
</listitem>
<listitem>
<para>Infrastructural data elements: This setting defines a data element group where the member data elements should describe data about the infrastructure of organisation units. Examples of such infrastructural data elements could be population, doctors, beds, internet connectivity and climate. This infrastructural data can currently be viewed in the GIS module in the facility information sheet.</para>
</listitem>
<listitem>
<para>Infrastructural period type: Sets the frequency for which the data elements in the infrastructural data elements group are captured. This will typically be yearly. When viewing the infrastructual data you will be able to select the time period of the data source.</para>
</listitem>
<listitem>
<para>Feedback recipients: This setting defines a user group where the members will recieve all messages being sent through the function for writing feedback in the dashboard module. This will typically be members of the super user team who are ablet to support and answer questions coming from end-users.</para>
</listitem>
<listitem>
<para>Completeness notification recipients: This setting defines a user group where the members will receive messages as notifications when a form has been marked as complete. A typical use of this is when the forms are considered to be an order of some commodity and a group of users want to be notified when such orders are placed.</para>
</listitem>
<listitem>
<para>Omit indicator values with zero numerator value in data mart: Defines whether aggregated indicator values with zero as the numerator value should be written to the indicator data mart table. Having such values written is required for instance when connecting Excel pivot tables to the data mart as Excel will need the numerator data to correctly aggregate up in the organisation unit hierarchy. If third-party tools like Excel are not used with the application this will reduce the total number of values written to the data mart (which again will improve performance) and could safely be set to omit.</para>
</listitem>
<listitem>
<para>Disable data entry when data set completed: This setting defines whether the data entry forms should be disabled and prevent from futher entry after they have been marked as complete.</para>
</listitem>
<listitem>
<para>Data analysis std dev factor: Sets the number of standard deviations for use in the outlier analysis performed on the captured data in the data entry module. The default value is 2; a high value will catch less outlier values than a low value.</para>
</listitem>
<listitem>
<para>Days after period end to qualify for timely data submission: Sets the number of days after the end of a period in which a data entry form must be marked as complete in order to be considered timely. This affects the &quot;reporting rate&quot; tool in the reporting module which lists forms marked as complete as well as marked as complete in time. The default value is 15.</para>
</listitem>
</itemizedlist>
</section>
<section id="systemAppearanceSettings">
<title>System appearance settings</title>
<itemizedlist>
<listitem>
<para>Application title: Sets the application title to the left on the top menu.</para>
</listitem>
<listitem>
<para>Style: Sets the style / look-and-feel of the system. The corresponding user style setting overrides this.</para>
</listitem>
<listitem>
<para>Flag: Sets the flag which is displayed in the left menu of the dashboard module.</para>
</listitem>
<listitem>
<para>Start page: Sets page / module which the user will be redirected to after logging in. The dashboard module is the recommended start module.</para>
</listitem>
</itemizedlist>
</section>
<section id="systemEmailSettings">
<title>System email settings</title>
<itemizedlist>
<listitem>
<para>Host name: Refers to the host name of the SMTP server. For instance when using Google SMTP services this should be smtp.gmail.com.</para>
</listitem>
<listitem>
<para>User name: The user name of the user account with the SMTP server. For instance mail@dhis2.org.</para>
</listitem>
<listitem>
<para>Password: The password of the user account with the SMTP server.</para>
</listitem>
</itemizedlist>
</section>
</section>
</chapter>
<chapter>
<title>Using Data Quality functionality</title>
<para>The data quality module provides means to improve the accuracy and reliability of the data in the system. This can be done through validation rules and various statistical checks. All the functionality described below can be accessed from the left side menu in the Services-&gt;Data Quality module.</para>
<section>
<title>Overview of data quality checks</title>
<para>Ensuring data quality is a key concern in building an effective HMIS. Data quality has different dimensions including:</para>
<itemizedlist>
<listitem>
<para><emphasis>Correctness:</emphasis> Data should be within the normal range for data collected at that facility. There should be no gross discrepancies when compared with data from related data elements.</para>
</listitem>
<listitem>
<para><emphasis>Completeness:</emphasis> Data for all data elements for all health facilities should have been submitted.</para>
</listitem>
<listitem>
<para><emphasis>Consistency:</emphasis> Data should be consistent with data entered during earlier months and years while allowing for changes with reorganization, increased work load, etc. and consistent with other similar facilities.</para>
</listitem>
<listitem>
<para><emphasis>Timeliness:</emphasis> All data from all reporting orgunits should be submitted at the appointed time.</para>
</listitem>
</itemizedlist>
</section>
<section>
<title>Data quality checks</title>
<para>Data quality checking can be done through various means, including:</para>
<orderedlist>
<listitem>
<para>At point of data entry, the software can check the data entered to see if it falls within the min-max ranges of that data element (based on all previous data registered).</para>
</listitem>
<listitem>
<para>Defining various validation rules, which can be run once the user has finished data entry. The user can also check the entered data for a particular period and Organization Unit(s) against the validation rules, and display the violations for these validation rules. </para>
</listitem>
<listitem>
<para>Analysis of data sets, ie. examining gaps in data.</para>
</listitem>
<listitem>
<para>Data triangulation which is comparing the same data or indicator from different sources.</para>
</listitem>
</orderedlist>
</section>
<section id="validationRuleAnalysis">
<title>Running Validation Rule Analysis</title>
<para>You can access Validation Rule Analysis from the Services-&gt;Data Quality menu.</para>
<para>A validation rule is based on an expression which defines a relationship between a number of data elements. The expression has a left side and a right side and an operator which defines whether the former must be less than, equal to or greater than the latter. The expression forms a condition which should assert that certain logical criteria are met. For instance, a validation rule could assert that the total number of vaccines given to infants is less than or equal to the total number of infants.</para>
<para>The validation rule analysis function will test validation rules against the data registered in the system. Validation violations will be reported in cases where the condition defined through the validation rule expression is not met, ie. the condition is false.</para>
<para><emphasis role="bold">Selecting what data to validate:</emphasis> </para>
<para>First, enter a start date and an end date for which data should be included in the analysis. The date picker widget may be used to select dates. </para>
<para>Second, choose between including all validation rules or all validation rules from a single group. </para>
<para>Third, choose between including the selected organisation unit only or the selected organisation unit with all children in the analysis. Fourth, select the organisation unit. Finally, click <emphasis role="italic">validate</emphasis>.</para>
<screenshot>
<screeninfo>Run validation rule selection</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/run_validation_rules_selection.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="bold">Validation results:</emphasis></para>
<para>The analysis process will run for a while depending on the amount of data that is being analysed. If there were no violations of the validation rules a message saying <emphasis role="italic">validation passed successfully</emphasis> is displayed. </para>
<para>If validation violations were found, they will be presented in a list. The organisation unit, period, left side description and value, operator, and right side value and description for each validation violation are displayed. </para>
<para>The show details icon can be clicked in order to get more information about a validation violation. This will open a popup screen that provides information about the data elements included in the validation rules and their corresponding data values. This information can be used in order to fix incorrect data.</para>
<para>The validation violations can be exported to a PDF document by clicking on the Download as PDF button, and to a Microsoft Excel workbook by clicking on the Download as Excel button.</para>
<screenshot>
<screeninfo>Run validation rule results</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/validation_rule_result.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section id="stddevoutlierAnalysis">
<title>Std Dev Outlier Analysis</title>
<para>You can access Outlier analysis from the Services-&gt;Data Quality menu.</para>
<para>The standard deviation based outlier analysis provides a mechanism for revealing values that are numerically distant from the rest of the data. Outliers can occur by chance, but they often indicate a measurement error or a heavy-tailed distribution (leading to very high numbers). In the former case one wishes to discard them while in the latter case one should be cautios in using tools or interpretations that assume a normal distribution. The analysis is based on the standard normal distribution.</para>
<para><emphasis role="bold">Select what data to analyse:</emphasis></para>
<para>First, select the from and to date for the data to include in the analysis. </para>
<para>Second, select the data set from which to pick data elements from. </para>
<para>Third, select all or some of the data elements in the data set by double-clicking or marking them and clicking the add/remove buttons. </para>
<para>Fourth, select the parent organisation unit to use. All children of the organisation unit will be included. </para>
<para>Fifth, select the number of standard deviations. This refers to the number of standard devations the data is allowed to deviate from the mean before it is classified as an outlier.</para>
<screenshot>
<screeninfo>Outlier analysis rule selection</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/outlier_analysis_selection.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="bold">Analysis result:</emphasis></para>
<para>The potential outlier values discovered will be presented in a list after the analysis process is finished. The data element, organisation unit, period, minimum value, actual value, and maximum value will be displayed for each outlier. The minimum and maximum values refer to the border values derived from the number of standard deviations selected for the analysis. </para>
<para>Each outlier value can be modified directly in the analysis result page. The value can be modified by clicking inside the corresponding field in the value column, entering a value and then navigate away from that field either by clicking tab or anywhere outside the field. The system will provide an alert if the value is still outside the defined minimum and maximum values, but the value will saved in any case. The field will have a red background color if the value is outside the range, and a green if inside. </para>
<para>Each outlier value can be marked for further follow-up by clicking the star icon.</para>
</section>
<section id="minmaxoutlierAnalysis">
<title>Min-Max Outlier Analysis</title>
<para>The min-max value based outlier analysis provides a mechanism for revealing values that are outside the pre-defined minimum and maximum values. Minimum and maximum values can be custom defined or automatically defined by the system in the data administration module. See the section about Std dev outlier analysis for further details on usage.</para>
</section>
<section id="gapAnalysis">
<title>Gap Analysis</title>
<para>The gap analysis provides a mechanism for revealing gaps in the data. A gap exists for a specific data element and organisation unit. A gap is a period with preceding and succeeding periods which have registered data values, but without registered data values itself. Such a gap might indicate a data capture error or omission and could be further investigated. See the section about Std dev outlier analysis for further details on usage.</para>
</section>
<section id="followupAnalysis">
<title>Follow-Up Analysis</title>
<para>The follow-up analysis function will list all data values which are marked for follup-up. A data value can be marked for follow-up in the data entry module and in the other validation analysis variants in this module.</para>
</section>
</chapter>
<chapter>
<title>Import and export</title>
<highlights>
<para><emphasis>Learning objectives:</emphasis></para>
<para>
After reading this module you will be able to understand:</para>
<itemizedlist>
<listitem>
<para>
Why do we need functions of export and import data.</para>
</listitem>
<listitem>
<para>How to export data from DHIS2</para>
</listitem>
<listitem>
<para>
How to import data into DHIS2</para>
</listitem>
</itemizedlist>
</highlights>
<section>
<title>What is import and export?</title>
<para>In a primary health system, the HMIS typically involves a distributed application, where the same application is running in different geographical locations (PHCs,CHCs, hospitals, districts, and state). Most of these physical locations do not have Internet connectivity, and hence they work offline. At some point (normally at the district level), the data needs to be synchronised in order to have a consolidated database for the a particular geographical region. For this, it is important to be able to export data from one location (which is working offline, say at the health facility level) to another one say at the district level where the data would need to be imported. This feature of exporting and importing is thus a crucial function of a HMIS. This feature also helps us overcome the dependency on Internet to some degree, as data updates can be transferred via USB key where there is no connectivity, or through email where there is limited Internet connectivity. DHIS 2 provides robust export-import functionality to fulfil these needs.
</para>
</section>
<section id="export">
<title>Exporting data</title>
<para>In the case on on-line data entry, all data is saved into one database only. In an offline deployment, each deployment will have a separate database in their local system. So the data will be stored in their local database. In an offline deployment, after the data entry is finished, it will need to be manually sent to the next level of where the application is running. In an on-line application, however, that is not required, as all data is stored at a central location using the Internet.
</para>
<section>
<title>Exporting from DHIS 2</title>
<para>The export option can be made use of by selecting it as follows.
The import or export is available only when the selected organisation (source/destination) has defined datasets. This is because datasets help to define which data is to be or is being exported. Further, which specific data elements get exported is determined by the composition of the dataset being exported.
If there are no datasets defined for an organisation unit, it indicates that no data values are registered for this level of organisation or lower.
To access the main Import-Export module, choose <guimenu>Services-&gt;Import-Export</guimenu></para>
<para>The exported data values are stored in an ‘xml file’. The file name is defined by the name of the source organisation unit and the period to allow the receiving organisation unit to identify the source and the period of the export file. The XML is placed in your home directory (On Windows this is normally <filename>C:\Documents and Settings\</filename> under the sub-directories <filename>/dhis / import-export</filename>.
</para>
</section>
<section>
<title>Exporting data to other DHIS 2 systems</title>
<para>Once the data export screen is displayed, select the Organisation unit, period and dataset for which data export should be selected.Finally click on the export option that will be available on the lower left side of displayed screen.
If there are no datasets defined for an organisation unit, it indicates that no data values are registered for this level of organisation or lower.
</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/import_export/export_to_dhis2.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>A pop-up save option will appear on the displayed screen (see picture below) prompting the saving of the exported data. You may save the export folder on your desktop or any other folder by selecting the ‘Save to Disk’ option from the pop-up prompt.
</para>
</section>
<section>
<title>Exporting metadata to other DHIS 2 systems</title>
<para/>
<section>
<title>Metadata export</title>
<para>Metadata is &quot;data about data&quot;. In the context of DHIS 2, metadata consists of definitions of data elements, indicators, the structure and names contained in the organizational hierarchy, and other options. Click on the &quot;Metadata export&quot; link from the main &quot;Data export&quot; screen in order to access this. Just select the feature that you wish to export and click &quot;Export&quot;. This metadata file can then be transmitted just like a data file, except it will contain information on the definitions of the various features, as opposed to the values of the data themselves. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/import_export/metadata_export.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section>
<title>Detailed metadata export</title>
<para>The &quot;Detailed metadata&quot; function will allow you to export specific data element and indicator definitions. Just click &quot;Detailed Metadata Export&quot; and select the data elements and indicators that you wish to export. Click &quot;Export&quot; and save the file to a desired location. This file can then be transmitted via email or USB key to other DHIS 2 installations. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/import_export/metadata_detail.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</section>
<section>
<title>DHIS 1.4 Metadata export</title>
<para>The DHIS 1.4 Metadata export functionality provides the same functionality as the standard DHIS 2 metadata export, except that the resulting file can be used to transmit metadata information to DHIS 1.4 systems. </para>
</section>
<section>
<title>DHIS 1.4 Detailed Metadata Export</title>
<para>The DHIS 1.4 Metadata export functionality provides the same functionality as the detailed DHIS 2 metadata export, except that the resulting file can be used to transmit metadata information to DHIS 1.4 systems. Simply select the data elements and indicators that you want and click &quot;Export&quot; to begin the export process.</para>
</section>
<section>
<title>PDF Metadata Export</title>
<para>Auctor natoque ve vulputate quam. Quam duis posuere risus felis mus class tempor eu sociosqu. Risus duis penatibus turpis, tristique dictum enim est. Quisque mi pulvinar ultrices, fusce diam porttitor mi hendrerit viverra, augue leo vestibulum rutrum. Ridiculus dictumst luctus. Eros.</para>
</section>
</section>
<section id="import">
<title>Importing data</title>
<para>The import option allows different instance of DHIS 2 to receive standardised set of data in the absence of a networked system. Typically, a data set is exported from one DHIS instance (e.g. a district level system) to another system (e.g. a provincial level system). DHIS 2 is capable of importing data from other systems that either support the DXF of IXF formats. DHIS 2 is capable of importing data directly from a DHIS 1.4 Access database. Each of these options will be discussed in the following sections. </para>
<section id="import_another_instance">
<title>Importing data from another DHIS 2 instance</title>
<para>Data can be imported into different instances of DHIS 2 through the use of the DXF data exchange format. There are two screens that are used to import data, with default and advanced options. </para>
<para>The default data import menu can be accessed by clicking the <guimenuitem>&quot;Import&quot;</guimenuitem> from the main <guimenuitem>Import-Export</guimenuitem> screen. </para>
<para>By clicking the <guibutton>&quot;Browse&quot;</guibutton> button, you can select a file from you local file system. This file may have been received by email, copied from another users system, or received on a CD for example. Simply select the file that you wish to import. </para>
<screenshot>
<screeninfo>Default import screen</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/import_export/import_default.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para/>
<para>There are three separate options for importing data. </para>
<itemizedlist>
<listitem>
<para>Import: This option will import the contents of the import file directly into the database.</para>
</listitem>
<listitem>
<para>Preview: This option will enable a preview of the contents of the import file. In the preview one can get an overwiev of the data to be imported, discard unwanted elements and match import elements to existing ones.</para>
</listitem>
<listitem>
<para>Analysis: This option will enable an analysis of the contents of the import file. The analysis will search for and examine anomalies in the data, like violations of unique names constraints and invalid indicator formulas. This is useful when importing from external applications where data constraints might be less rigid than in DHIS 2.</para>
</listitem>
<listitem>
<para><emphasis role="bold">NOTE: We highly recommend always using the Preview option</emphasis> when importing data to make sure you keep control over any changes to your metdata and databases being out of synch on data elements or orgunit names.</para>
</listitem>
</itemizedlist>
<section>
<title>Preview before importing</title>
<para>Before doing the import into your database it is highly recommended to preview the data to make sure no changes to the metdata (data element and/or orgunit names) have taken place at the source DHIS 2 installation. Select Preview in the Type field in the Import window. In the preview window it is<emphasis role="bold"/><emphasis role="bold"><emphasis role="bold">IMPORTANT</emphasis> to look for New and Updates in metadata.</emphasis> DO NOT just click the Import all button without carefully reviewing the information in the preview window. Importing new data elements or orgunits without checking properly whether they are really new or just old names can cause a corrupted database with duplicate or incomplete data, so be careful!

</para>
<para>Procedure for handling New or Updates in the preview:

</para>
<para><emphasis role="bold">If new:</emphasis>
</para>
<para>If there are new data elements, indicators, or orgunits, first make sure whether they really are new or not. Data elements are rarely new, most of the time they are the old name of something that has been changed in the destination database (e.g. a master db at the national level). If you have changed some data elements names at the national level and these have not yet been updated in the district database, the old names that are in the district export files will appear as new data elements in your import preview. It is very important that you tell the DHIS that these are only just old names of a data element that already exists in your database, if not you will have two data elements meaning the same thing and both with an incomplete set of data. Use the ‘match new to existing’ button to link the new data elements (that really are old) to the updated names in your national database, and make sure that the source database updates its metdata before the next data export.

</para>
<para><emphasis role="bold">If updates: </emphasis></para>
<para>Only the newer updates are shown in the preview. This means the record has been updated more recently in the district/hospital than in the zonal/national database you are importing into. If you are not sure whether you want to import the update or not, you can select the record and click on the compare to existing button to see exactly which changes that have been made in the updated object.
</para>
</section>
</section>
<section>
<title>Importing data from DHIS 1.4</title>
<para>There are two ways to import data from a DHIS 1.4 database; 1) through the 1.4 XML-based export files, or 2) directly from the DHIS 1.4 data file (.mdb). Both are accessible from the DHIS 1.4 Import menu under Import in the Import-Export module.</para>
<para>It is critical that all data integrity violations which are present in the DHIS 1.4 database be fully resolved before attemtping an import into DHIS 2. You can check the data integrity of DHIS 1.4 through the CORE Module-&gt;Advanced-&gt;Data integrity checks. A report will be generated of all data integrity violations which should be resolved prior to importing into DHIS 2.</para>
<section>
<title>DHIS 1.4 File (database) Import</title>
<para>This method is recommend when doing large imports from 1.4, and especially when importing into a new DHIS 2 database.</para>
<para><emphasis role="bold">DHIS 1.4 File Configuration</emphasis> </para>
<para>Before you can start the 1.4 file import you need to provide a few details about the 1.4 database:</para>
<para><emphasis role="italic">Datafile(#):</emphasis> Here you put the full path to the DHIS 1.4 data file you want to import from, e.g. C:\DHIS14\DHIS_#LR_LIBERIA.mdb. </para>
<para><emphasis role="italic">Username:</emphasis> Leave blank (unless you have set up extra security measures on the file)</para>
<para><emphasis role="italic">Password:</emphasis> Leave blank (unless you have set up extra security measures on the file)</para>
<para><emphasis role="italic">Levels:</emphasis> Provide the number of levels in the orgunit hierarchy in your 1.4 database, e.g. 5.</para>
<para>Click &quot;Save&quot; and you will return to the DHIS 1.4 File Import window. </para>
<para><emphasis role="bold">Import Type:</emphasis></para>
<para>As with other imports you have the options to Import (directly), Preview, or Analyse the import. We recommend using the Analyse option first to check that the 1.4 database is OK and ready to be imported. </para>
<para>When importing a large database into a new blank DHIS 2 database we recommend using the Import option to save time. </para>
<para>For smaller incremental imports the Preview is OK.</para>
<para><emphasis role="bold">Last Updated:</emphasis> </para>
<para>If you want the full import, all the data in the 1.4 database you leave this field blank.</para>
<para>If you only want to do an incremental import into an already existing DHIS 2 database you can use this field to filter which data values to import. Only values added or edited after the date you specify will be imported. This filter makes use of the LastUpdated column in the RoutineData table in the DHIS 1.4 data file.</para>
<para><emphasis role="bold">Import process:</emphasis></para>
<para>When you are done selceting Method, and LastUpdated you can begin the import by clicking on the Import button. This process might take a long time, depending on how many data values you are importing. On a reasonable spec. computer the import takes about 2 million records per 30 minutes.</para>
</section>
<section>
<title>DHIS 1.4 XML Import</title>
<para>Import thof XML data from DHIS 1.4 is also possible using the standard DHIS 1.4 export format. Just be sure that the DHIS 1.4 export format has been set to &quot;DHIS 2.0&quot; as illustrated in the screen shot below. After the data has been exported by DHIS 1.4, you can import the data by choosing &quot;Services-&gt;Import-Export-&gt;DHIS 1.4 Import-&gt;DHIS 1.4 XML Import&quot; and proceeding via the procedure outline in the <link linkend="import_another_instance">previous section</link>. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="40%" align="center" fileref="resources/images/import_export/dhis14_export.png"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section>
<title>Limitations to DHIS 1.4 imports</title>
<para>Although it is possible to import and export data between instances of DHIS 1.4 and DHIS 2, there are significant limiations. Currently, the import of some metadata is not supported from DHIS 1.4 to DHIS 2. This includes:</para>
<itemizedlist>
<listitem>
<para>Validation rules</para>
</listitem>
<listitem>
<para>Organisational unit alternate names</para>
</listitem>
<listitem>
<para>Compulsory data element pairings</para>
</listitem>
<listitem>
<para>Custom data entry forms</para>
</listitem>
<listitem>
<para>Dataset data entry levels</para>
</listitem>
</itemizedlist>
<para>It is also important that the aggregation operator defined in DHIS 1.4 be set to the correct value. Some data, such as population, should have their aggregation operator set to &quot;Average&quot; in DHIS 2, as this controls how the aggregation of data is handled over time (but not within the organisational unit hierarchy). </para>
</section>
</section>
</section>
</chapter>
<chapter>
<title>Datasets and data entry forms</title>
<section id="datasets">
<title>Datasets</title>
<para>All data entry in DHIS2 is organised through the use of datasets. You can add and edit datasets in Maintenance-&gt;Datasets. A dataset is a collection of data elements grouped together for data collection and data export between instances of DHIS2 (e.g. from a district office local installation to a national server). .</para>
<para>A dataset also has a frequency which controls the data collection frequency, which can be daily, weekly, monthly, quarterly, six-monthly, or yearly. Both which data elements to include in the dataset and the frequency is set in the Add/Edit Dataset window, together with a name, short name, and code. In order to use a dataset to collect data for a specific orgunit you must assign the orgunit to the dataset, and this mechanism controls which orgunits that can use which datasets. </para>
<para>Datasets also are assigned to specific organisation units which will be allowed to enter data for all data elements in a given dataset. You can assign orgunits to a dataset in the Dataset Management (list of available datasets are shown) by clicking on the blue folder icon, the first icon under Operations, corresponding to the dataset you would like to modify. Alternatively you can manage orgunit assignments for all datasets together in the Dataset Assignment Editor (available in the right-side menu for Datasets). </para>
<para>Your dataset will then be ready to be used in Services-&gt;Data Entry for the orgunits that you have assigned and for periods according to your selected frequency (period type).</para>
<section id="dataSet">
<title>Dataset management</title>
<para>The dataset management function allows you to create new datasets and manage existing ones. The dialog can be reached by choosing Maintenance-&gt;Datasets-&gt;Dataset. A sample dialog is displayed below.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/datasets/datasets_0.png"/>
</imageobject>
</mediaobject>
</screenshot>
<itemizedlist>
<para>Each of the functions is described below.</para>
<listitem>
<para>Sort: This controls the custom sort order. Depending on the systems settings, users will see the datasets ordered in the specific order which you provide. </para>
</listitem>
<listitem>
<para>Add new: Adds a new dataset. When pressing this button, you can create a new dataset. You need to provide a name, shortname and frequency. The &quot;Code&quot; attribute is optional. Data elements can be added to the &quot;Selected data element&quot; list by selecting them individually. and pressing the <inlinegraphic fileref="resources/images/dhis2_images/move_right.png"/> button. Indicators can also be added to data sets and will be available to be placed in custom data entry forms when they need to be shown along with data elements on the same data entry form. Press &quot;Save&quot; to add the new dataset. </para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/dhis2_images/assign.png"/> Assign organisation units to datasets: This function will allow you to assign individual organisational units to a dataset. Only organisational units which have been assigned to a dataset will be allowed to enter data into the dataset. </para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/dhis2_images/edit.png"/> Edit dataset: This will allow you to edit existing datasets, for instance when you need to add or remove data elements and indicators to a given dataset.</para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/dhis2_images/i18n.png"/> Translate: Allows you to translate the name of a dataset to a different language.</para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/dhis2_images/edit_layout.png"/> Create or edit a custom data entry form. Refer to <xref linkend="customDataEntryForms"/> for detailed information of how to use this function. </para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/dhis2_images/edit_compulsory_data_elements.png"/> Edit compulsory data elements: This dialog will allow you to add or remove data elements which will be marked as compulsory during data entry. </para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/dhis2_images/delete.png"/> Delete: Completely removes a dataset from the system. </para>
<warning>
<para>Any dataset which is deleted from the system, is irrevocably lost. All data entry forms, and sectrion forms which may have been developed will also be removed. Ensure that you have made a backup of your database before deleting any dataset in case you need to restore it at some point in time.</para>
</warning>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/dhis2_images/information.png"/> Information: Display some informative information about the dataset, including the number of data elements, the frequency, and which data entry form has been assigned to the dataset.</para>
</listitem>
</itemizedlist>
</section>
</section>
<section>
<title>Data Entry Forms</title>
<para>Once you have assigned a dataset to an orgunit that dataset will be made available in Data Entry (under Services) for the orgunits you have assigned it to. A default data entry form will then be shown, which is simply a list of the data elements you belonging to the dataset together with a column for inputting the values. If your dataset contains data elements with a non-default categorycombination, such as age groups or gender then additional columns will be automatically generated in the default form based on the different options/dimensions. </para>
<para>If you use more than one dataelement category combination you will get multiple columns in the data entry form with different column headings for the options. In addition to the default list-based data entry form there are two more alternatives, the section-based form and the custom form.</para>
<section>
<title>Section forms</title>
<para>Section forms allow for a bit more flexibility when it comes to using tabular forms and are quick and simple to design. Often your data entry form will need multiple tables with subheadings, and sometimes you need to disable (grey out) a few fields in the table, both of these functions are supported in section forms. This function can be access by choosing Maintenance-&gt;Dataset Section. </para>
</section>
<section id="dataSetSection">
<title>Adding a new section form</title>
<para>Section forms are separated automatically by data element category combinations, which produce a spreadsheet like data entry form for each section. </para>
<para>When designing a section form the procedure is as follows:</para>
<orderedlist>
<listitem>
<para> Set up your dataset as described in <xref linkend="datasets"/></para>
</listitem>
<listitem>
<para>Open the DataSet Section window (from right side menu under Datasets) and add your sections one by one. To add a new section to a section form, first choose the dataset from the &quot;Select dataset&quot; combo box. Then choose the specific category combo and press &quot;Add new&quot;. You can now add data elements from the &quot;Available data element&quot; list on the left to the &quot;Selected data elements&quot; list on the right. Data elements can be sorted within the section with the use of the &quot;Move up&quot; <inlinegraphic fileref="resources/images/dhis2_images/move_up.png"/> and &quot;Move down&quot; <inlinegraphic fileref="resources/images/dhis2_images/move_down.png"/> buttons. Be sure to press &quot;Save&quot; once you have finished.<note>
<para>You can only use one data element category combination per section. </para>
</note></para>
</listitem>
<listitem>
<para> You may need to control how the data element sections are displayed on the final form. In Dataset Section management, select the dataset from the &quot;Dataset&quot; drop-down box, then leave [All] in the &quot;Select Category Combo&quot; drop-down. Click on &quot;Sort section&quot; to sort the order of appearance of your sections in the data entry form.</para>
</listitem>
<listitem>
<para>In Data Entry you can now start using the Section form (should appear automatically when sections are available for the selected dataset). Datasets which have section forms will automatically display the section form.</para>
</listitem>
<listitem>
<para>Certain data elements may need to be disabled for data entry. Clicking on the <inlinegraphic fileref="resources/images/dhis2_images/edit_layout.png"/> &quot;Section grey field management&quot; icon will allow you to disable specific data element category options as seen below. Pressing the &quot;Disable&quot; button will prevent data from being entered into this specific data element/category option during data entry. Be sure to press &quot;Done&quot; to save your changes.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata fileref="resources/images/datasets/grey_field_management.png" align="center" width="60%"/>
</imageobject>
</mediaobject>
</screenshot>
</listitem>
</orderedlist>
<para>A sample section form is displayed in the next figure. Notice how each data element category has been separated into a separate section, and a data entry table has been automatically generated by the system. Use of section forms in combination with data element categories can drastically reduce the amount of time which is required to create data entry forms for datasets.</para>
<screenshot>
<screeninfo>Section form example</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/section_form.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section id="customDataEntryForm">
<title>Custom Forms</title>
<para>When the form you want to design is to complicated for the default or section forms then your last option is to use a custom form. This takes more time, but gives you full flexibility in term of the design. DHIS2 uses a built-in HTML editor (FcK Editor) for the form designer and you can either design the form in the UI or paste in your HTML directly (using the Source window in the editor). A complete reference for use of the editor can be found <ulink url="http://docs.cksource.com/CKEditor_3.x/Users_Guide">here</ulink>.</para>
<para>One of the big advantages of custom forms, is that they can be created to mimic existing paper aggregation forms. This makes data entry much easier for users, and should reduce the number of data elements which are incorrectly entered, as they are more easily identifiable when entering data from a paper form. </para>
<para>Once a custom form has been added to a dataset it will be available in data entry and used automatically. </para>
<note>
<para>Custom forms are preferentially displayed over section forms. If a dataset has both a section form and a custom form, the custom form will be displayed during data entry. Users will not be able to select which method they wish to input data, so be sure that your custom form contains all data elements which may be required.</para>
</note>
<para>To add a custom form design to a dataset then first locate your dataset in the Dataset Management window and click on the Design data entry form icon under Operations (the fifth icon), see the mouse-over text to be sure.</para>
<para>First provide a Name for the form. There are a few important buttons in the Editor that you must pay special attention to. The blue monitor icon is the full screen mode on/off button, which can be very useful. The there is a Source button that shows the HTML code for your form. </para>
<para>If you already have the HTML for your form then you should start by pasting it in here. Click on Source again to go back to preview/non-HTML mode. Then there is an icon in the top right corner with a + sign on it, this will open a list of available data elements to add to your form, the Data Element Selector window. </para>
<para>All the input fields need to have a link to a data element or indicator. To add new data elements to the form, double-click them from the data element/indicator box as shown below. You can also select a data element/indicator and press the &quot;+Insert&quot; button. You can switch between either data elements or indicators by pressing the respective buttons.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="50%" align="center" fileref="resources/images/datasets/custom_forms_data_elements.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>You can to intermediary saving by clicking on the Save button, and this will not close the window. It is recommended to save often to ensure you do not loose your work. </para>
<para>When you are done or want to test your form in data entry click on &lt;Save and close&gt;.</para>
</section>
<section id="dataSetAssignmentEditor">
<title>Data set assignment editor</title>
<para>The data set assignment editor is a tool for adding and removing many data sets to organisation units in batch style. Start by selecting an organisation unit from the selection tree. In the area below the tree a grid will be displayed showing all data sets as columns and the child organisation units as rows.</para>
<para>From the grid you can now assign or unassign data sets simply by clicking on of the corresponding icons in the grid. If you want to assign or unassign an organisation unit to all data sets you can check or uncheck the checkbox next to the organisation unit. Your changes will automatically be saved.</para>
</section>
</section>
</chapter>
<chapter>
<title>Organisation units</title>
<para>In this section you will learn how to:</para>
<para><itemizedlist>
<listitem>
<para>Create a new organisation unit and build up the organisation unit hierarchy</para>
</listitem>
<listitem>
<para>Create organisation unit groups, group sets, and assigning organisation units to them</para>
</listitem>
<listitem>
<para>How to make changes to the organisational unit hierarchy</para>
</listitem>
</itemizedlist></para>
<section id="ou_hierarchy">
<title>The organisational hierarchy</title>
<para>The organisational hierarchy defines the organisation structure of the DHIS2 instance, such as how the health facilities, administrative areas and other geographical areas are arranged with respect to each other. It is essentially the &quot;where&quot; dimension of DHIS2, similar to how periods represent the &quot;when&quot; or time dimension. DHIS2 is structured so that the organisational unit hierarchy is a geographical hierarchy, and the GIS module depends on this. Non-geographical hierarchies are discouraged, and would better to be represented through the use of organisational unit groups. This dimension to the data is defined as a hierarchy with one root unit (e.g. Ministry of Health or a country) and any number of levels and nodes below. Each node in this hierarchy is called an organisational unit in DHIS2. </para>
<para>The design of this hierarchy will determine the geographical units of analysis available to the users as data is collected and aggregated in this structure. There can only be one organisational hierarchy at the same time so its structure needs careful consideration. </para>
<para>Additional hierarchies (e.g. parallel administrative boundaries to the health care sector) can be modeled using organisational groups and group sets, but the organisational hierarchy is the main vehicle for data aggregation on the geographical dimension. Typically national organisational hierarchies in public health have 4-6 levels, but any number of levels is supported. </para>
<para>The hierarchy is built up of parent-child relations. For instance a country might have eight provinces, and each province again might have a number of districts as their children. Normally the health facilities (from which data is typically collected) will be located at the lowest level, but they can also be located at higher levels, e.g. national or provincial hospitals, so skewed organisational trees are supported (e.g. a leaf node can be positioned at level 2 while most other leaf nodes are at level 5). </para>
<para>Note that it is quite easy to make changes to the upper levels of the hierarchy at a later stage, the only problem is changing organisational units that collect data (the leaf nodes), e.g. splitting or merging health facilities. Aggregation up the hierarchy is done based on the current hierarchy at any time and will always reflect the most recent changes to the organisational structure. </para>
<important>
<para>Because the most recent information which is contained in the organisational unit hierarchy is always used for aggregation, it is important to keep in mind that changes to it (such as the division of districts into two separate districts) will not be respected over time. As an example, District A may be sub-divided into District B and District C. This is a process which often happens for political reasons. Facilities which belong to District A would need to be reassigned to District B and C. However, any historical data, which was entered before the split actually occurred, would still be registered as belonging to District B and C and not the defunct District A. This temporal representation of the organisational hierarchy across time will be lost. </para>
</important>
</section>
<section>
<title>Organisation unit maintenance</title>
<section id="orgunit">
<title>Organisation units</title>
<para>This is where you can create organisation units (from now on referred to as orgunits) and build up the orgunit hierarchy. Orgunits are added one by one as either root unit or a child of a selected unit. The left side menu represents the current organisational hierarchy and if you select a unit there you will see its children listed in the main list of orgunits in the middle of the screen. When an orgunit is selected in the left side menu you can also add new child units to it. To locate an orgunit in the hierarchy you can either navigate through the tree by expanding the branches (click on the + symbol), or search for it by opening the search field (click the green symbol above the root of the hierarchy). In search you can either search for the orgunit name or its code, both will only show exact matches (case-insensitive). To add a new orgunit first select its parent and then click on the Add new button in the top right corner of the list of orgunits. To add a new root orgunit make sure no orgunit is selected in the menu and click on &quot;Add new&quot;. The details of adding a new orgunit are explained in <xref linkend="editOrganisationalUnits"/>.</para>
<section id="ou_edit">
<title id="editOrganisationalUnits">Editing organisation units</title>
<para>To edit the properties of an existing orgunit first select its parent (if any) in the left side menu, then locate the orgunit in the listed orgunits, and finally click on the &quot;Edit&quot; <inlinegraphic fileref="resources/images/dhis2_images/edit.png" align="center"/> button next to the name of the orgunit that you want to modify. The following properties can be defined in the Edit (or Create new) window:</para>
<itemizedlist>
<listitem>
<para>Name: Define the precise name of the orgunit in this field. Each orgunit must have a unique name. </para>
</listitem>
<listitem>
<para>Short name: Typically, an abbreviation of the full name. This attribute is often used in reports to display the name of the orgunit, where there is limited space available. </para>
</listitem>
<listitem>
<para>Code: In many countries, orgunits are assigned a code. This code can be entered in this field. </para>
</listitem>
<listitem>
<para>Opening date: Used to control which orgunits that where existing at a point in time, e.g. when analysing historical data. This attribute is required. The default date for opening of organisation units is 1900-01-01, but can be set to any date (even dates which occur in the future).</para>
</listitem>
<listitem>
<para>Registers data: This property is used to identify which orgunits that can register data or not. Sometimes administrative orgunits at higher levels in the hierarchy are not supposed to register any data. This can help control the data entry process as only orgunits with this property set to Yes will be available for data entry. </para>
</listitem>
<listitem>
<para>Comment: Any additional information that you would like to add can be put here. </para>
</listitem>
<listitem>
<para>Coordinates: This field is used to create the maps in the GIS module. Paste in the coordinates of the orgunit in this field, either a polygon (for orgunits that represent an administrative boundary) or a point (for health facilities). Without this information the GIS module will not work. It might be more efficient to import these coordinates later as a batch job for all orgunits using the import module. See the GIS chapter for more details.</para>
</listitem>
<listitem>
<para>URL: You can use this field to insert a URL link to an external web site that has additional information about this specific orgunit.</para>
</listitem>
<listitem>
<para>Contact information: A contact person, address, email, and phone number can be entered in these fields. This information can be vital for facilitating follow-up.</para>
</listitem>
<listitem>
<para>Datasets: Datasets can be assigned to organisational units here. See the chapter on &quot;Data sets&quot; for more detailed information on assigning datasets to organisational units. </para>
</listitem>
<listitem>
<para>Organisation unit groups: Assignments to organisational units group sets can be assigned through the individual drop-down boxes which appear for each group set.</para>
</listitem>
</itemizedlist>
</section>
</section>
<section id="ou_groupsets">
<title id="orgunitGroupSets">Organisation unit group sets</title>
<para>Group sets can be understood as a flexible tool to add more categorisation to orgunits. Any number of group sets can be added, but as a default start all databases will have the two group sets &quot;Type&quot; and &quot;Ownership&quot;. Using these group sets will simplify how reporting is done, and facilitate analysis through the use of tools such as Excel PivotTables.</para>
<para>While a group set like &quot;Type&quot; describes a measure dimension, the actual categories are represented by the groups, and the categorisation of an orgunit through the orgunit&apos;s group memberships. This can be understood as a parallel hierarchy of orgunits with the group set as the root (&quot;Type&quot;), the groups at level 2 (e..g &quot;Clinic&quot;, &quot;Hospital&quot;, &quot;Dispensary&quot;), and the actual orgunits at level 3. The group set can as such provide additional information and dimensionality to the data analysis as data is easily filtered, organised, or aggregated by groups within a group set. </para>
<para>For this aggregation to work without any duplication in the data some rules are necessary. A group set is always exclusive, which means that an orgunit cannot be member of more than one group in a group set. Therefore, when creating a new organisational unit, you will only be allowed to select a single organisational group membership for each group set. Furthermore it is possible to define whether a group set is compulsory or not, which will affect the completeness of the data when analysing data using group sets. Compulsory means that ALL orgunits must be member of a group in that group set. </para>
<para>We recommend that you approach the orgunit grouping in the following sequence (and one group set at a time):</para>
<orderedlist>
<listitem>
<para>Define a new group set, such as &quot;Location&quot;. </para>
</listitem>
<listitem>
<para>Add new groups (such as &quot;Urban&quot;, &quot;Rural&quot; and &quot;Peri-urban&quot;). Once all groups have been defined, return to the organisational unit group set and assign each of the desired groups to the group set.</para>
</listitem>
<listitem>
<para>Go back to each group, one by one, go to edit mode and assign the orgunits that should be member of the group. Should you follow this route, you can place multiple organisation units at a time in a group. However, you must be careful not to place the same organisational units in two groups which itself is a member of an organisation unit group set. This will result in a data integrity violation. If you have organisation unit groups which are not exclusive, they should not be members of a group. </para>
</listitem>
<listitem>
<para>A better way to ensure that you do not mistakedly assign an organisation unit to multiple members of a group set is you can use the edit feature of each organisational unit to assign memberships to each group set.You will only be able to assign a single organisation unit at a time however.</para>
</listitem>
</orderedlist>
<para>It is important to keep in mind when using the &quot;Organisational unit group&quot; set function, that unless great care is taken, organisational units can be assigned to multiple groups of a group set. This can be checked through the &quot;Data Integrity&quot; module, which will report which organisational units are not members of a compulsory organisational unit group set, and which organisational units have been assigned to more than one member of a group set. </para>
<section id="ou_groupsets_edit">
<title id="editOrgunitGroupSets">Editing organisation unit group sets</title>
<para>Click on the &quot;Edit&quot; <inlinegraphic fileref="resources/images/dhis2_images/edit.png" align="center"/> button next to the name of the orgunit group set that you want to modify. The following properties can be defined in the Edit (or Create new) window:</para>
<itemizedlist>
<listitem>
<para>Name: Provide a precise name for the group set.</para>
</listitem>
<listitem>
<para>Description: Describe the phenomena the group set is measuring/capturing.</para>
</listitem>
<listitem>
<para>Compulsory: Indicate whether ALL orgunits need to be member of a group in this group set or not.</para>
</listitem>
<listitem>
<para>Available groups/Selected groups: Here you assign groups to your group set by using the arrow buttons to move highlighted groups between the two lists (/selected). If no groups appear in the list then you must go to orgunit groups and create new groups there first. Note that assigning groups that will violate the exclusive rule on group sets is not possible, e.g. adding a group that already has assigned an orgunit that again is already member of a group that has already been selected by this group set, will not be possible since one orgunit will end up with two group memberships in the same group set. To avoid such situations we recommend first adding groups to group sets, and then orgunits to groups.</para>
</listitem>
</itemizedlist>
</section>
</section>
<section id="ou_groups">
<title id="orgunitGroups">Organisation unit groups</title>
<para>This function will allow you to add new and manage existing organisation groups and their memberships. It can be accessed by choosing Maintenance-&gt;Organisation units-&gt;Organisation Unit group from the main menu. To add a new orgunit group click on the &quot;Add new&quot; button in the top right corner of the list of groups. </para>
<section id="ou_groups_edit">
<title id="editOrgunitGroups">Editing organisation unit groups</title>
<para>Click on the &quot;Edit&quot; <inlinegraphic fileref="resources/images/dhis2_images/edit.png" align="center"/> button next to the name of the orgunit group that you want to modify. The following properties can be defined in the Edit (or Create new) window:</para>
<itemizedlist>
<listitem>
<para>Name: Provide a precise name for the orgunit group.</para>
</listitem>
<listitem>
<para>Organisation unit tree selection: This is where you assign orgunits to the group. The tree supports multiple selection so select all the orgunits that you want to add (the selected ones appear with orange color) and click on &quot;Save&quot;. Click on &quot;Cancel&quot; to undo your changes and return to the list of orgunit groups. Use the &quot;Select at level&quot; button and dropdown if you want to select all orgunits at a specific level in the hierarchy (e.g. all districts). </para>
</listitem>
</itemizedlist>
</section>
</section>
<section id="ou_level">
<title id="orgUnitGroupLevels">Organisation unit level</title>
<para>Here you specify a contextual name for each level in the hierarchy, e.g. &quot;Country&quot;, &quot;Province&quot;, &quot;District&quot;, &quot;Health Facility&quot;, and these names will be used all over the application where levels are referred to. This page will take some time to load if the orgunit hierarchy is very big.</para>
</section>
<section id="hierarchy_operations">
<title id="hierarchyOperations">Hierarchy operations</title>
<para>Here you can move orgunits around in the hierarchy by changing the parent of a selected orgunit. This process is done in three steps:</para>
<para>1. Select the orgunit you want to move (in the hierarchy in the left side menu) and click &quot;Confirm&quot; under the &quot;Select an organisation unit to move&quot; label.</para>
<para>2. Select the new parent orgunit (again by using the hierarchy in the left side menu). If no parent is selected then the orgunit will be moved up to root level (top of the hierarchy). Click on the &quot;Confirm&quot; button under the &quot;Select the new parent organisation unit for the one to move&quot; label.</para>
<para>3. Click on the &quot;Move&quot; button to apply your changes to the hierarchy.</para>
<para>Your changes will be immediately reflected in the left side menu hierarchy. At any time in the process (before hitting the Move button) you can click on the &quot;Reset&quot; button to unselect orgunit to move and the new parent.</para>
</section>
</section>
</chapter>
<chapter>
<title>Getting started with DHIS 2 as end-user</title>
<section>
<title>Getting started with DHIS2</title>
<para>After reading this chapter you will be able to understand:</para>
<itemizedlist>
<listitem>
<para>How to open the DHIS 2</para>
</listitem>
<listitem>
<para>How to log in and out of the application</para>
</listitem>
<listitem>
<para>How to navigate the application and access its features</para>
</listitem>
</itemizedlist>
</section>
<section>
<title>Opening DHIS 2</title>
<para>The DHIS 2 is a web-based application and will be available in an Internet browser when you have Internet connection.</para>
<para>Open a browser, we recommend Google Chrome (download installer here: http://www.google.com/chrome) and in the address field you type in the URL of the DHIS 2 (ask your technical support team for this).</para>
<para>You will then see the login screen of DHIS 2.</para>
</section>
<section>
<title>Logging in and out of the application</title>
<para>Once you can see the blue login screen of DHIS 2 you must enter your user name and password to log in to the application. If the login is not successful you will be notified that the username or password is incorrect and asked to re-enter these credentials. Once you have successfully logged in you will see the DHIS Dashboard where you can immediately monitor the latest data in your selected charts and access your favourite DHIS sites (reports, maps etc).</para>
<para>When you have finished your DHIS 2 session we recommend that you log out before closing the browser. Use the log out link in the upper right corner and you will be returned to the log in screen.</para>
<screenshot>
<screeninfo>Login screen</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/login_screen.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section>
<title>Navigating the application</title>
<para>The DHIS 2 has two menu systems; the top menu which leads to the various modules, and the left side menu inside most modules to navigate between features inside each module.</para>
<para>The DHIS 2 symbol in the top left corner is a fast link to the user-defined start page, the home page. Often this is set to the dashboard module.</para>
<para>The logout button is on the far right of the top menu.</para>
<section>
<title>The top menu - access to the modules</title>
<para>The DHIS consists of various modules (major components) which each have specific features, such as data entry, reporting, dashboard. You can access these modules from the top menu either under Maintenance or Services. Maintenance is mostly used by system administrators that maintain the application and might not be visible. Services is where you will find the more operational features like data entry, data quality and reporting. Under the top menu item Help you can access the built-in user manual, update your user details, or view information about the running DHIS application.</para>
<para>To move to a new module you need to move the mouse pointer to one of the top menu items; Maintenance, Services, or Help. Then a submenu with modules will appear. Click on the module you would like to open.</para>
</section>
<section>
<title>Navigation inside modules</title>
<para>When you open most of the modules you will see the module main page which lists the major submodules or features in the middle of the screen with a short description. Simply click on the feature you would like to open.</para>
<para>When inside a module you will always see the left side menu with links to its features. Use this menu to jump between features.</para>
<para>The data entry and dashboard modules do not have a menu system as they only contain one feature, everything is in one page, so no need for a menu there. </para>
<screenshot>
<screeninfo>Menu system</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/menu_system.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</section>
</chapter>
<chapter>
<title>What is DHIS 2?</title>
<section id="mod1_1">
<title>Background of The District Health Information Software – Version 2</title>
<highlights>
<para>After reading this chapter you will be able to understand:</para>
<itemizedlist>
<listitem>
<para>What is DHIS2 and what purpose it serves with respect to
health management information systems (HMIS)?</para>
</listitem>
<listitem>
<para>What is the difference between patient based and aggregate data?</para>
</listitem>
<listitem>
<para>What are the different modules in DHIS 2?</para>
</listitem>
<listitem>
<para>What is Free and Open Source Software (FOSS), platform
(in)dependency, and its implications for HMIS?</para>
</listitem>
<listitem>
<para>What is FOSS, platform (in)dependency, and their implications
for HMIS?</para>
</listitem>
</itemizedlist>
</highlights>
<para>Computer based HMIS allows for a transition from a data (and paper)
based HMIS to and action led HMIS. Particular strengths of a computer
based HMIS enumerated below:</para>
<itemizedlist>
<listitem>
<para>Promotes streamlining and standardisation of data
records.</para>
</listitem>
<listitem>
<para>Allows creation of an integrated warehouse, which supports
combining data from different sources and conducting cross
analysis.</para>
</listitem>
<listitem>
<para>Facilitates Rationalisation of reporting flows</para>
</listitem>
<listitem>
<para>Supports customised reporting.</para>
</listitem>
<listitem>
<para>Makes possible various kinds of indicator based analysis</para>
</listitem>
<listitem>
<para>Allows integration of various software applications such as GIS
and Excel.</para>
</listitem>
<listitem>
<para>Provides functionality to conduct data quality
validation.</para>
</listitem>
<listitem>
<para>Allows immediate on-line transmission of data / reports as and
when required by the user</para>
</listitem>
</itemizedlist>
<para>The District Health Information Software – Version 2 (DHIS 2) is
Free and Open Source Software (FOSS) HMIS designed and developed under a
global research and development initiative (called Health Information
Systems Project – HISP) originating from the Department of Informatics,
University of Oslo, Norway. The first version of DHIS application (DHIS
1.3/1.4) was developed and subsequently upgraded on an ongoing base
continuously upgraded in South Africa by HISP South Africa since 1997.
This version was developed on Microsoft Office platform, and distributed
freely. This application is currently the national standard in South Africa
and being used in all the health facilities in the country. DHIS1.4 
is being used in many countries in Africa such as Ethiopia,
Nigeria, Botswana, Tanzania, Zambia, and various other countries.</para>
<para>In 2005, based on the various comments and feedback from the field
level use, the University of Oslo initiated the process of developing
the second version of DHIS. DHIS 1.4 was used primarily as the basis for the functional
requirements. Using a modular structure DHIS2, was developed based on data
warehousing principles. DHIS2 is built on free and open source (FOSS) Java based frameworks. It is
platform independent, can run on both on-line and offline modes, is multi-language enabled and integrated with various other applications such as
Geographic Information Systems and Microsoft Excel.</para>
<para>The documentation provided in herewith, will attempt to provide a comprehensive overview of the application. Given the abstract nature of the application, this manual will not serve as a complete step-by-step guide of how to use the application in each and every circumstance, but rather will seek to provide illustrations and examples of how DHIS2 can be implemented in a variety of situations through generalized examples.</para>
</section>
<section>
<title>Purpose of DHIS2</title>
<para>The purpose of DHIS2 can be summarised as follows:</para>
<orderedlist>
<listitem>
<para>Provide a comprehensive HMIS solution based on data
warehousing principles and a modular structure which can easily be
customised to the needs of different health systems - nations,
states, districts, and facilities.</para>
</listitem>
<listitem>
<para>Provide data entry facilities which can either be in the form
of standard (scroll down) lists (of data elements), or can be
customised to replicate paper forms – to make easy the process of
data entry.</para>
</listitem>
<listitem>
<para>Provide different kinds of tools for data validation and
improvement of data quality.</para>
</listitem>
<listitem>
<para>Provide different tools for reporting – both for automated
routine reports and analysis reports, and in addition provide the
user with functionality and flexibility to make their user defined
reports.</para>
</listitem>
<listitem>
<para>A dashboard for monitoring and evaluation of health programs
that can allow for the generation and analysis of different
indicators, and also carry out data quality analysis.</para>
</listitem>
<listitem>
<para>Systems management functions to carry out various operations
to manage hierarchy of organisation units,
addition/deletion/modification of data elements etc.</para>
</listitem>
<listitem>
<para>Functionality to design and modify indicators.</para>
</listitem>
<listitem>
<para>Functionalities of export-import, so that data entered on an
offline version can be exported to the district or higher level
systems. Export import can also be made in relation to other
applications such as Excel and Epi Info.</para>
</listitem>
<listitem>
<para>Integration with other software systems – such as
<acronym>RIMS</acronym>.</para>
</listitem>
<listitem>
<para>Provision of Geographic Information Systems (GIS).</para>
</listitem>
<listitem>
<para>User management 
module for passwords, security, and access control.</para>
</listitem>
<listitem>
<para>Further modules can be
developed (such as for human resources
management) and integrated as per user needs.</para>
</listitem>
</orderedlist>
<para>In summary, DHIS2 provides a comprehensive HMIS solution for the
reporting and analysis needs of health facilities at any level. It is a
tried and tested application in various countries, and also adopted by WHO for their HMN implementations in various countries.</para>
</section>
<section>
<title>Difference between Aggregated and Patient data in a HMIS</title>
<para>
<emphasis>Patient data</emphasis> is data relating to a single patient,
such as his/her diagnosis, name, age, earlier medical history etc. This data is typically based on a single patient-health care worker interaction. For instance, when a patient visits a health care clinic, a variety of details may be recored, such as the patient&apos;s temperature, their weight, and various blood tests. Should this patient be diagnosed as having &quot;Vitamin B 12 deficiency anaemia, unspecified&quot; corresponding to ICD-10 code D51.9, this particular interaction might eventually get recorded as an instance of &quot;Anaemia&quot; in an aggregate based system. Patient based data is important when you want to track longitudinally
the progress of a patient over time. For example, if we want to track
how a patient is adhering to and responding to the process of TB
treatment (typically taking place over 6-9 months), we would need
patient based data.</para>
<para>
<emphasis>Aggregated data</emphasis> is the consolidation of data
relating to multiple patients, and therefore cannot be traced back to a
specific patient. They are merely counts, such as incidences of Malaria,
TB, or other diseases. Typically, the routine data that a health
facility deals with is this kind of aggregated statistics, and is used
for the generation of routine reports and indicators, and most importantly, strategic planning within the health system. Aggregate data cannot provide the type of detailed information which patient level data can, but is crucial for planning and guidance of the performance of health systems. </para>
<para>Patient data is highly confidential and therefore must be
protected so that no one other than doctors can get it. When in paper,
it must be properly stored in a secure place. For computers, patient
data needs secure systems with passwords and restrained access.</para>
<para>Security concerns for aggregated data are not as crucial as for
patient data, as it is usually impossible to identify a particular person to a aggregate statistic . However,
data can still be misused and misinterpreted by others, and should not
be distributed without adequate data dissemination policies in place. </para>
</section>
<section>
<title>Use of DHIS2 in HMIS: data collection, processing, interpretation, and analysis.</title>
<para>The wider context of HMIS can be comprehensively described through
the information cycle presented in Figure 1.1 below. The information
cycle pictorially depicts the different components, stages and processes
through which the data is collected, checked for quality, processed,
analysed and used.</para>
<figure>
<title>The health information cycle</title>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/dhis2UserManual/dhis2_information_cycle.png"/>
</imageobject>
</mediaobject>
</figure>
<para>DHIS2 supports the different facets of the information cycle
including:<itemizedlist>
<listitem>
<para>Collecting data.</para>
</listitem>
<listitem>
<para>Running quality checks.</para>
</listitem>
<listitem>
<para>Data access at multiple levels.</para>
</listitem>
<listitem>
<para>Reporting.</para>
</listitem>
<listitem>
<para>Making graphs and maps and other forms of analysis.</para>
</listitem>
<listitem>
<para>Enabling comparison across time (for example, previous
months) and space (for example, across facilities and
districts).</para>
</listitem>
<listitem>
<para>See trends (displaying data in time series to see their min
and max levels).</para>
</listitem>
</itemizedlist>
</para>
<para>As a first step, DHIS2 serves as a data collection, recording and
compilation tool, and all data (be it in numbers or text form) can be
entered into it. Data entry can be done in lists of data elements or in
customised user defined forms which can be developed to mimic paper based forms in order to ease the process of data entry.</para>
<para>As a next step, DHIS2 can be used to increase data quality.
Firstly, at the point of data entry, a check can be made to see if data
falls within acceptable range levels of minimum and maximum values for
any particular data element. Such checking, for example, can help to
identify typing errors at the time of data entry. Further, user can
define various validation rules, and DHIS2 can run the data through the
validation rules to identify violations.</para>
<para>When data has been entered and verified, DHIS2 can help to make
different kinds of reports. The first kind are the routine reports that
can be predefined, so that all those reports that need to be routine
generated can be done on a click of a button. Further, DHIS2 can help
in the generation of analytical reports through comparisons of for
example indicators across facilities or over time. Graphs, maps, reports
and health profiles are among the outputs that DHIS2 can produce, and
these should routinely be produced, analysed, and acted upon by health
managers.</para>
</section>
<section>
<title>Overview of DHIS2</title>
<section>
<title>Overview of DHIS2 modules</title>
<para>DHIS2 is based on a modular approach of design. A module can be
seen as an independent component of application that is capable of
both processing inputs as well as outputs, that is used to communicate
with other modules. The modules are flexible enough to allow changes
in one module without having any effect on other modules. As long as
input and output stays the same, it doesn&apos;t matter what happens inside
a module. A module can then be changed without affecting other
modules, which will be working as long as the output from the first
module comes out as normal. This modular feature allows DHIS2 to be
constantly upgraded in terms of functionality, integrated with other
applications such as Excel pivot tables and GIS. Thus modularity
allows DHIS2 to be flexible, and changes can take place in the
different modules without affecting others.</para>
<para>Currently, DHIS2 has several modules for functions such as data
entry, data quality checks, report generation etc. These modules have
been categorised and presented under two core categories namely
Maintenance and Services. The Services module supports data record,
analysis, report generation etc. And the Maintenance module allows you
to set the content and structure of the Services module. Each of these modules will be discussed at greater length in this document. </para>
</section>
<section>
<title>Web-based versus standalone HMIS and their suitability</title>
<para>DHIS2 can run both as a web based and offline application. As a
web based application, the DHIS2 application can run on a central
server and make use of client-server architecture. For example, at the
state level, the DHIS2 can run on a server, and the different
districts act as clients, drawing upon the server application through
the Internet for local use of the application.</para>
<para>In a standalone application, the DHIS2 can run as an
independent application on individual computers in different sites
such as <abbrev>PHC</abbrev>s, <abbrev>CHC</abbrev>s etc. So, if computerisation is taking place at the
Block level, then the DHIS 2 will be installed separately on each of
the block level computers. The disadvantage of a standalone
application is that of platform dependency – where the application
needs to be configured to the platform on each of the respective
machines. A thick client requires a local run-time environment. For
example a Windows Form application will only run on a Windows platform
with the .Net framework installed. The major advantage of the offline
version is that it can run without any dependency on the Internet.
This allows the application to run in remote locations where there is
limited or no Internet connectivity.</para>
<para>The main advantage of a web based solution is that it is
centralised, which enables easy, on-line updating and deployment of the
application. The only requirements on the clients’ side are to have
web browser installed on the used computer and have an Internet
connection. The hardware on the server is often more powerful than the
single computer. Another advantage of the web application is that is
platform independent, allowing the same software to be accessed
through a web browser regardless of the client’s operating
system.</para>
<para>Where connectivity is available, and there is need for
centralised management, a web based application is useful, and a
standalone application is preferred when these conditions are not
available or required. However, in most cases, a mix of these two
approaches would be required, with a server based deployment working
for district-state-national level processing, and a standalone
deployment at lower levels where connectivity is limited. The
advantage of such an approach is that it is flexible, inclusive, and
scalable because as facilities get Internet connectivity they can be
hooked up to the network.</para>
</section>
<section>
<title>Free and Open Source Software (FOSS): benefits and challenges</title>
<para>Software carries the instructions that tell a computer how to
operate. The human authored and human readable form of those
instructions is called source code. Before the computer can actually
execute the instructions, the source code must be translated into a
machine readable (binary) format, called the object code. All
distributed software includes the object code, but <abbrev>FOSS</abbrev> makes the
source code available as well.</para>
<para>Proprietary software owners license their copyrighted object
code to a user, which allows the user to run the program. <abbrev>FOSS</abbrev>
programs, on the other hand, license both the object and the source
code, permitting the user to run, modify and possibly redistribute the
programs. With access to the source code, the users have the freedom
to run the program for any purpose, redistribute, probe, adapt, learn
from, customise the software to suit their needs, and release
improvements to the public for the good of the community. Hence, some
<abbrev>FOSS</abbrev> is also known as free software, where “free” refers, first and
foremost, to the above freedoms rather than in the monetary sense of
the word.</para>
<para>Within the public health sector, <abbrev>FOSS</abbrev> can potentially have a
range of benefits, including:</para>
<itemizedlist>
<listitem>
<para>Lower costs as it does not involve paying for prohibitive
license costs.</para>
</listitem>
<listitem>
<para>Given the information needs for the health sector are
constantly changing and evolving, there is a need for the user to
have the freedom to make the changes as per the user requirements.
This is often limited in proprietary systems.</para>
</listitem>
<listitem>
<para>In the health sector, including in NRHM; a key agenda is
that of integration, which involves the technical linking of
different pieces of software (for example, DHIS 2 and RIMS). For
this, the source code needs to be made available to the developers
to create the integration. This availability is often not possible
in the case of proprietary software. And when it is, it comes at a
high cost and contractual obligations.</para>
</listitem>
<listitem>
<para>FOSS applications like DHIS2 typically are supported by a
global network of developers, and thus have access to cutting edge
research and development knowledge.</para>
</listitem>
</itemizedlist>
</section>
<section>
<title>Understanding platform independence</title>
<para>All computers have an Operating System (OS) to manage it and the
programs running it. The operating system serves as the middle layer between the
software application, such as DHIS2, and the hardware, such as the
CPU and RAM. DHIS2 runs on the Java Virtual Machine, and can therefore run on any operating system which supports Java. Platform
independence implies that the software application can run on ANY OS -
Windows, Linux, Macintosh etc. DHIS2 is platform independent, and is
extremely useful in the context of public health, where multiple operating systems may be in use. </para>
</section>
<section>
<title>Auxiliary software that can be used with DHIS2</title>
<para>A variety of auxiliary software can be run with DHIS2, such as
GIS (for mapping), JasperReports (for reporting), Excel (for analysis through
pivot table operations), OpenMRS (for patient based management). Being based on Open Standards and an
Open Architecture, DHIS2 can build bridges to speak to the other
systems. Further, auxiliary modules can be developed and integrated
with the core DHIS2 application.</para>
</section>
</section>
</chapter>
<chapter>
<title>Getting started with DHIS 2</title>
<section id="mod2_1">
<title>Getting started with DHIS 2</title>
<para>After reading this chapter you will be able to understand:</para>
<itemizedlist>
<listitem>
<para>Start DHIS 2 from the desktop</para>
</listitem>
<listitem>
<para>How to log-in from the desktop</para>
</listitem>
</itemizedlist>
<itemizedlist>
<listitem>
<para>Create new users and user roles</para>
</listitem>
</itemizedlist>
<itemizedlist>
<listitem>
<para>What steps are needed to design a DHIS 2 database for your organisation</para>
</listitem>
</itemizedlist>
<section>
<title>Prerequisites</title>
<para>You must be sure that you have a current version of the Java Runtime installed on your machine. Depending on your operating system, there are different ways of installing Java. The reader is referred to this <ulink url="http://java.sun.com/javase/downloads/index.jsp">website</ulink> for detailed information on getting java installed.</para>
</section>
<section>
<title>Starting the DHIS 2 Live package</title>
<para>The DHIS 2 Live package is the easiest way to get started with DHIS 2. DHIS 2 Live is appropriate for a stand-alone type of installation. Simply download the application from <ulink url="http://www.dhis2.org/downloads">here</ulink>.
Once the file is downloaded, you can simply double-click the downloaded file, and get started using DHIS 2. </para>
<section>
<title>Starting up with a blank database</title>
<para>The live package comes with a demo database just like what you see on the online demo (which is based on the national Sierra Leone HMIS), and if you want to start with a blank system/database and build up your own system then you need to do the following:
</para>
<para>1) Stop the DHIS 2 live if it is already running. Right click on the tray icon and select Exit.
The tray icon is the green symbol on the bottom right of your screen (on Windows) which should say&apos; DHIS 2 Server running&apos; if you hold your mouse pointer over it.</para>
<para>2) Open the folder where the DHIS 2 live package is installed and locate the folder called &quot;conf&quot;.
</para>
<para>3) In conf/ open the file called &apos;hibernate.properties&apos; in a text editor (notepad or similar) and do the following modification:
locate the string &apos;jdbc:h2:./database/dhis2&apos; and replace the &apos;dhis2&apos; part with any name that you want to give to your database (e.g. dhis2_test).</para>
<para>4) Save and close the hibernate.properties file.
</para>
<para>5) Start DHIS 2 Live by double-clicking on the file dhis2-live.exe in the DHIS 2 Live installation folder or by using a desktop shortcut or menu link that you might have set up.
</para>
<para>6) Wait for the browser window to open and the login screen to show, and then log in with username: admin and password: district
</para>
<para>7) Now you will see a completely empty DHIS 2 system and you should start by adding your users, organisational hierarchy, data elements, and datasets etc. Please refer to the other sections of the user manual for instructions on how to do this.
</para>
</section>
</section>
<section>
<title>Working directly with the H2 database</title>
<para>
DHIS 2 Live uses an embedded <ulink url="www.h2database.com/">H2</ulink> database. This has several advantages - there is no need
to install a separate database engine such as PostgresSql or MySql, and backup can be made by just copying the file. The whole db
exists in memory, which means high performance. The disadvantage is need for RAM. It is also not suitable for mulitiuser server
installations.
</para>
<para>
In general, it is recommended to work with the database through the DHIS 2 user interface, but in some situations one may need to
manipulate the data directly. If one downloads H2 separately, it comes with a web interface. It can also be manipulated using
<ulink url="http://openoffice.org">OpenOffice.org</ulink>, using the following procedure. This assumes that dhis2-live is located in
the user&apos;s Linux home directory (represented by ~). Substitute the absolute path to your dhis2-live installation.
<itemizedlist>
<listitem>
<para>Start OpenOffice Word Processor and select Tools - Options, then Java - Class Path ... and click on Add Archive...</para>
</listitem>
<listitem>
<para>Select the following file (version may differ): ~/dhis2-live/webapps/dhis/WEB-INF/lib/h2-1.1.119.jar</para>
</listitem>
<listitem>
<para>Close OpenOffice completely and then open OpenOffice.org Database. Select connect to an existing database - JDBC</para>
</listitem>
<listitem>
<para>Datasource URL is h2:~/dhis2-live/database/dhis2;AUTO_SERVER=TRUE, and JDBC driver class is org.h2.Driver</para>
</listitem>
<listitem>
<para>User name is sa, password not needed. Finally, select a name and folder for the .odb file.</para>
</listitem>
</itemizedlist>
<ulink url="http://www.oooforum.org/forum/viewtopic.phtml?t=97522">More tips</ulink>
</para>
</section>
<section>
<title>Downloading and installing the server version</title>
<para>The server version can be downloaded from dhis2.org/download. For detailed information on how to install it please refer to the installation chapter in the implementation manual.</para>
</section>
</section>
<section id="mod2_2">
<title>Logging on to DHIS 2</title>
<para>Regardless of whether you have installed the server version of the
desktop Live version, you will use a web-browser to log on to the
application. DHIS 2 should be compatible with most modern web-browsers,
although you will need to ensure that Java Script is enabled.</para>
<para>To log on to the application just enter <ulink url="http://localhost:8080/dhis" type="">http://localhost:8080/dhis</ulink> if you
are using the DHIS 2 live package, or replace localhost with the name or IP
address of the server where the server version is installed.</para>
<para>Once you have started DHIS 2, either on-line or offline, the displayed
screen will prompt you to enter your registered ‘user name’ and
‘password’. After entering the required information click on log-in button
to log into the application. The default user name and password are &apos;admin&apos; and &apos;district&apos;. They should be changed immediately upon logging on the first time. </para>
</section>
<section id="users">
<title>Creating new users and roles</title>
<para>This section will describe how to add new users to the DHIS 2
application.</para>
<section>
<title>Open User Menu</title>
<para>To create or find a user begin with clicking on the ‘user’ module
displayed in the drop down menu of the Maintenance module located on the
main tool bar on the top part of the displayed screen.</para>
<screenshot>
<screeninfo>Select Users menu item</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/select_user_menu.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>User names already registered will appear as a list as seen in the screen shot below.</para>
<screenshot>
<screeninfo>Search by user name</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/search_user_by_name.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>You can search for specific user names in the user list by
entering the name in the ‘filter by user name’ field as shown
above.</para>
</section>
<section id="user_roles">
<title>Define a new role</title>
<para>As part of creating a user name you are required to define the user
role. Do so by clicking on the ‘user role’ appearing on the left side of
the displayed screen. This will lead you to the Role Management page where you will have
to click on <guibutton>Add new</guibutton> to create a new role.</para>
<screenshot>
<screeninfo>Add new user role</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/add_user_role.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The following screen will open and here in the first text box you
need to give Name of the Role such as Super User, Admin User, etc. The
second text box called ‘Description’ gives more information about the
type of User Role that is being created for e.g. State Admin User,
District Data Entry.</para>
<screenshot>
<screeninfo>Role maintenance page</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/role_maintenance_page.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Next you will specify the particular data set(s) that are to be
made available to the particular role. You will also need to specify the
type of ‘authority’ to be given to the particular user. For each of the
three options namely Datasets, Reports and Authorities user can select
multiple options from the scroll down menu provided against each field.
A user can choose multiple options either by moving them
one-by-one.</para>
<para>In order for particular users to be able to enter data, you must
add them to both a dataset as well as an organisational unit level. You
can also select multiple datasets individually by pressing the Ctrl key
on the keyboard and clicking on individual datasets.</para>
<para>Finally when you have entered the required fields click on
<guibutton>Save</guibutton> which is located on the lower part of the
displayed screen. The desired user role and related authorisation will
be saved to the database, and can then be assigned to a particular
user.</para>
</section>
<section>
<title>Add New User</title>
<para>Under particular user role there can be more than one user. To add
new users go to the User options under the Maintenance module.</para>
<para>To add a new user, just follow these steps:</para>
<itemizedlist>
<listitem>
<para>Click on the <guibutton>Add New</guibutton> button.</para>
</listitem>
<listitem>
<para>Enter New User details like <guilabel>User name</guilabel>, <guilabel>Password</guilabel>, <guilabel>Confirm password</guilabel>, <guilabel>Surname</guilabel>, <guilabel>First name</guilabel> and <guilabel>Email</guilabel> in new user’s option tabs.</para>
</listitem>
<listitem>
<para>Click on <guibutton>Add</guibutton> button for confirmation of
new user details and follow the user error while creation of new
user.</para>
</listitem>
<listitem>
<para>The recently created new user can be seen in main’ User
management Screen</para>
</listitem>
<listitem>
<para>You can edit (like password, surname….etc) and delete the
details of new/old users by selecting corresponding User’s
<guibutton>Edit</guibutton> and <guibutton>Delete</guibutton>
Buttons.</para>
</listitem>
<listitem>
<para>Click on <guibutton>Save</guibutton> tab after editing all
details of a particular selected user.</para>
<screenshot>
<screeninfo>User management screen</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/user_management.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</listitem>
</itemizedlist>
</section>
</section>
<section id="mod2_4">
<title>Logging out of DHIS 2</title>
<para>Just click on the Log out link in the top right corner to exit the application.</para>
</section>
<section id="database_design">
<title>Quick intro to designing a DHIS 2 database</title>
<para>The DHIS 2 application comes with a set of tools for data collection, validation, reporting and analysis, but the contents of the database, e.g. what to collect, who should collect it and on what format will depend on the context of use. This metadata need to be populated into the application before it can be used, and this can be done through the user interface and requires no programming or in-depth technical skills of the software. We call this initial process database design or customisation.</para>
<para>This section will provide a very quick and brief introduction to DHIS 2 database design and mainly explain the various steps needed to prepare a new DHIS 2 system for use. How to do each step is explained in other chapters, and best practices on design choices will be explained in an implementers manual (expected during first half of 2011). Here are the steps to follow:</para>
<para>1. Set up an organisational hierarchy</para>
<para>2. Define data elements</para>
<para>3. Define data sets and data entry forms</para>
<para>4. Define validation rules</para>
<para>5. Define indicators</para>
<para>6. Define report tables and design reports</para>
<para>7. Set up the GIS module</para>
<para>8. Design charts and customise the dashboard</para>
<section>
<title>The organisational hierarchy</title>
<para>The organisational hierarchy defines the organisation using the DHIS 2, the health facilities, administrative areas and other geographical areas used in data collection and data analysis. This dimension to the data is defined as a hierarchy with one root unit (e.g. Ministry of Health) and any number of levels and nodes below. Each node in this hierarchy is called an organisational unit in DHIS 2. The design of this hierarchy will determine the geographical units of analysis available to the users as data is collected and aggregated in this structure. There can only be one organisational hierarchy at the same time so its structure needs careful consideration. Additional hierarchies (e.g. parallel administrative boundaries to the health care sector) can be modelled using organisational groups and group sets, but the organisational hierarchy is the main vehicle for data aggregation on the geographical dimension. Typically national organisational hierarchies in public health have 4-6 levels, but any number of levels is supported. The hierarchy is built up of parent-child relations, e.g. a Country or MoH unit (the root) might have e.g. 8 parent units (provinces), and each province again ( at level 2) might have 10-15 districts as their children. Normally the health facilities will be located at the lowest level, but they can also be located at higher levels, e.g. national or provincial hospitals, so skewed organisational trees are supported (e.g. a leaf node can be positioned at level 2 while most other leaf nodes are at level 5). Typically there is a geographical hierarchy defined by the health system. e.g. where the administrative offices are located (e.g. MoH, province, district), but often there are other administrative boundaries in the country that might or might not be added, depending on how its boundaries will improve data analysis. When designing the hierarchy the number of children for any organisational unit may indicate the usefulness of the structure, e.g. having one or more 1-1 relationships between two levels is not very useful as the values will be the same for the child and the parent level. On the other extreme a very high number of children in the middle of the hierarchy (e.g. 50 districts in a province) might call for an extra level to be added in between to increase the usefulness of data analysis. The lowest level, the health facilities will often have a large number of children (10-60), but for other levels higher up in the hierarchy approx. 5-20 children is recommended. To few or too many children might indicate that a level should be removed or added. Note that it is quite easy to make changes to the upper levels of the hierarchy at a later stage, the only problem is changing organisational units that collect data (the leaf nodes), e.g. splitting or merging health facilities. Aggregation up the hierarchy is done based on the current hierarchy at any time and will always reflect the most recent changes to the organisational structure. Refer to the chapter on Organisation Units to learn how to create organisational units and to build up the hierarchy.</para>
</section>
<section>
<title>Data Elements</title>
<para>The Data Element is perhaps the most important building block of a DHIS 2 database. It represents the &quot;WHAT&quot; dimension, it explains what is being collected or analysed. In some contexts this is referred to an indicator, but in DHIS 2 we call this unit of collection and analysis a <emphasis role="italic">data element</emphasis>. The data element often represents a count of something, and its name describes what is being counted, e.g. &quot;BCG doses given&quot; or &quot;Malaria cases&quot;. When data is collected, validated, analysed, reported or presented it is the data elements or expressions built upon data elements that describes the WHAT of the data. As such the data elements become important for all aspects of the system and they decide not only how data is collected, but more importantly how the data values are represented in the database, which again decides how data can be analysed and presented. </para>
<para>It is possible to add more details to this &quot;WHAT&quot; dimension through the disaggregation dimension called data element categories. Some common categories are Age and Gender, but any category can be added by the user and linked to specific data elements. The combination of a data element&apos;s name and its assigned category defines the smallest unit of collection and analysis available in the system, and hence describes the raw data in the database. Aggregations can be done when zooming out of this dimension, but no further drill-down is possible, so designing data elements and categories define the detail of the analysis available to the system (on the WHAT dimension). Changes to data elements and categories at a later stage in the process might be complicated as these will change the meaning of the data values already captured in the database (if any). So this step is one of the more decisive and careful steps in the database design process.</para>
<para>One best practice when designing data elements is to think of data elements as a unit of data analysis and not just as a field in the data collection form. Each data element lives on its own in the database, completely detached from the collection form, and reports and other outputs are based on data elements and expressions/formulas composed of data elements and not the data collection forms. So the data analysis needs should drive the process, and not the look an feel of the data collection forms. A simple rule of thumb is that the name of the data element must be able to stand on its own and describe the data value also outside the context of its collection form. E.g. a data element name like &quot;Total referrals&quot; makes sense when looking at it in either the &quot;RCH&quot; form or the &quot;OPD&quot; form, but on its own it does not uniquely describe the phenomena (who are being referred?), and should in stead be called &quot;Total referrals from Maternity&quot; or &quot;Total referrals from OPD&quot;. Two different data elements with different meanings, although the field on the paper form might only say &quot;Total referrals&quot; since the user of the form will always know where these referrals come from. In a database or a repository of data elements this context is no longer valid and therefore the names of the data elements become so important in describing the data. </para>
<para>Common properties of data elements can be modelled through what is called data element groups. The groups are completely flexible in the sense that they are defined by the user, both their names and their memberships. Groups are useful both for browsing and presenting related data, but can also be used to aggregate data elements together. Groups are loosely coupled to data elements and not tied directly to the data values which means they can be modified and added at any point in time without interfering with the raw data. </para>
</section>
<section>
<title>Datasets and data entry forms</title>
<para>All data entry in DHIS 2 is organised through the use of Datasets. A Dataset is a collection of data elements grouped together for data collection, and in the case of distributed installs they also define chunks of data for export and import between instances of DHIS 2 (e.g. from a district office local installation to a national server). Datasets are not linked directly to the data values, only through their data elements and frequencies, and as such a dataset can be modified, deleted or added at any point in time without affecting the raw data already captured in the system, but such changes will of course affect how new data will be collected. </para>
<para>A dataset has a period type which controls the data collection frequency, which can be daily, weekly, monthly, quarterly, six-monthly, or yearly. Both which data elements to include in the dataset and the period type is defined by the user, together with a name, short name, and code.</para>
<para>In order to use a dataset to collect data for a specific orgunit you must assign the orgunit to the dataset, and this mechanism controls which orgunits that can use which datasets, and at the same time defines the target values for data completeness (e.g. how many health facilities in a district expected to submit RCH data every month). </para>
<para>A data element can belong to multiple datasets, but this requires careful thinking as it may lead to overlapping and inconstant data being collected if e.g. the datasets are given different frequencies and are used by the same orgunits.
</para>
<section>
<title>Data entry forms</title>
<para>Once you have assigned a dataset to an orgunit that dataset will be made available in Data Entry (under Services) for the orgunits you have assigned it to and for the valid periods according to the dataset&apos;s period type. A default data entry form will then be shown, which is simply a list of the data elements belonging to the dataset together with a column for inputting the values. If your dataset contains data elements with categories such as age groups or gender, then additional columns will be automatically generated in the default form based on the categories. In addition to the default list-based data entry form there are two more alternatives, the section-based form and the custom form.</para>
<section>
<title>Section forms</title>
<para>Section forms allow for a bit more flexibility when it comes to using tabular forms and are quick and simple to design. Often your data entry form will need multiple tables with subheadings, and sometimes you need to disable (grey out) a few fields in the table (e.g. some categpories do not apply to all data elements), both of these functions are supported in section forms. After defining a dataset you can define it&apos;s sections with subsets of dataelements, a heading and possible grey fields i the section&apos;s table. The order of sections in a datsaset can also be defined. In Data Entry you can now start using the Section form (should appear automatically when sections are available for the selected dataset). You can switch between default and section forms in the top right corner of the data entry screen. Most tabular data entry forms should be possible to do with sections forms, and the more you can utilise the section forms (or default forms) the easier it is for you. If these two types of forms are not meeting your requirements then the third option is the completely flexible, although more time-consuming, custom data entry forms.</para>
</section>
<section>
<title>Custom Forms</title>
<para>When the form you want to design is too complicated for the default or section forms then your last option is to use a custom form. This takes more time, but gives you full flexibility in term of the design. In DHIS 2 there is a built in HTML editor (FcK Editor) for the form designer and you can either design the form in the UI or paste in your html directly (using the Source window in the editor. In the custom form you can insert static text or data fields (linked to data elements + category) in any position on the form and you have complete freedom to design the layout of the form. Once a custom form has been added to a dataset it will be available in data entry and used automatically. You can switch back to default and section (if exists) forms in the top right corner of the data entry screen. </para>
</section>
</section>
</section>
<section>
<title>Validation rules</title>
<para>Once you have set up the data entry part of the system and started to collect data then there is time to define data quality checks that help to improve the quality of the data being collected. You can add as many validation rules as you like and these are composed of left and right side expressions that again are composed of data elements, with an operator between the two sides. Typical rules are comparing subtotals to totals of something. E.g. if you have two data elements &quot;HIV tests taken&quot; and &quot;HIV test result positive&quot; then you know that in the same form (for the same period and organisational unit) the total number of tests must always be equal or higher than the number of positive tests. These rules should be absolute rules meaning that they are mathematically correct and not just assumptions or &quot;most of the time correct&quot;. The rules can be run in data entry, after filling each form, or as a more batch like process on multiple forms at the same time, e.g. for all facilities for the previous reporting month. The results of the tests will list all violations and the detailed values for each side of the expression where the violation ocurred to make it easy to go back to data entry and correct the values.</para>
</section>
<section>
<title>Indicators</title>
<para>Indicators represent perhaps the most powerful data analysis feature of the DHIS 2. While data elements represent the raw data (counts) being collected the indicators represent formulas providing coverage rates, incidence rates, ratios and other formula-based units of analysis. An indicator is made up of a factor (e.g. 1, 100, 100, 100 000), a numerator and a denominator, the two latter are both expressions based on one or more data elements. E.g. the indicator &quot;BCG coverage &lt;1 year&quot; is defined a formula with a factor 100, a numerator (&quot;BCG doses given to children under 1 year&quot;) and a denominator (&quot;Target population under 1 year&quot;). The indicator &quot;DPT1 to DPT3 drop out rate&quot; is a formula of 100 % x (&quot;DPT1 doses given&quot;- &quot;DPT3 doses given&quot;) / (&quot;DPT1 doses given&quot;). </para>
<para>Most report modules in DHIS 2 support both data elements and indicators and you can also combine these in custom reports, but the important difference and strength of indicators versus raw data (data element&apos;s data values) is the ability to compare data across different geographical areas (e.g. highly populated vs rural areas) as the target population can be used in the denominator.</para>
<para>Indicators can be added, modified and deleted at any point in time without interfering with the data values in the database. </para>
</section>
<section>
<title>Report tables and reports</title>
<para>Standard reports in DHIS 2 is a very flexible way of presenting the data that has been collected. Data can be aggregated by any organisational unit or orgunit level, by data element, by indicators, as well as over time (e.g. monthly, quarterly, yearly). The report tables are custom data sources for the standard reports and can be flexibly defined in the user interface and later accessed in external report designers such as iReport or BIRT. These report designs can then be set up as easily accessible one-click reports with parameters so that the users can run the same reports e.g. every month when new data is entered, and also be relevant to users at all levels as the organisational unit can be selected at the time of running the report.</para>
</section>
<section>
<title>GIS</title>
<para>In the integrated GIS module you can easily display your data on maps, both on polygons (areas) and as points (health facilities), and either as data elements or indicators. By providing the coordinates of your organisational units to the system you can qucikly get up to speed with this module. See the GIS section for details on how to get started. </para>
</section>
<section>
<title>Charts and dashboard</title>
<para>On of the easiest way to display your indicator data is through charts. An easy to use chart dialogue will guide you through the creation of various types of charts with data on indicators, organisational units and periods of your choice. These charts can easily be added to one of the four chart sections on your dashboard and there be made easily available right after log in. Make sure to set the dashboard module as the start module in user settings. </para>
</section>
</section>
</chapter>
<chapter>
<title>Indicators</title>
<para>When the ‘Data Elements and Indicators’ options is chosen from the main Maintenance menu, the following screen appears:</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_main.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>From the left side menu or by scrolling down the central area you can access the various sections on Indicators; </para>
<para>Indicator, Indicator Type, Indicator Group, Indicator Group Editor, and Indicator Group Set. </para>
<section>
<title>Indicator maintenance</title>
<para>Indicator maintenance functions essentially the same as each of the respective sections in the previous section on data elements. The basic operations will be described in this section, but the reader should refer to the corresponding sections above for detailed instructions. </para>
<section id="indicator">
<title>Indicators</title>
<para>Indicators are composed of multiple data elements, and typically consist of a numerator and denominator. Indicators are never entered in DHIS2, but are derived from combinations of data elements and factors. Indicators are used to calculate coverage rates, incidence and other values are are a result of data element values that have been entered into the system. </para>
<para>To access the Indicator maintains page, press Maintenance -&gt; Data Element and Indicators -&gt; Indicator from the main DHIS2 menu. Similar to data elements, you can add, delete, modify and view extra information about the indicators in the system. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/indicator_maintenance_main.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Indicators can be filtered by entering the name or a part of the indicator name in the &quot;Filter by name&quot; field. Similar to data elements, indicators can be added by pressing the &quot;Add new&quot; button. Other operations available from this menu are as follows. </para>
<itemizedlist>
<listitem>
<para><inlinegraphic fileref="resources/images/dhis2_images/edit.png"/> Existing indicators can be edited. </para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/dhis2_images/i18n.png"/> Translate an existing indicator. </para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/dhis2_images/delete.png"/> Delete an existing indicator. </para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/dhis2_images/information.png"/> Get detailed information about this indicator. </para>
</listitem>
</itemizedlist>
<para>To add a new indicator, click the &quot;Add new&quot; button. The following screen is displayed. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/indicator_add.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Each of the fields marked with an asterisk are compulsory. A description of each field is provided below. </para>
<itemizedlist>
<listitem>
<para>Name: The full name of the indicator, such as &quot;Incidence of confirmed malaria cases per 1000 population&quot;</para>
</listitem>
<listitem>
<para>Short name: An abbreviated name of the indicator such as &quot;Inc conf. malaria per 1000 pop&quot;. The short name must be less than or equal to 25 characters, including spaces.</para>
</listitem>
<listitem>
<para>Alternative name: An additional field for a possible alternative name of the indicator. </para>
</listitem>
<listitem>
<para>Code: In many countries, indicators are often assigned a particular code. This code can be entered here. </para>
</listitem>
<listitem>
<para>Description: A brief, informative description of the indicator and how it is calculated can be entered here. </para>
</listitem>
<listitem>
<para>Annualized: Determines whether or not an annualization factor is applied during the calculation of the indicator. Typically, annualized indicator&apos;s numerator are multiplied by a factor of 12, and the denominator is for instance a yearly population figure. This allows for monthly coverage values to be calculated with yearly population figures.</para>
</listitem>
<listitem>
<para>Type: This field will determine a factor that will automatically be applied during the calculation of the indicator. Possible choices are determined by the Indicator Types (described below). For instance, a &quot;Percent&quot; indicator will automatically be multiplied by a factor of 100 when exported to the data mart, so that it will display as a percentage. </para>
</listitem>
<listitem>
<para>URL: Can be used as a link to an indicator registry, where a full metadata description of the indicator can be made available. </para>
</listitem>
</itemizedlist>
<para>To define the numerator and denominator, simply press the respective button, and the following dialogue will be displayed. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/indicator_numerator_denominator.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Essentially, an indicator is a formula that can be composed of multiple data elements, constant factors, and mathematical operators. In order to define a new indicator proceed with the following steps. </para>
<orderedlist>
<listitem>
<para>Enter at least the required fields (Name and short name) from the indicator maintenance screen.</para>
</listitem>
<listitem>
<para>Next, press &quot;Edit numerator&quot; from the main indicator maintenance screen. This will provide a dialog where you can define the actual formula of the indicator&apos;s numerator..</para>
</listitem>
<listitem>
<para>A description of the numerator/denominator must be provided in the &quot;Description field&quot;. This should provide a clear description of </para>
</listitem>
<listitem>
<para>Define the formula of the indicator by selecting the data elements that should compose the numerator from the &quot;Data elements&quot; field. Simply select the data element, and double click it. It will now appear in the formula. You formula must be mathematically valid, including the proper use of parentheses when necessary. You can double click on each of the mathematical operator buttons below the indicator formula definition to add them to your formula. </para>
</listitem>
<listitem>
<para>Click the Save button to save all changes to the numerator. Click cancel to discard any changes that you have made. </para>
</listitem>
<listitem>
<para>Follow the same procedure in order to define the denominator. </para>
</listitem>
</orderedlist>
</section>
<section id="indicatorType">
<title>Indicator types</title>
<para>Indicator types simply define a factor that will be applied during aggregation. Indicator values that are calculate during a data mart export or report table generation process will appear properly formatted, and will therefore not require an additional multiplier (e.g. 100 in the case of percents) for the values to appear correctly formatted. </para>
<para>The indicator type maintenance panel has all of the same functions (Add new, Edit, Translate, Delete, and Information) as the Indicator maintenance section. </para>
<para>There are only two fields that need to be filled-in to create an indicator type, Name and Factor, as seen below. Name refers to the Indicator type (e.g. Per cent, Per thousand, Per ten thousand, etc). The factor is the numeric factor that will be applied during the calculation of the indicator. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/indicator_type.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<note>
<para>As of version 2.4 of DHIS2, the &quot;Calculated data element&quot; object has been deprecated. Instead, a calculated data element can be created by creating an indicator type with a factor of &quot;1&quot; and by setting the &quot;Number&quot; option to &quot;Yes&quot;. The effect of setting the &quot;Number&quot; option to &quot;Yes&quot; will be that the indicator will effectively not have a denominator. You will therefore only be able to define a numerator, which will serve as the formula of the calculated data element.</para>
</note>
</section>
<section id="indicatorGroup">
<title>Indicator groups</title>
<para>Indicator groups function essentially the same as data element groups. Multiple indicators can be assigned to a group for easy filtering and analysis. To assign indicators to groups, simple press Maintenance-&gt;Data elements and indicators-&gt;Indicator groups. See the section on Data element groups for detailed instructions of how to use this module. </para>
</section>
<section id="indicatorGroupEditor">
<title>Indicator group editor</title>
<para>The indicator group editor module functions essentially the same as the data element group editor module, except on indicators. You can easily rearrange the groups that indicators belong to with this module. To access it, choose To assign indicators to groups, simple press Maintenance-&gt;Data elements and indicators-&gt;Indicator group editor from the main menu. See the section on Data element group editor for further instructions. </para>
</section>
<section id="indicatorGroupSet">
<title>Indicator group sets</title>
<para>Similar to data element group sets, indicator group sets serve to create combined groups of similar indicators. For instance, you might have a group of indicators called &quot;Malaria&quot; and &quot;Leishmaniasis&quot;. Both of these groups could be combined into a group set called &quot;Vector-borne diseases&quot;. Indicator groups sets are used during analysis of data to combine similar themes of indicators. To access this module choose Maintenance-&gt;Data elements and indicators-&gt;Indicator group sets from the main menu. The following dialogue will appear. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/indicator_group_sets.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Supply a name for the indicator group set, and then move the desired members from the &quot;Available Indicator Groups&quot; to the &quot;Group members&quot;. Click &quot;Add&quot; to save your changes and &quot;Cancel&quot; to discard any changes. </para>
</section>
</section>
</chapter>
<chapter>
<title>Web API</title>
<para>The Web API is a component which makes it possible for external systems to access and manipulate data stored in an instance of DHIS 2. More precisely, it provides a programmatic interface to a wide range of exposed data and service methods for applications such as third-party software clients, web portals and internal DHIS 2 modules.</para>
<section>
<title>Introduction</title>
<para>The Web API adheres to many of the principles behind the REST architectural style. To mention some few and important ones:</para>
<orderedlist>
<listitem>
<para>The fundamental building blocks are referred to as <emphasis role="italic">resources</emphasis>. A resource can be anything exposed to the Web, from a document to a business process - anything a client might want to interact with. The information aspects of a resource can be retrieved or exchanged through resource <emphasis role="italic">representations</emphasis>. A representation is a view of a resource&apos;s state at any given time. For instance, the <emphasis role="italic">reportTable</emphasis> resource in DHIS represents a tabular report of aggregated data for a certain set of parameters. This resource can be retrieved in a variety of representation formats including HTML, PDF, and MS Excel.</para>
</listitem>
<listitem>
<para>All resources can be uniquely identified by a <emphasis role="italic">URI</emphasis> (also referred to as <emphasis role="italic">URL</emphasis>). All resources have a default representation. You can indicate that you are interested in a specific representation by supplying an <emphasis role="italic">Accept</emphasis> HTTP header, a file extension or a <emphasis role="italic">format</emphasis> query parameter. So in order to retrieve the PDF representation of a report table you can supply a <emphasis role="italic">Accept: application/pdf</emphasis> header or append <emphasis role="italic">.pdf</emphasis> or <emphasis role="italic">?format=pdf</emphasis> to your request URL.</para>
</listitem>
<listitem>
<para>Interactions with the API requires correct use of HTTP <emphasis role="italic">methods</emphasis> or <emphasis role="italic">verbs</emphasis>. This implies that for a resource you must issue a <emphasis role="italic">GET</emphasis> request when you want to retrieve it, <emphasis role="italic">POST</emphasis> request when you want to create one, <emphasis role="italic">PUT</emphasis> when you want to update it and <emphasis role="italic">DELETE</emphasis> when you want to remove it. So if you want to retrieve the default representation of a report table you can send a GET request to e.g. <emphasis role="italic">/reportTable/iu8j/hYgF6t</emphasis>, where the last part is the report table identifier.</para>
</listitem>
<listitem>
<para>Resource representations are <emphasis role="italic">linkable</emphasis>, meaning that representations advertise other resources which are relevant to the current one by embedding links into itself. This feature greatly improves the usability and robustness of the API as we will see later. For instance, you can easily navigate to the indicators which are associated with a report table from the <emphasis role="italic">reportTable</emphasis> resource through the embedded links using your preferred representation format.</para>
</listitem>
</orderedlist>
<para>While all of this might sound complicated, the Web API is actually very simple to use. We will proceed with a few practical examples.</para>
</section>
<section>
<title>Example: Sending data values</title>
<para>A common use-case for system integration is the need to send a set of data values from a third-party system into DHIS. In this example we will use the DHIS 2 demo on <ulink url="http://apps.dhis2.org/demo"/> as basis and we recommend that you follow the provided links with a web browser while reading (log in with <emphasis role="italic">admin</emphasis><emphasis role="italic">/district</emphasis> as username/password). We assume that we have collected case-based data using a simple software client running on mobile phones for the <emphasis role="italic">Mortality &lt;5 years</emphasis> data set in the community of <emphasis role="italic">Ngelehun CHC</emphasis> (in <emphasis role="italic">Badjia</emphasis> chiedom, <emphasis role="italic">Bo</emphasis> district) for the month of January 2012. We have now aggregated our data into a statistical report and want to send that data to the national DHIS 2 instance.</para>
<para>The entry point for the Web API running on the demo instance is <ulink url="http://apps.dhis2.org/demo/api"/>. The entry point provides a convenient HTML page with links to all of the available resources in the Web API. The resource which is most appropriate for our purpose of sending data values is the <emphasis role="italic">dataValueSets</emphasis> resource. A data value set represents a set of data values which have a logical relationship, usually from being captured off the same data entry form. We follow the link to the HTML representation which will take us to <ulink url="http://apps.dhis2.org/demo/api/dataValueSets"/>. The default representation is a HTML page which provides us with useful instructions on how to interact with this resources. It tells us that we can use the POST verb to send values using a XML format defined by the <emphasis role="italic">http://dhis2.org/schema/dxf/2.0</emphasis> namespace:</para>
<screen>&lt;dataValueSet xmlns=&quot;http://dhis2.org/schema/dxf/2.0&quot; period=&quot;periodISODate&quot; dataSet=&quot;dataSetID&quot; orgUnit=&quot;orgUnitID&quot;&gt;
&lt;dataValue dataElement=&quot;dataElementID&quot; value=&quot;1&quot; /&gt;
&lt;dataValue dataElement=&quot;dataElementID&quot; value=&quot;2&quot; /&gt;
&lt;dataValue dataElement=&quot;dataElementID&quot; value=&quot;3&quot; /&gt;
&lt;/dataValueSet&gt;</screen>
<para><emphasis role="italic">Note:</emphasis> We have omitted the <emphasis role="italic">categoryOptionCombo</emphasis> attribute as it is optional and not needed for this example.</para>
<para>From the example we can see that we need to identify the period, the data set, the org unit (facility) and the data elements for which to report. The <emphasis role="italic">dataValueSets</emphasis> resource description tells us that the identifier for monthly periods should be on the format <emphasis role="italic">yyyyMM</emphasis> which means that we will use <emphasis role="italic">201201</emphasis> for January 2012.</para>
<para>To obtain the identifier for the data set we return to the the entry point at <ulink url="http://apps.dhis2.org/demo/api"/> and follow the embedded link pointing at the <emphasis role="italic">dataSets</emphasis> resource located at <ulink url="http://apps.dhis2.org/demo/api/dataSets"/>. From there we find and follow the link to the <emphasis role="italic">Mortality &lt; 5 years</emphasis> data set which leads us to <ulink url="http://apps.dhis2.org/demo/api/dataSets/pBOMPrpg1QX"/>. What we did was effectively to retrieve the HTML representation of our data set of interest, and from it we can easily see the identifier, which is <emphasis role="italic">pBOMPrpg1QX</emphasis>. The resource representation for the <emphasis role="italic">Mortality &lt; 5 years</emphasis> data set conveniently advertises links to the data elements which are members of it. From here we can follow these links and obtain the identifiers of the data elements. For brevity we will only report on three data elements: <emphasis role="italic">Measles</emphasis> with id <emphasis role="italic">f7n9E0hX8qk</emphasis>, <emphasis role="italic">Dysentery</emphasis> with id <emphasis role="italic">Ix2HsbDMLea</emphasis> and <emphasis role="italic">Cholera</emphasis> with id <emphasis role="italic">eY5ehpbEsB7</emphasis>.</para>
<para>What remains is to get hold of the identifier of the facility (org unit). Again the <emphasis role="italic">dataSet</emphasis> representation conveniently provides link to org units which report on it so we search for<emphasis role="italic"> Ngelehun CHC</emphasis> and follow the link to the HTML representation at <ulink url="http://apps.dhis2.org/demo/api/organisationUnits/DiszpKrYNg8"/>, which tells us that the identifier of this org unit is <emphasis role="italic">DiszpKrYNg8</emphasis>.</para>
<para>From our case-based data we assume that we have 12 cases of measles, 14 cases of dysentery and 16 cases of cholera. We have now gathered enough information to be able to put together the XML data value set message:</para>
<screen>&lt;dataValueSet xmlns=&quot;http://dhis2.org/schema/dxf/2.0&quot; period=&quot;201201&quot; dataSet=&quot;pBOMPrpg1QX&quot; orgUnit=&quot;DiszpKrYNg8&quot;&gt;
&lt;dataValue dataElement=&quot;f7n9E0hX8qk&quot; value=&quot;12&quot; /&gt;
&lt;dataValue dataElement=&quot;Ix2HsbDMLea&quot; value=&quot;14&quot; /&gt;
&lt;dataValue dataElement=&quot;eY5ehpbEsB7&quot; value=&quot;16&quot; /&gt;
&lt;/dataValueSet&gt;</screen>
<para>To perform functional testing we will use the cURL tool (<ulink url="http://curl.haxx.se"/>) which provides an easy way of transferring data using HTTP. First we save the data value set XML content in a file called <emphasis role="italic">datavalueset.xml</emphasis> . From the directory where this file resides we invoke the following from the command line:</para>
<para><code>curl -d @datavalueset.xml &quot;http://apps.dhis2.org/demo/api/dataValueSets&quot; -H &quot;Content-Type:application/xml&quot; -u admin:district -v</code></para>
<para>The command will dispatch a request to the demo Web API, set <emphasis role="italic">application/xml</emphasis> as the content-type and authenticate using admin/district as username/password. If all goes well this will return a <emphasis role="italic">200 OK</emphasis> HTTP status code. You can verify that the data has been received by opening the data entry module in DHIS 2 and select the org unit, data set and period used in this example.</para>
<para>The API follows normal semantics for error handling and HTTP status codes. If you supply an invalid username or password, <emphasis role="italic">401 Unauthorized</emphasis> is returned. If you supply a content-type other than application/xml, <emphasis role="italic">415 Unsupported Media Type</emphasis> is returned. If the XML content is invalid according to the DXF namespace, <emphasis role="italic">400 Bad Request</emphasis> is returned. If you provide an invalid identifier in the XML content, <emphasis role="italic">409 Conflict</emphasis> is returned together with a descriptive message.</para>
<para>In this example, cURL will authenticate to the server through <emphasis role="italic">basic authentication</emphasis> using our supplied username and password as credentials. Basic authentication is a technique for clients to send login credentials over HTTP to a web server. Technically speaking, the username is appended with a colon and the password, Base64-encoded and supplied as the value of the <emphasis role="italic">Authorization</emphasis> HTTP header. An important note is that this authentication scheme provides no security since the username and password is sent in plain text and can be easily decoded. Using it is recommended only if the server is using SSL/TLS (HTTPS) to encrypt communication between itself and the client.</para>
<para>In a real-world scenario, looking up identifiers, constructing and dispatching XML messages would be the task of the client software application. This software would probably interact with the more machine-friendly XML and JSON resource representations and not the human-friendly HTML representations like we did in this example. Developing creative and robust consumers of the Web API services begins here.</para>
</section>
<section>
<title>Example: Writing and reading messages</title>
<para>DHIS 2 features a mechanism for sending messages for purposes such as user feedback, notifications and general information to users. Messages are delivered to the DHIS 2 message inbox but can also be sent to the user&apos;s email addresses and mobile phones as SMS. In this example we will see how we can utilize the Web API to send and read messages. We will pretend to be the <emphasis role="italic">DHIS Administrator</emphasis> user and send a message to the <emphasis role="italic">Mobile</emphasis> user. We will then pretend to be the mobile user and read our new message.</para>
<para>The resource we need to interact with when sending and reading messages is the <emphasis role="italic">messageConversations</emphasis> resource. We start by visiting the Web API entry point at <ulink url="http://apps.dhis2.org/demo/api"/> where we find and follow the link to the <emphasis role="italic">messageConversations</emphasis> resource at <ulink url="http://apps.dhis2.org/demo/api/messageConversations"/>. The description tells us that we can use a POST request to create a new message using the following XML format:</para>
<para><screen>&lt;message xmlns=&quot;http://dhis2.org/schema/dxf/2.0&quot;&gt;
&lt;subject&gt;This is the subject&lt;/subject&gt;
&lt;text&gt;This is the text&lt;/text&gt;
&lt;users&gt;
&lt;user id=&quot;user1ID&quot; /&gt;
&lt;user id=&quot;user2ID&quot; /&gt;
&lt;user id=&quot;user3ID&quot; /&gt;
&lt;/users&gt;
&lt;/message&gt;</screen></para>
<para>Since we want to send a message to our friend the mobile user we need to look up her identifier. We do so by going to the Web API entry point and follow the link to the <emphasis role="italic">users</emphasis> resource at <ulink url="http://apps.dhis2.org/demo/api/users"/>. We continue by following link to the DHIS Administrator at <ulink url="http://apps.dhis2.org/demo/api/users/PhzytPW3g2J"/> where we learn that her identifier is <emphasis role="italic">PhzytPW3g2J</emphasis>. We are now ready to put our XML message together to form a message where we want to ask the mobile user whether she has reported data for January 2012:</para>
<screen>&lt;message xmlns=&quot;http://dhis2.org/schema/dxf/2.0&quot;&gt;
&lt;subject&gt;Mortality data reporting&lt;/subject&gt;
&lt;text&gt;Have you reported data for the Mortality data set for January 2012?&lt;/text&gt;
&lt;users&gt;
&lt;user id=&quot;PhzytPW3g2J&quot; /&gt;
&lt;/users&gt;
&lt;/message&gt;</screen>
<para>To test this we save the XML content into a file called <emphasis role="italic">message.xml</emphasis>. We use cURL to dispatch the message the the DHIS 2 demo instance where we indicate that the content-type is XML and authenticate as the <emphasis role="italic">admin</emphasis> user:</para>
<para><code>curl -d @message.xml &quot;http://apps.dhis2.org/demo/api/messageConversations&quot; -H &quot;Content-Type:application/xml&quot; -u admin:district -X POST -v</code></para>
<para>If all is well we receive a <emphasis role="italic">201 Created</emphasis> HTTP status code. Also note that we receive a <emphasis role="italic">Location </emphasis>HTTP header which value informs us of the URL of the newly created message conversation resource - this can be used by a consumer to perform further action.</para>
<para>We will now pretend to be the mobile user and read the message which was just sent by dispatching a GET request to the <emphasis role="italic">messageConversations</emphasis> resource. We supply an <emphasis role="italic">Accept</emphasis> header with <emphasis role="italic">application/xml</emphasis> as the value to indicate that we are interested in the XML resource representation and we authenticate as the <emphasis role="italic">mobile</emphasis> user:</para>
<para><code>curl &quot;http://apps.dhis2.org/demo/api/messageConversations&quot; -H &quot;Accept:application/xml&quot; -u mobile:district -X GET -v</code></para>
<para>In response we get the following XML:</para>
<screen>&lt;messageConversations xmlns=&quot;http://dhis2.org/schema/dxf/2.0&quot; link=&quot;http://apps.dhis2.org/demo/api/messageConversations&quot;&gt;
&lt;messageConversation name=&quot;Mortality data reporting&quot; id=&quot;ZjHHSjyyeJ2&quot; link=&quot;http://apps.dhis2.org/demo/api/messageConversations/ZjHHSjyyeJ2&quot;/&gt;
&lt;messageConversation name=&quot;DHIS version 2.7 is deployed&quot; id=&quot;GDBqVfkmnp2&quot; link=&quot;http://apps.dhis2.org/demo/api/messageConversations/GDBqVfkmnp2&quot;/&gt;
&lt;/messageConversations&gt;</screen>
<para>From the response we are able to read the identifier of the newly sent message which is <emphasis role="italic">ZjHHSjyyeJ2</emphasis>. Note that the link to the specific resource is embedded and available for consumers to use. From the description at <ulink url="http://apps.dhis2.org/demo/api/messageConversations"/> we learned that we can reply directly to an existing message conversation once we know the URL by including the message text as the request payload (body). We are now able to construct a URL for sending our reply:</para>
<para><code>curl -d &quot;Yes the Mortality data set has been reported&quot; &quot;http://apps.dhis2.org/demo/api/messageConversations/ZjHHSjyyeJ2&quot; -H &quot;Content-Type:text/plain&quot; -u mobile:district -X POST -v</code> </para>
<para>If all went according to plan you will receive a <emphasis role="italic">200 OK</emphasis> status code.</para>
</section>
<section>
<title>Example: Embedding reports in web pages</title>
<para>In this example we will see how we can build a simple web page where dynamic data such as tabular reports is pulled from the DHIS Web API. A full example on how this can done is available at <ulink url="http://apps.dhis2.org/portal"/>.</para>
<para>The Web API contains several resources which are useful for data analysis: <emphasis role="italic">report</emphasis>, <emphasis role="italic">reportTable</emphasis>, <emphasis role="italic">chart</emphasis>, <emphasis role="italic">map</emphasis> and <emphasis role="italic">document</emphasis>. Dispatching GET requests to the mentioned resources will return meta-data information such as name and the date it was last updated. All these resources have an associated <emphasis role="italic">data</emphasis> resource which produces a data view of related aggregated data - also known as reports, charts and maps. You can follow the links or simply append <emphasis role="italic">/data</emphasis> to the URL to arrive at it. This information can be represented in a variety of formats including HTML, PDF, Excel, PNG and Jasper, as we will see in the next section.</para>
<para>We start as usual at the Web API entrypoint at <ulink url="http://apps.dhis2.org/demo/api"/>. We look for a relevant report table by following the <emphasis role="italic">reportTables</emphasis> link to <ulink url="http://apps.dhis2.org/demo/api/reportTables"/>. We assume that we are interested in the &quot;District Maternal Health&quot; report and follow the link to <ulink url="http://apps.dhis2.org/demo/api/reportTables/xIWpSo5jjT1"/>. This resource provides meta-data information about the report table. From here we can follow the link to the default data view of aggregated data, which leads us to <ulink url="http://apps.dhis2.org/demo/api/reportTables/xIWpSo5jjT1/data"/>. As we can see we are provided with a report table in HTML format, which is the default representation format for report tables.</para>
<para>As stated in the introduction there are three ways of indicating which resource representation format you prefer for the response. The most suitable alternative for direct use in web pages is to append a file suffix to the URL. We assume that we are interested in the PDF representation and indicate that by appending <emphasis role="italic">.pdf</emphasis> to our URL: <ulink url="http://apps.dhis2.org/demo/api/reportTables/xIWpSo5jjT1/data.pdf"/>. Go ahead and try out all valid extensions for this resource which are <emphasis role="italic">.html</emphasis>, <emphasis role="italic">.pdf</emphasis>, <emphasis role="italic">.xls</emphasis> and <emphasis role="italic">.csv</emphasis>.</para>
<para>The report table can be parameterized with an organisation unit and a period by supplying a <emphasis role="italic">ou</emphasis> and <emphasis role="italic">pe</emphasis> query parameter accompanied with an organisation unit identifier and period string in the URL. If not provided the Web API will use the top-most organisation unit in the hierarchy and the last period for the report table content. The organisation unit identifier can be looked up by going to the Web API entrypoint and follow the link to the <emphasis role="italic">organisationUnits</emphasis> resouce. For our example we will use <emphasis role="italic">Bo</emphasis> district whith identifier <emphasis role="italic">O6uvpzGd5pu</emphasis> as the organisation unit: <ulink url="http://apps.dhis2.org/demo/api/reportTables/xIWpSo5jjT1/data?ou=O6uvpzGd5pu"/>. From the HTML representation we can see that the report now contains data for <emphasis role="italic">Bo</emphasis> district. These URLs can simply be used in links embedded in the web page like this:</para>
<screen>&lt;a href=&quot;http://apps.dhis2.org/demo/api/reportTables/xIWpSo5jjT1/data.pdf?ou=O6uvpzGd5pu&quot;&gt;Maternal Health Bo District 2012&lt;/a&gt;</screen>
<para>There are many ways to authenticate over the Web and each method has its advantages and disadvantages. For this example we will use an approach where we emulate a login from the web-based login form. To help us we will use the <emphasis role="italic">jQuery</emphasis> javascript library. This javascript code should be embedded in the <emphasis role="italic">head</emphasis> section of the Web page:</para>
<screen>jQuery(document).ready(function() {
$.post( &quot;http://apps.dhis2.org/demo/dhis-web-commons-security/login.action&quot;, {
j_username: &quot;admin&quot;, j_password: &quot;district&quot;
}
);
});</screen>
<para>In this code block we ask jQuery to send a POST request to the standard authentication point with two name-value pairs containing the username and password information. We assume that the user has the necessary authorities to view reports in the DHIS 2 Web API. If authentication was successful the server will send a HTTP cookie in the response with a session identifier. This will make sure that the current user is authorized to view reports for up to 60 minutes.</para>
<para>Caveat: The username and password will be present in the web page in plain text. Make sure you create a dedicated user in DHIS 2 for this purpose provided only with the minimum authorities required.</para>
<para>For a full example visit <ulink url="http://apps.dhis2.org/portal"/> and view the page source in a browser. Note that the example web page is hosted within the same domain (apps.dhis2.org) as the demo DHIS 2 instance. This is done to avoid issues related to the &quot;same origin policy&quot;, a concept which prevents scripts hosted on one domain to access resources running on another. While one can circumvent this through techniques such as <emphasis role="italic">CORS</emphasis>, there are none which have wide browser support at the moment. Therefore we recommend hosting web pages and portals on the same domain. Techniques using reverse proxies described in the &quot;installation&quot; chapter can be useful in this regard. Finally we provide some sample URLs pointing to various data resources for your inspiration:</para>
<itemizedlist>
<listitem>
<para><ulink url="http://apps.dhis2.org/demo/api/maps/JlXSUIcLsmd/data"/></para>
</listitem>
<listitem>
<para><ulink url="http://apps.dhis2.org/demo/api/maps/data?in=JIVMtpjVZqJ&amp;ou=O6uvpzGd5pu"/></para>
</listitem>
<listitem>
<para><ulink url="http://apps.dhis2.org/demo/api/reports/Cb2BcgxBUPz/data"/></para>
</listitem>
<listitem>
<para><ulink url="http://apps.dhis2.org/demo/api/charts/nwqNUFG9Vky/data"/></para>
</listitem>
<listitem>
<para><ulink url="http://apps.dhis2.org/demo/api/charts/data?in=JIVMtpjVZqJ&amp;ou=O6uvpzGd5pu"/></para>
</listitem>
<listitem>
<para><ulink url="http://apps.dhis2.org/demo/api/charts/data?in=JIVMtpjVZqJ&amp;ou=O6uvpzGd5pu&amp;periods=true"/></para>
</listitem>
<listitem>
<para><ulink url="http://apps.dhis2.org/demo/api/documents/MfHNQx51HT9/data"/></para>
</listitem>
</itemizedlist>
</section>
</chapter>
<chapter>
<title>User management</title>
<para>DHIS2 allows for multiple users to access the system simultaneously, each with a define set of permissions. These permissions can be finely tuned so that certain users can only enter data, while others may generate reports. Multiple user roles can be created, each with their own set of permissions, and then assigned to users which grant them certain privileges within the system. This chapter describes how to manage users and user roles.</para>
<section id="creating_new_users">
<title>Creating new users and roles</title>
<para>This section will describe how to add new users and manage existing users to the DHIS2 application. You can create as many user names as you need. Each user can be assigned certain privileges, and can be assigned to certain organisation units for which they will be enabled to enter data on behalf of. To access the user module, choose &quot;Maintenance-&gt;Users&quot; from the main menu.</para>
<section id="user_maintenance">
<title>User maintenance</title>
<screenshot>
<screeninfo>Select Users menu item</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/select_user_menu.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>User names already registered will appear as a list as seen in the screen shot below.</para>
<screenshot>
<screeninfo>Search by user name</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/search_user_by_name.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>You can search for specific user names in the user list by
entering the name in the ‘filter by user name’ field as shown
above.</para>
</section>
<section id="user_user_roles">
<title>User role management</title>
<para>As part of creating a user name you are required to define the user
role. Do so by clicking on the ‘user role’ appearing on the left side of
the displayed screen. This will lead you to the Role Management page where you will have
to click on <guibutton>Add new</guibutton> to create a new role.</para>
<screenshot>
<screeninfo>Add new user role</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/add_user_role.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The following screen will open and here in the first text box you
need to give Name of the Role such as Super User, Admin User, etc. The
second text box called ‘Description’ gives more information about the
type of User Role that is being created for e.g. State Admin User,
District Data Entry.</para>
<screenshot>
<screeninfo>Role maintenance page</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/role_maintenance_page.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Next you will specify the particular data set(s) that are to be
made available to the particular role. You will also need to specify the
type of ‘authority’ to be given to the particular user. For each of the
three options namely Datasets, Reports and Authorities user can select
multiple options from the scroll down menu provided against each field.
A user can choose multiple options either by moving them
one-by-one.</para>
<para>In order for particular users to be able to enter data, you must
add them to both a dataset as well as an organisational unit level. You
can also select multiple datasets individually by pressing the Ctrl key
on the keyboard and clicking on individual datasets.</para>
<para>Finally when you have entered the required fields click on
<guibutton>Save</guibutton> which is located on the lower part of the
displayed screen. The desired user role and related authorisation will
be saved to the database, and can then be assigned to a particular
user.</para>
</section>
<section id="user_management">
<title>User management</title>
<para>Under particular user role there can be more than one user. To add
new users go to the User options under the Maintenance module.</para>
<para>To add a new user, just follow these steps:</para>
<itemizedlist>
<listitem>
<para>Click on the <guibutton>Add New</guibutton> button.</para>
</listitem>
<listitem>
<para>Enter New User details like <guilabel>User name</guilabel>, <guilabel>Password</guilabel>, <guilabel>Confirm password</guilabel>, <guilabel>Surname</guilabel>, <guilabel>First name</guilabel> and <guilabel>Email</guilabel> in new user’s option tabs.</para>
</listitem>
<listitem>
<para>Click on <guibutton>Add</guibutton> button for confirmation of
new user details and follow the user error while creation of new
user.</para>
</listitem>
<listitem>
<para>The recently created new user can be seen in main’ User
management Screen</para>
</listitem>
<listitem>
<para>You can edit (like password, surname….etc) and delete the
details of new/old users by selecting corresponding User’s
<guibutton>Edit</guibutton> and <guibutton>Delete</guibutton>
Buttons.</para>
</listitem>
<listitem>
<para>Click on <guibutton>Save</guibutton> tab after editing all
details of a particular selected user.</para>
<screenshot>
<screeninfo>User management screen</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/user_management.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</listitem>
<listitem>
<para>Users must be assigned to at least one organisational unit. Users are able to have access to all children of the organisational unit(s) which have been assigned to them. For instance, if a user has been assigned to &quot;District X&quot; which has several facilities contained in the district, the user would have access to the district&apos;s data, as well as all of the facilities contained within the district. </para>
<para>In order for users to be able to enter data for specific organisational units, they must be assigned these units. If a user is responsible for entering data for all facilities for a given district, they should typically be assigned the district, and all of the facilities contained within the district.</para>
</listitem>
</itemizedlist>
</section>
<section id="user_group_management">
<title>User group management</title>
<para>User groups allow you to send notifications to multiple users at the same time. Simply click &quot;Add new&quot; from the &quot;User group&quot; screen, provide a name for the group, and add the desired users from the &quot;Available users&quot; list to the &quot;Group members&quot; list. </para>
</section>
<section id="user_by_org_unit">
<title>User by organisation unit</title>
<para>The &quot;User by organisation unit&quot; function allows you see which users have been assigned to a particular organisation unit. Simply select the organisation unit from the tree on the left, and a list of users which have been assigned to this particular organisation unit will be displayed</para>
</section>
</section>
</chapter>
<chapter>
<title>Using Data Visualizer</title>
<section id="dvIntro">
<title>Data Visualizer overview</title>
<para>The data visualizer module enables users to easily create dynamic data analysis and visualizations through charts and data tables. You can freely select content (like indicators, periods and organisation units) for your analysis. This module can be accessed by going to &quot;Services - Data Visualizer&quot; in the main menu. The image below shows the viewport of the module. For a quick start:</para>
<orderedlist>
<listitem>
<para> Look under the &quot;Indicator&quot; heading and select an indicator group from the list of groups. </para>
</listitem>
<listitem>
<para>Look under &quot;Available indicators&quot; and select a few indicators from the list by double-clicking on them.</para>
</listitem>
<listitem>
<para>Click &quot;Update&quot; in the top bar and see the chart unfold.</para>
</listitem>
</orderedlist>
<para>The data visualizer is designed firstly to be easy-to-use - you can simply select the indicators, data elements, periods and organisation units you want to include and click &quot;Update&quot; to get your visualization. Secondly it is designed to be fast and work well over poor Internet connections - charts are generated in the web browser and very little data is transferred over the Internet.</para>
<screenshot>
<screeninfo>Data visualizer module displaying a column chart.</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/visualizer/column_chart.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section id="dvChartTypes">
<title>Selecting chart type</title>
<para>The visualizer module provides seven different chart types, each with different characteristics. You can select the type of your chart by clicking on one of the icons in top left bar titled &quot;Chart type&quot;.</para>
<orderedlist>
<listitem>
<para>Column chart: Chart which displays information as vertical rectangular columns with lengths proportional to the values they represent. Useful eg. for comparing performance of different districts.</para>
</listitem>
<listitem>
<para>Stacked column chart: Chart with vertical rectangular columns where bars representing multiple categories are stacked on top of each other. Useful eg. for displaying trends or sums of related data elements.</para>
</listitem>
<listitem>
<para>Bar chart: Same as column chart, only with horizontal bars.</para>
</listitem>
<listitem>
<para>Stacked bar chart: Same as stacked column chart, only with horizontal bars.</para>
</listitem>
<listitem>
<para>Line chart: Graph wich displays information as a series of points connected by straight lines. Also referred to as time series. Useful eg. to visualize trends in indicator data over multiple time periods.</para>
</listitem>
<listitem>
<para>Area chart: Chart which is based on line chart, with the space between the axis and the line filled with colors and the lines stacked on top of each other. Useful for comparing the trends of related indicators.</para>
</listitem>
<listitem>
<para>Pie chart: Circular chart divided into sectors (or slices). Useful eg. to visualize the proportion of data for individual data elements compared to the total sum of all data elements in the chart.</para>
</listitem>
</orderedlist>
</section>
<section id="dvSeriesCategoryFilter">
<title>Selecting series, category and filter</title>
<para>This section lets you define which dimension of the data you want to appear as series, category and filter. This asks for a closer explanation. Dimension in this regard refers to the elements which describe the data values in the system. We have three main dimensions in the system:</para>
<orderedlist>
<listitem>
<para>Data: Includes data elements and indicators, describing the phenomena or event of the data.</para>
</listitem>
<listitem>
<para>Periods: Describes when the event took place.</para>
</listitem>
<listitem>
<para>Organisation units: Describes where the event took place.</para>
</listitem>
</orderedlist>
<para>The visualization module lets you use these dimensions completely flexible in terms of appearing as series, categories and filter. Understanding these concepts is most easily done by looking at the screenshot from the opening page below: </para>
<screenshot>
<screeninfo>Example chart illustrating the concepts of series, categories and filter.</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/visualizer/series_category_filter.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>More formally this can be described as following:</para>
<orderedlist>
<listitem>
<para>Series: A series is a set of continous, related elements (eg. periods or data elements) which you want to visualize in order to emphasize trends or relations in its data.</para>
</listitem>
<listitem>
<para>Categories: A category is a set of elements (eg. indicators or organisation units) for which you want to compare its data.</para>
</listitem>
<listitem>
<para>Filter: Since most charts are two-dimensional, a filter must be used on the third dimension in order to use only a single element for the chart to become meaningful.</para>
</listitem>
</orderedlist>
</section>
<section>
<title>Selecting indicators and data elements</title>
<para>The visualizer module can display any number of indicators and data elements in a chart and data table. Both indicators and data elements can be selected and appear together in the same chart. You can select indicators by clicking at the &quot;Indicators&quot; header and selecting an indicator group from the list of groups below it. This will make the indicators in the selected group appear in the list under &quot;Available indicators&quot; to the left. From that list you can double click on any indicator in order to select it, this will move it to the list under &quot;Selected indicators&quot;. Alternatively you can mark one or more indicators and click the single-arrow button. To select all indicators you simply click on the double-arrow button. To deselect indicators you can do correspondingly in the &quot;Selected indicators&quot; list.</para>
<para>To select data elements click on the &quot;Data elements&quot; header. The same principle for selecting and deselecting applies as for indicators.</para>
</section>
<section>
<title>Selecting periods</title>
<para>To select periods click on the &quot;Periods&quot; header. You can select any number of periods from the set of periods listed under the header, such as &quot;Last month&quot;, &quot;Months this year&quot; and &quot;Last 5 years&quot;. The names should be fairly self-descriptive. All periods are relative to the current date, meaning that if the current month is March and you select &quot;Last month&quot;, the month of February will be included in the chart.</para>
</section>
<section>
<title>Selecting organisation units</title>
<para>You can select which organisation units to include in the chart by clicking on the &quot;Organisation units&quot; header. This section features a tree including all organisaiton units in the system. You can select any of the organisation units by clicking on them. If you want to select multiple, arbitrary organisation units you can press the Ctrl button and then click away in the tree. If you want to include all organisation units existing directly under a specific organisation unit (the children of the parent organisation unit in other terms) you can right-click on the organisation unit and select &quot;Select all children&quot;.</para>
</section>
<section>
<title>Selecting chart options</title>
<para>You can set various chart options by clicking on the &quot;Chart options&quot; header in the panel to the left. </para>
<itemizedlist>
<listitem>
<para>Hide subtitle: Hides the title and subtitle of your chart.</para>
</listitem>
<listitem>
<para>Hide legend: Hides the legend and leave more room for the chart itself.</para>
</listitem>
<listitem>
<para>Trend line: The trend line will visualize how your data evolves over time - e.g. is performance improving or detoriating. Makes sense when periods are selected as category. </para>
</listitem>
<listitem>
<para>User org unit: Includes the currently logged in user in the organisation unit selection for the chart. Useful when displaying the chart on the dashboard, since each user will get a relevant chart for their own location. </para>
</listitem>
<listitem>
<para>Domain axis label: Displays a label below the domain axis (also referred to as the X axis). Can give context information to the chart, e.g. the type of periods being listed.</para>
</listitem>
<listitem>
<para>Range axis label: Displays a label next to the range axis (also referred to as the Y axis). Can give context information to the chart, e.g. the unit of measure being used.</para>
</listitem>
<listitem>
<para>Target line value: Displays a horizontal line at the given domain value. Useful e.g. when you want to compare your performance to the current target.</para>
</listitem>
<listitem>
<para>Target line label: Displays a label next to the target line.</para>
</listitem>
<listitem>
<para>Base line value: Displays a horizontal line at the given domain value. Useful e.g. when you want to visualize how your performance has evolved since the beginning of a process.</para>
</listitem>
</itemizedlist>
</section>
<section id="dvDisplayChart">
<title>Displaying a chart</title>
<para>You can display a chart based on your selections simply by clicking the &quot;Update&quot; button on the top centre menu. This requires that you have selected one or more elements from all of the three dimensions - data, periods and organisation units. Note that &quot;Months this year&quot; from the period dimension and the root organisation unit are selected by default.</para>
<para>Notice that you can hide and show individual data series in the chart by clicking directly on the series label in the chart - they appear either at the top or at the left of the chart.</para>
<para>If you want to give the chart more space on your screen you can click on the triple-arrow button on the top centre menu. This will collapse the left side menu. You can get this menu back by clicking on the same button again.</para>
</section>
<section id="dvDisplayDataTable">
<title>Displaying a data table</title>
<para>After you have rendered a chart you can display the data in a table by clicking on the &quot;Data table&quot; button on the top centre menu (next to &quot;Update&quot;). This will show a table with four columns, one for data (meaning data element or indicator), period, organisation unit and data value. This table can be sorted ascending or descending on any of the columns.</para>
<screenshot>
<screeninfo>Example chart illustrating the concepts of series, categories and filter.</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/visualizer/data_table.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section id="dvSaveChart">
<title>Downloading chart as image or PDF</title>
<para>After you have rendered a chart you can save that view as file and download it to your local computer by clicking on &quot;Save as&quot; on the top centre menu. You can select between PNG (image) or PDF. The file will be automatically downloaded to your computer - for instance can you now embed the image file into a text document as part of a report.</para>
</section>
<section id="dvFavorites">
<title>Saving chart as favorite</title>
<para>Once you have rendered a chart you can save it as a favorite. Click on the &quot;Favorites&quot; button on the top menu and then on the &quot;Manage favorites&quot; link. In the name field enter the desired name for your chart. By ticking the &quot;System&quot; checkbox the chart will be visible to all users of the system, if you do not tick it the chart will be visible only to yourself. This requres that your user account has the privilege to create system charts. You can rename any favorite by selecting it in the list, modifying its name in the name input field and clicking &quot;Rename&quot;. You can delete any favorite by selecting it and then clicking &quot;Delete&quot;.</para>
<para>These favorite charts can later be included on your personal dashboard. After saving you can navigate to the dashboard module, click on the &quot;Insert&quot; link over the chart areas and select your preferred chart.</para>
<screenshot>
<screeninfo>Data visualizer module displaying a column chart.</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/visualizer/favorites.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section>
<title>Exiting the data visualizer module</title>
<para>If you want to exit the module and go back to the DHIS start page you can click on the &quot;Exit&quot; button to the right side of the top centre menu.</para>
</section>
</chapter>
<chapter>
<title>Getting started with DHIS 2 as end-user</title>
<section>
<title>Getting started with DHIS2</title>
<para>After reading this chapter you will be able to understand:</para>
<itemizedlist>
<listitem>
<para>How to open the DHIS 2</para>
</listitem>
<listitem>
<para>How to log in and out of the application</para>
</listitem>
<listitem>
<para>How to navigate the application and access its features</para>
</listitem>
</itemizedlist>
</section>
<section>
<title>Opening DHIS 2</title>
<para>The DHIS 2 is a web-based application and will be available in an Internet browser when you have Internet connection.</para>
<para>Open a browser, we recommend Google Chrome (download installer here: http://www.google.com/chrome) and in the address field you type hiskenya.org</para>
<para>You will then see the login screen of DHIS 2.</para>
</section>
<section>
<title>Logging in and out of the application</title>
<para>Once you can see the blue login screen of DHIS 2 you must enter your user name and password to log in to the application. If the login is not successful you will be notified that the username or password is incorrect and asked to re-enter these credentials. Once you have successfully logged in you will see the DHIS Dashboard where you can immediately monitor the latest data in your selected charts and access your favourite DHIS sites (reports, maps etc).</para>
<para>When you have finished your DHIS 2 session we recommend that you log out before closing the browser. Use the log out link in the upper right corner and you will be returned to the log in screen.</para>
<screenshot>
<screeninfo>Login screen</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/login_screen.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section>
<title>Navigating the application</title>
<para>The DHIS 2 has two menu systems; the top menu which leads to the various modules, and the left side menu inside most modules to navigate between features inside each module.</para>
<para>The DHIS 2 symbol in the top left corner is a fast link to the user-defined start page, the home page. Often this is set to the dashboard module.</para>
<para>The logout button is on the far right of the top menu.</para>
<section>
<title>The top menu - access to the modules</title>
<para>The DHIS consists of various modules (major components) which each have specific features, such as data entry, reporting, dashboard. You can access these modules from the top menu either under Maintenance or Services. Maintenance is mostly used by system administrators that maintain the application and might not be visible. Services is where you will find the more operational features like data entry, data quality and reporting. Under the top menu item Help you can access the built-in user manual, update your user details, or view information about the running DHIS application.</para>
<para>To move to a new module you need to move the mouse pointer to one of the top menu items; Maintenance, Services, or Help. Then a submenu with modules will appear. Click on the module you would like to open.</para>
</section>
<section>
<title>Navigation inside modules</title>
<para>When you open most of the modules you will see the module main page which lists the major submodules or features in the middle of the screen with a short description. Simply click on the feature you would like to open.</para>
<para>When inside a module you will always see the left side menu with links to its features. Use this menu to jump between features.</para>
<para>The data entry and dashboard modules do not have a menu system as they only contain one feature, everything is in one page, so no need for a menu there. </para>
<screenshot>
<screeninfo>Menu system</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/menu_system.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</section>
</chapter>
<section>
<title>Mobile data entry with DHIS2</title>
<section id="mobile_broswer_based">
<title>Mobile browser based data entry</title>
<para>DHIS2 has been optimized for use browsers in mobile devices through a module known as DHIS2 Light. This module has been optimized to provide a small memory footprint and to be capable of working over relatively modest bandwidths. To access the module, you should go to &lt;to do&gt;</para>
<section>
<title>Getting started with mobile browser data entry</title>
<para>Once you have entered in the URL of you DHIS2 instance, simply login with your username and password. Press the login button to continue, or the &quot;Reset&quot; button to clear all fields.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="40%" align="center" fileref="resources/images/dhis-web-light-data-entry/mobile-browser-login.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Once you have logged in you will have three options to choose from: Data entry, Settings, and reports.</para>
<para>To change the interface language of the mobile client, choose the &quot;Settings&quot; option, then select an &quot;Interface language&quot; by choosing a language from the drop-down list. Finally click &quot;Save&quot; to change the interface language.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata fileref="resources/images/dhis-web-light-data-entry/mobile-browser-settings.png" align="center" width="40%"/>
</imageobject>
</mediaobject>
</screenshot>
<para>To start data entry, choose the &quot;Data entry&quot; link from the &quot;Home&quot; screen. </para>
<important>
<para>If you choose the &quot;Desktop version&quot; link, you will be directed to the standard DHIS2 web interface. This may consume much more bandwidth. Using the mobile data entry screen is the recommended method for entering data through mobile devices, so that the total amount of bandwidth consumed is minimized.</para>
</important>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="40%" align="center" fileref="resources/images/dhis-web-light-data-entry/after-login.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Then select from a list of available organisation units which the user is allowed to enter data on behalf of. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="40%" align="center" fileref="resources/images/dhis-web-light-data-entry/select-org-unit.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Next, select a dataset to enter data for. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="40%" align="center" fileref="resources/images/dhis-web-light-data-entry/select-dataset.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Select from a list of available periods to enter data for from the next screen. Periods which have been marked with a check mark indicate that they already have already been completed.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="40%" align="center" fileref="resources/images/dhis-web-light-data-entry/select-period.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Next, enter data for each data element. The category options for each data element are indicated in parentheses at the end of the name of the data element.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="40%" align="center" fileref="resources/images/dhis-web-light-data-entry/data-entry.PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Once you have finished entering all the data, you will be given the option to mark the dataset as complete and save it. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="40%" align="center" fileref="resources/images/dhis-web-light-data-entry/dataset-complete-save.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Once you have finished entering data, you can logout by pressing the &quot;Logout&quot; link. </para>
</section>
</section>
<section id="mobile_j2me_gprs_client">
<title>J2ME GPRS/3G Client</title>
<para>The DHIS2 GPRS/3G mobile module provides a mechanism for remote clients using mobile phones to enter data directly into the DHIS2 system. There are two functions of the client, namely:</para>
<para>The solution relies on the mobile phone having a data connection available (i.e.
GPRS, Edge, 3G), over which it communicates with a DHIS2 instance which must be publicly
available on the internet, as any other web server. The client application on the phone downloads the data entry forms to the phone from the
server, and the forms can therefore be updated without installing a new application. This is also a crucial feature 
for community reporting, which relies on regularly downloading activity plans from the server.
</para>
<itemizedlist>
<listitem>
<para>Facility reporting, for data entry and
reporting of regular DHIS2 aggregate data,</para>
</listitem>
<listitem>
<para>Activity reporting, for supporting individual
activity reporting with the Community module.</para>
</listitem>
</itemizedlist>
<section>
<title>Data connection availability</title>
<para>Data connection availability can be a problem in many of the contexts where DHIS2 mobile
reporting would otherwise be a good solution for getting data directly into DHIS2. If that is
the case for you, you might want to consider trying the SMS based solution described in a separate document.
Keep in mind that even though a data connection is currently required for communication between
the server and the mobile phone, it is only required when initializing or updating the mobile
application and when sending reports to the server. The phone stores all entered data locally,
so it it can work fine with only temporary access to a data connection on a regular basis.
</para>
</section>
<section>
<title>Server side setup for facility reporting</title>
<para>The server side component of the web based solution is included in the general build of DHIS2.</para>
<para>In order to configure the DHIS2 web-based mobile reporting, you should follow the following steps. </para>
<itemizedlist>
<listitem>
<para>
Set the &quot;Available for Mobile Reporting&quot; flag for the data sets you want reported:
Under <emphasis>Maintenance-&gt;DataSet</emphasis>-&gt;<emphasis role="italic">Edit</emphasis> mark the “Available for Mobile Reporting” check box and save.
</para>
</listitem>
<listitem>
<para>Create a user role for the mobile user. Select <emphasis role="italic">Maintenance-&gt;Users-&gt;User Role-&gt;Add new</emphasis>. Add a user role name and description. Add the desired data sets for the role. The mobile user role will need to have at least privileges for DHIS Web API. Save the user role by clicking &quot;Save&quot;. </para>
</listitem>
<listitem>
<para>Create a user which will be used by the client to login from <emphasis role="italic">Maintenance-&gt;Users-&gt;User -&gt;Add new</emphasis>. Fill in all of the required details, keeping in mind that the password must be at least 8 digits long, contain one capital letter,and one digit. Assign the desired user role to the user which was created in the previous step. </para>
<para><important>
<para>Assign the user to exactly <emphasis role="bold">one</emphasis> organisation unit. Each mobile reporting client will need their own user name and password. </para>
</important></para>
</listitem>
</itemizedlist>
</section>
<section>
<title>Server side setup for activity reporting</title>
<para>Like facility reporting module, sever side of activity reporting included in DHIS2 war file.</para>
<para>Basically, server side setup for activity does not require any additional step. The mobile application use the same user name and password as the web-based application. Make sure that the user is assigned to the correct organization unit.</para>
<para>In short, if a user is able to enter data for activity reporting in DHIS2 web-based application, he/she is able to download and enter data in mobile application.</para>
</section>
<section>
<title>Detailed configuration of data sets and reporting forms</title>
<para>Though the previous steps is all that should be needed for testing the solution more detail configuration of the datasets may be required and are described in the following sections. </para>
<section>
<title>The mapping of data sets to form layout on the phone</title>
<para>By default, a data set is mapped to a single form on the phone.
If the data set is divided into sections, each section is displayed as a seperate page on the phone.
If a data element has more than one category option combo it will be displayed as a heading with the category combination options
following.</para>
<table frame="all">
<title/>
<tgroup cols="3">
<colspec colname="c1"/>
<colspec colname="c2"/>
<colspec colname="c3"/>
<tbody>
<row>
<entry>
<emphasis role="bold">Form design element</emphasis>
</entry>
<entry>
<emphasis role="bold">DHIS2 Metadata</emphasis>
</entry>
<entry>
<emphasis role="bold">Metadata element</emphasis>
</entry>
</row>
<row>
<entry>Form title</entry>
<entry>Data set</entry>
<entry>Short Name if it exists, otherwise Namw</entry>
</row>
<row>
<entry>Page tile</entry>
<entry>Section</entry>
<entry>Section name (or form name if no sections)</entry>
</row>
<row>
<entry>Question</entry>
<entry>Data element </entry>
<entry>Alternative name if it exists, otherwise Name</entry>
</row>
<row>
<entry>Question name if combos</entry>
<entry>Category option combo</entry>
<entry>name</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section>
<title>Sorting of forms</title>
<para>By default, data elements will be sorted according to the global sorting assigned in DHIS2. If sections are used, their section specific sorting order will be used.
In some cases, when sections are not used, a data element might be used in multiple data sets, and conflict in the way it should be sorted in individual data sets. A work around for this situation is to wrap the whole dataset in one section (note that this will only work if the data elements have the same category option combo)</para>
</section>
<section>
<title>Versioning of data sets</title>
<para>To make it possible to compare and update the data sets on the mobile phone with the 
version on the server, data sets are automatically versioned when you edit the data set structure. Some changes which occur on the DHIS2 server, will cause the mobile client to update its forms with a new version. </para>
<itemizedlist>
<title>Changes that currently trigger a new data set version</title>
<listitem>
<para>Create DataSet</para>
</listitem>
<listitem>
<para>Edit DataSet</para>
</listitem>
<listitem>
<para>Create/edit/delete Section in DataSet</para>
</listitem>
<listitem>
<para>Sort Section Order</para>
</listitem>
<listitem>
<para>Update DataElement (affect many related DataSets)</para>
</listitem>
<listitem>
<para>Delete DataElement (affect many related DataSets)</para>
</listitem>
<listitem>
<para>Edit DataElement Category</para>
</listitem>
<listitem>
<para>Edit DataElement Category Combo</para>
</listitem>
</itemizedlist>
</section>
<section>
<title>Language support</title>
<para>Multi-language support is available.</para>
<para>DataSet and DataElement are translated through web-based function. Default language on server is used on mobile in cases requested language from mobile is not available.</para>
<para><graphic fileref="resources/images/dhis_mobile/translateDataSet.jpg" width="80%" align="center"/></para>
</section>
</section>
<section>
<title>Mobile application setup</title>
<para/>
<section>
<title>Installation and initialization</title>
<section>
<title>Installation</title>
</section>
<section>
<title>Initialization</title>
<para>Initialization should be performed before the phones are delivered end-users. Given the large variation in possible phone configurations, it is impossible to describe the exact steps which are required in order to enable the client on the phone. However, for most phones, simply copying the DHIS Web Mobile client &quot;JAR&quot; file to the phone with a USB cable or via Bluetooth is sufficient. Of course, GPRS/3G connectivity must be enabled. Contact your mobile service provider for exact details on the configuration of the phones and networks. </para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="260px" align="center" fileref="resources/images/dhis_mobile/mobile_login_screen.png"/>
</imageobject>
</mediaobject>
</screenshot>Once the client has been installed ot the phone, an initialization process must occur by providing a user name, password and server URL. </para>
<orderedlist>
<listitem>
<para>Logging into the server for the first time. </para>
<para>The first time the client logins to the server, or if the client is reinitialized, the username, password and server URL must be entered.</para>
<para>If the client is unable to login, there could be several possible error messages which you see. </para>
<para><itemizedlist>
<listitem>
<para>Connection Not Found: The specified server URL is not correct. Check the server address, ensure that the server is actually reachable, and try again.</para>
</listitem>
<listitem>
<para>Invalid User Name Or Password: the username or password is incorrect</para>
</listitem>
<listitem>
<para>Application not authorized to access restricted APIe : The server can be contacted, but the user does not have the necessary permissions to access the mobile reporting module</para>
</listitem>
</itemizedlist> </para>
</listitem>
<listitem>
<para>Setting the PIN number: After the initial login process, a PIN number can be entered by the user. This will make the login process much easier, as the user only has to remember the four digit pin number, as opposed to typing in the user name and password each time. The PIN number can be preset if the phone is initialized prior to delivery, or it can be set by the users themselves if they have been provided with usernames and passwords.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="260px" align="center" fileref="resources/images/dhis_mobile/mobile_enter_pin.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>After entering the PIN, press (Menu)-&gt;Next. </para>
</listitem>
<listitem>
<para>Download all forms: After the PIN has been specified, all forms will be downloaded from the server and stored locally on the phone..</para>
<para>If the user has been configued to report on aggregate datasets, a list of appropriate datasets will be displayed. If the user is responsible for community based reporting, the list of assigned activities is displayed.</para>
<para><emphasis role="underline">Notes</emphasis>: If the Health Worker is responsible for both Facility Reporting and Community Reporting, DHIS server will send all forms of both Facility Reporting and Community Reporting to mobile and on mobile, there will be a screen to choose whether displaying Facility Reporting or Community Reporting.</para>
<para><emphasis role="underline">Errors</emphasis>:</para>
</listitem>
</orderedlist>
</section>
</section>
<section>
<title>Logging in (for regular use)</title>
<para>After starting the application, the PIN form is displayed. </para>
<itemizedlist>
<listitem>
<para>PIN: Enter the four digit number PIN.</para>
</listitem>
<listitem>
<para>Reinitialize Command: this function will clear all data on mobile and we start from the login screen with username and password.</para>
</listitem>
<listitem>
<para>Errors: Invalid PIN: If the user has entered an invalid PIN, they will need to enter the correct PIN, or reinitialize the application with the correct username and password.</para>
</listitem>
</itemizedlist>
</section>
<section>
<title>Facility Reporting Module</title>
<section>
<title>Entering data</title>
<para>After selecting an aggregate dataset from the &quot;Select report form&quot; window, the user will need to select an appropriate time period. A list of available time periods is automatically generated. </para>
<orderedlist>
<listitem>
<para>After the user has entered their PIN, they can select from a list of available datasets. Select the appropriate dataset and press &quot;Next&quot;. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata align="center" fileref="resources/images/dhis_mobile/select_report_form.png"/>
</imageobject>
</mediaobject>
</screenshot>
</listitem>
<listitem>
<para>Choosing periods: A list of available periods will be automatically displayed to the user. They can select the appropriate period from the list. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata align="center" fileref="resources/images/dhis_mobile/aggregate_select_periods.png"/>
</imageobject>
</mediaobject>
</screenshot>
</listitem>
<listitem>
<para>Fill in values: After choosing the period, the form can be displayed in two modes, depending on the </para>
<itemizedlist>
<listitem>
<para>Form with sections </para>
<para>Each form section is displayed in a single screen with the name of the section in the title window.</para>
<para>To navgate from screen to screen, push &quot;Next&quot;.</para>
</listitem>
<listitem>
<para>Forms without section (Datasets without sections)</para>
<para>All fields are displayed on one screen with the title that is the name of DataSet</para>
</listitem>
</itemizedlist>
<para>The user simply fills in each data element with the appopriate value. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata align="center" fileref="resources/images/dhis_mobile/aggregate_data_entry_form.png"/>
</imageobject>
</mediaobject>
</screenshot>
</listitem>
<listitem>
<para>Save and Complete:</para>
<para>After finishing data entry, the user can choose to save the data locally on the phone or to upload the data directly to the DHIS2 server.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata align="center" fileref="resources/images/dhis_mobile/aggregate_save_complete.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>If the user saves the data form, they can edit the form at a later point in time if they need to.When selecting a period once again, the period will be marked as &quot;Saved&apos; as seen in the next screen shot.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata align="center" fileref="resources/images/dhis_mobile/aggregate_data_entry_form_saved.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>If the user selects &quot;Complete&quot;, and the data entry form is not complete, the user will be asked if they are certain they wish to submit the form as incomplete. Once the form has been submitted, a message should be displayed informing the user that the transmisison was successful. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata align="center" fileref="resources/images/dhis_mobile/aggregate_report_success.png"/>
</imageobject>
</mediaobject>
</screenshot>
</listitem>
</orderedlist>
</section>
<section>
<title>Notes</title>
<orderedlist>
<listitem>
<para>Period list:</para>
<para>Periods marked with an asterisk (*) is the period that is completed or saved, depending on the status of the data entry.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata align="center" fileref="resources/images/dhis_mobile/aggregate_save_completed_periods.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para> All periods that are not in period list are considered old and will be deleted automatically.</para>
</listitem>
<listitem>
<para>Storing values duration</para>
<para>The number of saved forms on mobile are limited only by the effective amount of storage of the moble device.
</para>
<para>Forms are saved for limited period only, depending on the frequency of collection of the particular dataset. </para>
<itemizedlist>
<listitem>
<para>Daily Forms: 2 months (current and previous month)</para>
</listitem>
<listitem>
<para>Weekly Forms: 4 weeks (current and 3 previous week)</para>
</listitem>
<listitem>
<para>Monthly Forms: 2 months (current and previous month)</para>
</listitem>
<listitem>
<para>Quarterly Forms: 2 quarters (current and previous quarter)</para>
</listitem>
<listitem>
<para>Yearly Forms: 2 years (current and previous year)</para>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<para>Completed forms - Uneditable forms</para>
<para>If the form has been completed, the user can view the form on their phone, but they cannot make any subsequent edits to the form. Each field is greyed out and inactive for editing.</para>
</listitem>
<listitem>
<para>Re-Edit completed forms</para>
<para> If the user wishes to edit data which has already been submitted to the server, they can do so by pressing the &quot;Edit&quot; button. They are allowed to do this assuming that the dataset has not been locked for the period in question. If they attempt to upload the data, the user will be informed that the dataset has been locked, and it is not possible to upload the data. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata align="center" fileref="resources/images/dhis_mobile/dataset_locked_upload_failed.png"/>
</imageobject>
</mediaobject>
</screenshot>
</listitem>
<listitem>
<para>Update Forms:</para>
<para>This function is used to synchronize the forms on mobile and on server. The process is automatically triggered after entering PIN number.</para>
<para>Note: Checking and downloading updated forms process run in background. After finished, prompt is displayed to ask user whether refresh form list or stay where they are.</para>
</listitem>
<listitem>
<para>Multi-Language Support:</para>
<para>This function help user to choose language of mobile&apos;s GUI (graphical user interface) and content&apos;s language (Forms).</para>
<para>The forms must be translated on server, otherwise, default language is used.</para>
<para>Default language of first login is English. Change language in Setting menu will affect both interface and content.</para>
<para><graphic fileref="resources/images/dhis_mobile/settingCmd.jpg" align="center"/></para>
<para><graphic fileref="resources/images/dhis_mobile/settingScreen.jpg" align="center"/></para>
<para><graphic fileref="resources/images/dhis_mobile/supportedLanguageList.jpg" align="center"/></para>
<para>Multi-Language Interface: In Setting menu, there are list of supported language (downloaded from server). Language of GUI is only changed after restart application.</para>
<para>Multi-Language Content (forms): Form&apos;s language is change after click &quot;Save&quot;. In case there are many forms, it take several minutes to save setting.</para>
</listitem>
</orderedlist>
</section>
<section>
<title>Troubleshooting</title>
<itemizedlist>
<listitem>
<para>Data has been entered on the phone but does not appear on the server</para>
<para>This usually occurs when users enter data on the phone, but cannot send it to the server. This may be because of the configuration of the phone, lack of credit on the phone, or lack of coverage. Usually an error message is displayed as shown below. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="146px" align="center" fileref="resources/images/dhis_mobile/http_error_mobile_client.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Users should be informed that if they see this error, then it means that their data has not been transmitted.</para>
</listitem>
</itemizedlist>
</section>
</section>
<section>
<title>Community Reporting</title>
<para>The community based reporting function works in a similar manner as the aggregate reporting function, but patient based data elements.</para>
<section>
<title>Regular Use</title>
<orderedlist>
<listitem>
<para>Activity Main Menu</para>
<para><graphic fileref="resources/images/dhis_mobile/activity_main_menu.png" align="center"/></para>
<para><itemizedlist>
<listitem>
<para>Current Activity Plan: Contain all new activities that need to be completed.</para>
</listitem>
<listitem>
<para>Sent Activity Plan: Contain all the activities that have been completed and sent to server. This list is for review only.</para>
</listitem>
</itemizedlist></para>
</listitem>
<listitem>
<para>Choose Village or Location</para>
<para><graphic fileref="resources/images/dhis_mobile/choose_village.png" align="center"/></para>
<para>From Activity main menu, select “Current Activity Plan”. You will be navigated to “Grampanchayat Name” screen where you can select the village. Use the “Up” or “Down” button on your mobile phone to focus on a village. Use “Select” button to select a village.</para>
</listitem>
<listitem>
<para>Choose Person</para>
<para><graphic fileref="resources/images/dhis_mobile/choose_beneficiary.png" align="center"/></para>
<para>In a village, person name will be display in a list. User can use the &quot;Select&quot; button to view the activities of the selected name.</para>
</listitem>
<listitem>
<para>Choose Activity</para>
<para><graphic fileref="resources/images/dhis_mobile/choose_activity.png" align="center"/></para>
<para>Each Activity is represented by the name of the Person. Select the name of the person you want to view. Note that the name start with “*” means that this is a late Activity.</para>
</listitem>
<listitem>
<para>Person Detail</para>
<para><graphic fileref="resources/images/dhis_mobile/beneficiary_detail_screen.png" align="center"/></para>
<para>Select the &quot;Detail&quot; command on the left of the activity screen , a Person Detail screen will be displayed. The detail screen may contain personal information and some additional information of the Person (depends on the setting from server). Select “OK” to go back to activity screen.</para>
</listitem>
<listitem>
<para>Fill in values (Entry screen)</para>
<para><graphic fileref="resources/images/dhis_mobile/fill_in_values.png" align="center"/></para>
<para>On the top of the screen is the name of the Program Stage. Below is the form, a form include many fields for user to input data. Focus on a field by press the “Up” or “Down” button on your mobile phone. After the field is focused, you can start entering data. Press the “Up” or “Down” button to go to the next field. At the bottom is the menu with &quot;Save&quot;, &quot;Complete&quot; and &quot;Back&quot; command. </para>
<para><graphic fileref="resources/images/dhis_mobile/popup_window.png" align="center"/></para>
<para><emphasis role="bold">*Notes:</emphasis><itemizedlist>
<listitem>
<para>For the field with Yes/No value: press the select button on a focused field to open the popup menu then you can select “Yes”, “No” or “Select Option”. Select “Select Option” means that you have no data for that field.</para>
</listitem>
<listitem>
<para>For the field with pre-suggested values: press the select button to open the popup menu then you can choose one of the options. Select “Select Option” means that you have no data for that field..</para>
</listitem>
<listitem>
<para>For date-type value: </para>
<para>- If server Date is available, application will take server Date as default value.</para>
<para>- If server Date is not available, date filed will be leave blank for user to input manually.</para>
</listitem>
</itemizedlist></para>
</listitem>
<listitem>
<para>Saving/Completing.</para>
<para>After finish step [4], you can choose either “Save” or “Complete” to finish your work.<itemizedlist>
<para><graphic fileref="resources/images/dhis_mobile/save_command.png" align="center"/></para>
<listitem>
<para><emphasis role="bold">Save</emphasis>: you may want to use this option if you have not finished your work yet and you want to store the data to continue later.<itemizedlist>
<listitem>
<para>Select “Menu” or “Option” at the bottom of your screen (The name “Menu” or “Option” depend on your mobile phone) and then select “Save”. A success message (“Form Saved”) will be display. Select “Done” or “Dismiss” to go back to Entry Screen.</para>
</listitem>
<listitem>
<para>Your data will not be sent to server. It is stored in the Record Store of your mobile phone. To see the data again. Go back to step [2] and select the name of the Person that you have just entered data. Repeat step [3] and [4]. If you feel that you are ready to send data to server. Select “Complete”.</para>
</listitem>
</itemizedlist></para>
<para><graphic fileref="resources/images/dhis_mobile/complete_command.png" align="center"/></para>
</listitem>
<listitem>
<para><emphasis role="bold">Complete</emphasis>: you may use this option when you fill the entire field on the form and make sure that your data is correct.
</para>
<para><itemizedlist>
<listitem>
<para>Select “Menu” or “Option” at the bottom of your screen (The name “Menu” or “Option” depend on your mobile phone) and then select “Complete”. </para>
</listitem>
<listitem>
<para>If you did not fill all the field in the form, a warning message will be display “x fields is not filled. Do you want to complete anyway?” With x is the number of empty field(s). Select “Yes” if you want to send data to server, select “No”, if you do not want to send and go back to Entry screen again. </para>
</listitem>
<listitem>
<para>After select “Yes”, a security message will appear and inform that the application will connect to server. Select “Yes” to give the permission for the application to do so.</para>
<para><graphic fileref="resources/images/dhis_mobile/security_message.png" align="center"/></para>
</listitem>
<listitem>
<para>User will receive a success message: “Activity uploaded successfully”.</para>
<para><graphic fileref="resources/images/dhis_mobile/success_message.png" align="center"/></para>
</listitem>
<listitem>
<para>A finished activity (activity that is completed and data is send to server) will be move to &quot;Completed Activity&quot; and it will be display as &quot;Uneditable Form&quot;. User can go to &quot;Completed Activity&quot; at &quot;Activity Main Menu&quot; to review.</para>
</listitem>
</itemizedlist></para>
</listitem>
</itemizedlist></para>
</listitem>
<listitem>
<para>Sent Activities</para>
<para><graphic fileref="resources/images/dhis_mobile/sent_activities.png" align="center"/></para>
<para>From &quot;Activity Main Menu&quot; screen, select &quot;Sent Activities&quot; to go to the list of all activities you sent to server. The structure of this screen is exactly the same as &quot;Activity Plan List&quot;. Select &quot;Detail&quot; to see the detail of the activity of select &quot;Select&quot; to go to the &quot;Uneditable Screen&quot;.</para>
<para><graphic fileref="resources/images/dhis_mobile/unediatble_form.png" align="center"/></para>
<para>In this screen, user can only review the form they sent to server. No edit or change is allowed. Select &quot;Back&quot; to go back to &quot;Sent Activities&quot; screen.</para>
</listitem>
</orderedlist>
</section>
<section>
<title>Updating Activity Plan and Program Form</title>
<para>After some days, weeks or months, new Activities may automatically generated from server, some Program Stage Data Element may be removed from original form. In order to update these new changes, we have a &quot;Automatic Update Activity Plan and Program&quot; function.</para>
<para><graphic fileref="resources/images/dhis_mobile/activity_plan_blocked.png" align="center"/></para>
<orderedlist>
<listitem>
<para>This function is completely automatic. After user start the application and enter PIN, a requested to be sent to server to update new data.</para>
</listitem>
<listitem>
<para>While this function perform, the &quot;Current Activity Plan&quot; is temporarily blocked and it will be open again as soon as the updating process complete.</para>
</listitem>
<listitem>
<para>This function update both &quot;Activity Plan&quot; and &quot;Program Form&quot;.</para>
<para>“Update Completed” message will appear on the screen after the update process finish. Select ”Dismiss” to close this window and go back to Activity Main Menu. Your Current Activity Plan is now updated.</para>
</listitem>
<listitem>
<para>When a data element removed due to the changing of form structure, all data value that related to that data element will be hiding also. You are no longer seeing the value in the form. </para>
</listitem>
</orderedlist>
</section>
</section>
</section>
</section>
</section>
<chapter>
<title>Introduction to indicators</title>
<para>When the ‘Data Elements and Indicators’ options is chosen from the main Maintenance menu, the following screen appears:</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_main.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>From the left side menu or by scrolling down the central area you can access the various sections on Indicators; </para>
<para>Indicator, Indicator Type, Indicator Group, Indicator Group Editor, and Indicator Group Set. </para>
<section id="indicator">
<title>Indicators</title>
<para>Indicators are composed of multiple data elements, and typically consist of a numerator and a denominator. Indicators are never entered in DHIS 2, but instead calculated from the raw data registered in the system, based on the indicator formulas. Indicators are used to calculate i.e. coverage rates, incidence, ratios and other calculated values which are more useful for data analysis than the raw data described by data elements. </para>
<para>To access the Indicator maintains page, press Maintenance -&gt; Data Element and Indicators -&gt; Indicator from the main DHIS2 menu. You can add, delete, modify and view extra information about the indicators in the system using the icons next to each indicator in the list.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/indicator_maintenance_main.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Indicators can be filtered by entering the name or a part of the indicator name in the &quot;Filter by name&quot; field. Similar to data elements, indicators can be added by pressing the &quot;Add new&quot; button. Other operations available from this menu are as follows. </para>
<itemizedlist>
<listitem>
<para><inlinegraphic fileref="resources/images/dhis2_images/edit.png"/> Edit an existing indicator. </para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/dhis2_images/i18n.png"/> Translate an existing indicator. </para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/dhis2_images/delete.png"/> Delete an existing indicator. </para>
</listitem>
<listitem>
<para><inlinegraphic fileref="resources/images/dhis2_images/information.png"/> Get detailed information about this indicator. </para>
</listitem>
</itemizedlist>
<para>To add a new indicator, click the &quot;Add new&quot; button. The following screen is displayed. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/indicator_add.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Each of the fields marked with an asterisk are compulsory. A description of each field is provided below. </para>
<itemizedlist>
<listitem>
<para>Name: The full name of the indicator, such as &quot;Incidence of confirmed malaria cases per 1000 population&quot;</para>
</listitem>
<listitem>
<para>Short name: An abbreviated name of the indicator such as &quot;Inc conf. malaria per 1000 pop&quot;</para>
</listitem>
<listitem>
<para>Alternative name: An additional field for a possible alternative name of the indicator. </para>
</listitem>
<listitem>
<para>Code: In many countries, indicator are often assigned a particular code which can be entered here. </para>
</listitem>
<listitem>
<para>Description: A brief, informative description of the indicator and how it is calculated can be entered here. </para>
</listitem>
<listitem>
<para>Annualized: Determines whether or not an annualization factor is applied during the calculation of the indicator. Typically, annualized indicator numerators are multiplied by a factor of 12, and the denominator is a yearly population figure. This allows for monthly coverage values to be calculated with yearly population figures.</para>
</listitem>
<listitem>
<para>Type: This field will determine a factor that will automatically be applied during the calculation of the indicator. Possible choices are determined by the Indicator Types (described below). For instance, a &quot;Percent&quot; indicator will automatically be multiplied by a factor of 100 when aggregated, so that it will display as a percentage. </para>
</listitem>
<listitem>
<para>URL: Can be used as a link to an indicator registry, where a full metadata description of the indicator can be made available. </para>
</listitem>
</itemizedlist>
<para>To define the numerator and denominator, simply press the respective button, and the following dialogue will be displayed. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/indicator_numerator_denominator.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Essentially, an indicator is a formula that can be composed of multiple data element, constant factors, and mathematical operators. In order to define a new indicator proceed with the following steps. </para>
<orderedlist>
<listitem>
<para>Provide a description of the numerator in the &quot;Description field&quot;. </para>
</listitem>
<listitem>
<para>Choose the aggregation operator, either as a SUM or AVERAGE. </para>
</listitem>
<listitem>
<para>Define the formula of the indicator by selecting the data elements that should compose the numerator from the &quot;Data elements&quot; list. Simply double click on a data element and it will appear in the formula. The formula must be mathematically valid, including the proper use of parentheses when necessary. Double click on each of the mathematical operator buttons below the indicator formula definition to add them to your formula. Once you click outside the formula window the Description field below will be updated. </para>
</listitem>
<listitem>
<para>Once you can see that the description field below the formula has been updated and you are done with your formula, you can click the Save button to save all changes to the numerator. Click Cancel to discard any changes that you have made. </para>
</listitem>
<listitem>
<para>Follow the same procedure in order to define the denominator. </para>
</listitem>
</orderedlist>
</section>
<section id="indicatorType">
<title>Indicator types</title>
<para>Indicator types define a factor (e.g. 100 for percentages) that will be applied during aggregation, and makes sure the system calculated indicator values are pre-formatted and need to further manipulation by the user to get percentages etc.</para>
<para>The indicator type maintenance panel has all of the same functions (Add new, Edit, Translate, Delete, and Information) as the Indicator maintenance section. </para>
<para>There are only two fields that need to be filled in to create an indicator type, Name and Factor, as seen below. Name refers to the Indicator type (e.g. Per cent, Per thousand, Per ten thousand, etc). The factor is the numeric factor that will be applied during the calculation of the indicator. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/indicator_type.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</chapter>
<chapter>
<title>Using GIS</title>
<section>
<title>GIS module overview</title>
<para>You can access the GIS module from the Services -&gt; GIS link in the top menu. The picture below shows the GIS viewport.</para>
<screenshot>
<screeninfo>Main GIS screen</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/gis/gis_main.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>On the right hand side there is a panel called &quot;Map layers&quot;. There are three available &quot;base layers&quot;, which means background map, including OpenStreetMap and Google Maps. You may click the text to open a context menu that lets you adjust the opacity/transparency of the background. &quot;Overlays&quot; are described later in this chapter. The final four layers are the vector layers which the user has at his disposal for thematic mapping. You may use this layer tree to show/hide layers by checking/uncheking their checkbox. The next panel called &quot;Cursor position&quot; tells you at what longitude and latitude your mouse cursor is positioned. The &quot;Feature data&quot; panel provides you with quick information on the organisation units you mouse hover in your thematic maps. Finally there is a legend panel for all the thematic layers.</para>
<para>The picture below shows the map toolbar:</para>
<screenshot>
<screeninfo>Map toolbar</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/gis/gis_toolbar.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The &quot;Map&quot; buttons from the left: &quot;Zoom in&quot;, &quot;Zoom out&quot;, &quot;Zoom to visible extent&quot; (all thematic map data fits inside the viewport).</para>
<para>The &quot;Layers&quot; buttons from the left: &quot;Thematic layer 1&quot;, &quot;Thematic layer 2&quot;, &quot;Facility layer&quot;, &quot;Symbol layer&quot;.</para>
<para>The &quot;Tools&quot; buttons from the left: &quot;Favorite map views&quot;, &quot;Predefines legend sets&quot;, &quot;Export map to PNG&quot;, &quot;Measure distances on map&quot;.</para>
<para>The two final buttons are &quot;Administrator settings&quot; and &quot;Help&quot;.</para>
</section>
<section>
<title>Thematic mapping</title>
<para>This section describes the four vector layers which the user has at his disposal for thematic mapping: &quot;Thematic layer 1&quot;, &quot;Thematic layer 2&quot;, &quot;Facility layer&quot; and &quot;Symbol layer&quot;.</para>
<section id="gisThematicMap">
<title>Thematic layer 1 and 2</title>
<screenshot>
<screeninfo>Thematic mapping</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/gis/gis_thematic_mapping.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The two thematic layer panels let you use your data for thematic mapping. All you need to do is selecting your desired indicator/dataelement-period-map combination, then the organisation unit level and finally the parent to define the boundary. If your database has coordinates for these organisation units they will appear on the map.</para>
<para>You may choose between legend types: <guimenuitem>automatic</guimenuitem> and <guimenuitem>predefined</guimenuitem>. Automatic means that the application will create a legend set for you based on your what method, number of classes, low color and high color you select. Method alludes to the size of the legend classes. Set to <guimenuitem>Equal intervals</guimenuitem> they will be “highest map value – lowest map value / number of classes”. Set to <guimenuitem>Equal group count</guimenuitem> the legend creator will try to distribute the organisation units evenly. Choose <guimenuitem>Fixed bounds </guimenuitem>and you may define your own class break values, type e.g. “20,40,60” using a comma to separate each of them. The legend will appear as an even gradation from the start color to the end color. Predefined legend sets are described in <xref linkend="gisLegendSet"/> .</para>
<para>Low radius and high radius only have effect on points (facilities) and decides the the circle radius for points with the lowest and highest value.</para>
<para>The map view combo box lists all map views (favorites) saved by the user. The settings that are stored in the map view is automatically applied to the thematic map panel. Favorite map views are described in<xref linkend="gisFavoriteMapView"/> .</para>
<para>All available layer options are now grouped together in the thematic layer menu, see picture below.</para>
<screenshot>
<screeninfo>Thematic layer options</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/gis/gis_thematic_layer_options.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Edit layer: Opens up the layer configuration window, see the thematic mapping screenshot.</para>
<para>Refresh: Refreshes the map boundaries, data and legend. Usually not necessary.</para>
<para>Clear: Clears the entire layer, i.e. the configuration window, the map and the legend panel.</para>
<para>Filter: Opens up the filter window and lets you filter out organisation units from the map by value. See the picture below.</para>
<screenshot>
<screeninfo>Filter</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/gis/gis_filter.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Search: Opens up the search window and lets you search for and locate organisation units on the map. See picture below.</para>
<screenshot>
<screeninfo>Search</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/gis/gis_search.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Labels: Opens up the label window and lets you add labels to the organisation units on the map. See picture below.</para>
<screenshot>
<screeninfo>Labels</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/gis/gis_labels.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Opacity: Set the layer opacity/transparency to 10, 20, 30, 40, 50, 60, 70, 80, 90 or 100%. Higher values of opacity make the layer more transparent, so that the underlying layer is more visible. An opacity level of zero will provide a fully opaque layer.</para>
<para>History: Provides you with a list of your 10 previous maps/selections. They are temporary and thus gone when the application is restarted.</para>
</section>
<section id="gisFacilityMap">
<title>Facility layer</title>
<para>This layer displays icons that represent facilities based on the facility type. Currently, &quot;<guimenuitem>Type</guimenuitem>&quot; is the only supported group set. Polygons will not show up on the map, so make sure to select a facility level. Click an icon on the map to open the context menu with two options. &quot;Show information sheet&quot; provides you with data for several data elements for this organisation unit. The data element group and period type are &quot;system settings&quot; called &quot;Infrastructural data elements&quot; and &quot;Infrastructural period type&quot;. The second option in the context menu is &quot;Relocate&quot; and lets you graphically move the organisation unit to a different location. The new coordinate will be stored permanently.</para>
<screenshot>
<screeninfo>Facility layer</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/gis/gis_facility_layer.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section id="gisSymbolMap">
<title>Symbol layer</title>
<para>This layer displays icons that represent areas/polygons like provinces, districts etc instead of facilities/points. Thus, in this layer you are not supposed to select a facility level, but instead a level of provinces, districts etc. In order to render this layer you need to create a predefined legend set of images, described in <xref linkend="gisLegendSet"/>.</para>
<screenshot>
<screeninfo>Symbol layer</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/gis/gis_symbol_layer.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</section>
<section>
<title>Tools</title>
<para>This section describes the available GIS tools, which are available on the &quot;Tools&quot; section of the map toolbar.</para>
<section id="gisFavoriteMapView">
<title>Register favorite map views</title>
<para>Click the &quot;Favorite map views&quot; button (star icon) on the toolbar to get the context menu. The first option is &quot;Manage favorites&quot; which opens up a window where you are supposed to type the name of the favorite and select the layer you want to save. If you are an administrator you can check the &quot;System&quot; checkbox to make the favorite available to all users. From the bottom combobox you may delete a favorite or add it to the DHIS 2 dashboard.</para>
</section>
<section id="gisLegendSet">
<title>Register legend sets</title>
<para>Example usage (vaccination coverage): Firstly, create the legends that are going to constitute the legend set. The first one could be &quot;Low bad&quot; (display name), 0 (start value), 30 (end value), red (color). Then create &quot;Medium&quot; / 30 / 70 / yellow and finally &quot;High good&quot; / 70 / 100 / green. Now, open the &quot;legend set&quot; panel, type e.g. &quot;High is good&quot; as display name and select the desired legends below. Multi-select your three legends by pressing and holding the Ctrl/Shift button when selecting. Then click the register button to store the legend set. Assign indicators/data elements to your legend set in one of the two last panels. Select the legend set in the combo box and multi-select items in the list below. Click the assign button to update the legend set. Please see the referred window in section 1.1.</para>
</section>
<section id="gisImageExport">
<title>Exporting/saving map images</title>
<para>Click the image icon on the map toolbar and the print window will open. Title: Image title, will appear as a headline in the image. Layers: Choose whether polygons, points or both will be printed. Width/Height: The pixel resolution of the image. Choose among the predefined &quot;small&quot; (800x600), &quot;medium&quot; (1190x880), &quot;large&quot; (1920x1200) or type the exact number of pixels yourself (type the number only, avoid text like &quot;px&quot;). If you want to exclude the legend from the image, untick the legend checkbox. Finally click the export button to print the image (PNG). Please see the referred window in section 1.1.</para>
</section>
<section id="gisMeasureDistance">
<title>Measure distance</title>
<para>Click the two-way arrow icon on the map toolbar to enter measuring mode. Now, click your desired start location on the map and a dotted line will follow the cursor toward your destination. Single click to create a line point, double click to finish the line. To exit measuring mode, click the toolbar icon again or close the window.</para>
</section>
</section>
</chapter>
<chapter>
<title>Using reporting functionality</title>
<section id="reporting_intro">
<title>Reporting functionality in DHIS 2</title>
<para>The reporting module in DHIS 2 provides a range of reporting alternatives, and this section will explain how to use them to view and analyse data. Another section explains how to configure and set up the various reporting tools.</para>
<para><emphasis role="bold">Standard reports:</emphasis> Standard reports are built on report tables, but are more advanced in its design allowing for more cosmetics and styles. These reports can also combine multiple tables and charts in the same report and be made available as one-click reports that are very easy to use. These reports can be downloaded as PDF files which makes them ideal for printing as well as sharing offline. </para>
<para><emphasis role="bold">Dataset reports:</emphasis> Dataset reports are simply a printer friendly way to look at the data entry forms with either raw or aggregated data (over time or place). The design used in data entry will be used also in the data set reports. This will work only for data sets that has a custom data entry form set up.</para>
<para><emphasis role="bold">Dashboard:</emphasis> The fastest way to view your data. The dashboard can display up to four updated charts as well as shortcuts to your favourite reports, report tables, and map views. Each user can configure a personal dashboard.</para>
<para><emphasis role="bold">Data Visualizer:</emphasis> Do flexible visualizations of your data as charts and data tables. Any numbe of indicators and data elements can be included. Several chart types are available, such as column, stacked column, line, area and pie charts. The charts can be saved in order to be easily retrieved later and can also be put on your personal dashboard. Charts can be downloaded as image and PDF files to your local computer. </para>
<para><emphasis role="bold">Report tables:</emphasis> These are very configurable table outputs of your data, either showing raw or aggregated data, as well as indicator data. These tables are used as either a data source for more advanced reports, for export to external systems, or as a crude report itself, and are exportable to pdf, excel, csv and jasper design files. These tables represent a very dynamic, flexible and quick way to look at the data. Report tables can be set up with parameters to make them reusable over time and place.</para>
<para><emphasis role="bold">Orgunit distribution reports:</emphasis> These reports are generated off the orgunit group set information and can show what types (and how many of each type) of health facilities that are located in a given area (any level in the hierarchy). These reports are automatically generated and display the information in both tables and charts, and downloads in pdf, excel, and csv are available.</para>
<para><emphasis role="bold">Reporting rate summary:</emphasis> These reports provide a nice overview of how many facilities that have submitted their data for a given dataset and period. Here you can get both the counts and the percentages showing the reporting rate for all or single data sets.</para>
<para><emphasis role="bold">Excel pivot tables:</emphasis> Excel pivot tables represents a very powerful way to analyse your data and DHIS 2 links directly to the pivot tables so that all the data will be available and updated in your Excel file. This can be a very useful tool for users that prefer working with the data offline. To update your local pivot tables you need the myDatamart tool which connects to the online server and downloads the latest data. This update will typically take place once a month when new data is available, but do not require a constant internet connection like the other reporting tools (if you are connecting to an online DHIS 2 server).</para>
<para><emphasis role="bold">Web-based pivot tables:</emphasis> The built in pivot table tool is a simple web-based tool to display indicator data by orgunit and period in a typical pivot table view and allows for some basic pivoting manipulations of the tables. It is a quick and easy way to look at many indicator values at the same time (by orgunit and/or period), but does not have the same functionality as the offline Excel pivot tables. </para>
<para><emphasis role="bold">GIS:</emphasis> Present and analyse your data using thematic maps. You can view both data elements and indicators and given that you have coordinates for all your orgunits you can drill down the hierarchy and view maps for all levels from country polygons to facility points. See the separate chapter on GIS for more details. All the map information is built into DHIS 2 and all you need to do is to register coordinates for your organisation units and the maps will be available.</para>
</section>
<section id="standard_reports">
<title>Using standard reports</title>
<para>You access the available reports from the Services drop-down menu, by selecting Reports. In the report menu in the left bar, click Standard Report. A list of all pre-defined reports will appear in the main window. </para>
<screenshot>
<screeninfo>Standard reports</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/standard_reports_ke.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>You run/view a report by clicking on the white and green arrow next to the report you want. You will then see a report parameter window where you must fill in the values needed for orgunit and/or reporting month, depending on what has been defined in the underlying report table(s). Click on &quot;Get Report&quot; when you are ready. The report will wither apper directly in your browser or be available as a .pdf file for download, depending on your browser settings for handling pdf files. You can save the file and keep it locally on your computer for later use. </para>
</section>
<section id="report_tables">
<title>Using report tables</title>
<para>Report tables is a simple-to-use tool for creating tabular analysis. To run a report table first navigate to the list of available report tables in Services-&gt;Reports-&gt;Report Tables and the click on the Green and white arrow (the first symbol in the operations list) next to the report table you want to view. </para>
<para><emphasis role="bold">Report parameters:</emphasis> Most report tables have parameters, which means that you can filter which orgunits and/or periods you want in the report. This makes the reports much more reusable. When you run the report table a Report parameter window will open and ask the user to input values for the selected parameters. The possible parameters are Reporting Month and Organisation Unit, and either one of these or both will show in the window. After selecting the values click on the Get Report button.</para>
<screenshot>
<screeninfo>Report table parameters</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/report_parameters.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="bold">Export/view options:</emphasis> When the report table is ready it will be displayed in a html view. The report table can be exported to pdf (for better printing and easier saving), excel, csv, and also to a standard report format (Jasper) with a nicer table and a chart shown in pdf, or as a jasper design file for further improvements and changes to the report design before uploading it as a standard report (see the Creating standard reports section).</para>
<screenshot>
<screeninfo>Report table view</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/report_table_view.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para> </para>
</section>
<section id="dataset_reports">
<title>Using dataset reports</title>
<para>Dataset reports are printer friendly views of the data entry screen filled with either raw or aggregated data. These are only available for data sets that have custom data entry forms and not for default or section forms.</para>
<para>You can access data set reports from the Report menu under Services.</para>
<para>A Criteria window will appear where you fill in the details for your report:</para>
<para><emphasis role="bold">Dataset:</emphasis> The data set you want to display.</para>
<para><emphasis role="bold">Reporting period: </emphasis>The actual period you want data for. This can be aggregated as well as raw periods. This means that you can ask for a quarterly or annual report even though the data set is collected monthly. A data set&apos;s period type (collection frequency) is defined in data set maintenance. First select the period type (Monthly, Quarterly, Yearly etc.) in the drop down next to Prev and Next buttons, and then select one of the available periods from the dropdown list below. Use Prev and Next to jump one year back or forward.</para>
<para><emphasis role="bold">Use data for selected unit only:</emphasis> Use this option if you want a report for an orgunit that has children, but only want the data collected directly for this unit and not the data collected by its children. If you want a typical aggregated report for an orgunit you do not want to tick this option.</para>
<para><emphasis role="bold">Reporting Organisation unit:</emphasis> Here you select the orgunit you want the report for. This can be at any level in the hierarchy as the data will be aggregated up to this level automatically (if you do not tick the option above).</para>
<para>When you are done filling in the report criteria you click on &quot;Generate&quot;. The report will appear in html view in a printer-friendly format. Use print and save as functions in the browser to print or save (as html) the report.</para>
</section>
<section id="resource">
<title>Using resources</title>
<para>The resource tool allows you to upload both files from your local computer to the DHIS server and to add links to other resources on the Internet through URLs. If you want to share the direct link to the DHIS resource you can right clik on the "view resource" button and copy the link address.</para>
<para>The create a resource click on the &quot;Add new&quot; button. Enter a name for the resource, then choose between uploading a file or external URL. If you chose file upload click &quot;Choose file&quot; and select your file your local computer. If you chose URL enter the link to the resource on the Internet. Then click &quot;Save&quot;.</para>
</section>
<section id="data_visualizer">
<title>Using data visualizer</title>
<para>The data visualizer module can be accessed under &quot;Services&quot; in the top menu. See the chapter called &quot;Using data visualizer&quot; for a thorough explanation of this module.</para>
</section>
<section id="reporting_dashboard">
<title>Using the dashboard</title>
<para>The dashboard is your first view into the data every time you log on to the system. Every user has its own dashboard, and a dashboard consists of 4 chart areas to the right and 3 short cut areas to the left.</para>
<screenshot>
<screeninfo>Dashboard</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/dashboard_kenya.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="bold">Customise shortcut areas:</emphasis> Each of the three short cut areas can hold a list of items from one of the following objects; Reports (standard), Documents, Data mart exports, Report tables, Map views, RSS Health. To add a new object type to a shortcut area click on the Insert link just above the area. Then to populate the list you need to add items one by one from the Services-&gt;Reports menus. From the various lists of reports, report tables, charts etc. you can add an item by clicking on the pie chart icon next to the item you want to add to the dashboard. </para>
<para>E.g. to add your three favourite standard reports to the dashboard, first Insert Reports to one of the shortcut areas in the dashboard, then go to Services-&gt;Reports and click on Standard reports. From the list of standard reports you locate the reports you want and click on the pie chart icon next to each of the reports you want to add to the dashboard. When you go back to the dashboard you will see the three reports listed in the shortcut area where you inserted Reports.</para>
<para>Use the Clear link above the shortcut area to empty an area. The Close link closes the insert menu without inserting a new object type. </para>
<para><emphasis role="bold">Customise chart areas:</emphasis> There are four chart areas. To insert a chart simply click on insert and click on one of the charts in the list. Use Close to close the list without adding a new chart, and use Clear to empty a chart area. These charts will be updated every time you open the dashboard, will automatically show data for the orgunit assigned to the current user, and will update the data when new periods are available. </para>
<screenshot>
<screeninfo>Adding charts to the dashboard</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/dashboard_add_chart.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section id="reporting_reporting_rate_summary">
<title>Using reporting rate summary</title>
<para>Access the reporting rate summary from the Services-&gt;Reports menu. Reporting rate summaries will show how many datasets (forms) that have been submitted by organisation unit and period. You an use one of three different methods to calculate completeness; 1) based on complete button in data entry, 2) based on a set of defined compulsory data elements, or 3) based on the total registered data values for a dataset. </para>
<para><emphasis role="bold">To run the report do the following:</emphasis></para>
<para>Select an orgunit from the tree.</para>
<para>Select one of the completeness methods.</para>
<para>Select all or one dataset (All will give you a report with all datasets for the seelcted orgunit. One dataset will give you a report with completeness for all the children of the selected orgunit.</para>
<para>Select a period type and a period from the list of available periods for that period type. Move back/forward one year by using the Prev/Next buttons.</para>
<para>Then the report will be shown automatically.</para>
<para>Change any of the parameters above and the report will be updated automatically.</para>
<screenshot>
<screeninfo>Completeness report</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/completeness_report.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section id="orgunit_distribution_reports">
<title>Using organisation unit distribution reports</title>
<para>You can access the Orgunit Distribution reports from the left side menu in the Services-&gt;Reports module. </para>
<para>Orgunit distribution reports are reports that show how the orgunits are distributed on various properties like type and ownership, and by geographical areas.</para>
<para>The result can be presented in a table-based report or in a chart.</para>
<para><emphasis role="bold">Running a report:</emphasis></para>
<para>To run a report first select an orgunit in the upper left side orgunit tree. The report will be based on orgunits located under the selected orgunit. The select the orgunit group set that you want to use, typically these are Type, Ownership, Rural/Urban, but can be any user-defined orgunit group set. The you can click on either Get Report to get the table-based presentation or Get chart to get the same result in a chart.</para>
<screenshot>
<screeninfo>Orgunit distribution report</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/orgunit_report.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section id="web_pivot_table">
<title>Using web pivot table</title>
<para>The web pivot table is a tool for displaying and pivoting indicator and data element data in an easy way. From the open data selection box start by selecting data type which can be data elements or indicators. Select the a group as a filter or leave it on &quot;All&quot;. Select start date, end date and period type to indicate which periods you want to include in the pivot table. Continue by selecting an organisation unit from the selection tree. The childeren at the level below the selected organisationn unit will be included in the pivot table. Then click &quot;Get data&quot;.</para>
<para>After loading a pivot table you will see that indicators (or data elements) will appear on top as columns, while periods and organiation units are combined as rows. If you want to pivot the table click on the &quot;Pivot&quot; button and select new dimensions. These dimensions will be displayed as columns in the table when clicking &quot;Pivot&quot;.</para>
<para>In the pivot table you can click on any cell in order to show a menu. From this menu you can choose to visualize the relevant indicator, org unit and period as various chart variants.</para>
<para>To save the pivot table data to your local computer click the &quot;Download as excel&quot; button. The Excel workbook will show each period as a sheet.</para>
</section>
<section id="data_mart">
<title>Using data mart management</title>
<para>The data mart is a set of tables in the DHIS database which is used by all reporting and analysis tools to retrieve data from. The data mart is populated based on the collected data. This management user interface allows you to controll that process of converting collected data into aggregated data and write to the data mart.</para>
<para>The data mart management screen allows you to select period types, start date and end date which will control which periods are included in the data mart process. By default all data elements, indicators and organisation units will be included.</para>
<para>The data mart process might take a long time and heavily utilize the resources of your server so make sure you start such processes at a feasible time in production environments. Data mart processes can be scheduled as regular tasks in the data administration module.</para>
</section>
</chapter>
<chapter>
<title>Data entry</title>
<section>
<title>Learning Objectives</title>
<para>After reading this chapter you will be able to understand:</para>
<itemizedlist>
<listitem>
<para>How to select the right data entry form</para>
</listitem>
</itemizedlist>
<itemizedlist>
<listitem>
<para>How to enter data</para>
</listitem>
<listitem>
<para>How to do data validation</para>
</listitem>
</itemizedlist>
</section>
<section id="dataEntry">
<title>Data entry with DHIS 2</title>
<para>To open the data entry window click on the services tab displayed in the main menu. A
drop down menu will appear listing the services provided by DHIS 2. Click
on the <guibutton>Data Entry</guibutton> option.</para>
<para>The data entry module is where data is manually registered in the DHIS 2 database. Data is registered for an organisation unit, a period, and a set of data elements (data set) at a time. A data set often corresponds to a paper-based data collection tool. </para>
<section>
<title>Selecting the data entry form</title>
<para>To start entering data the first step is to open the correct form. Follow these steps:</para>
<orderedlist>
<listitem>
<para> Locate the orgunit you want to register data for in the tree menu to the left. Expand and close branches by clicking on the +/- symbols. A quick way to find an orgunit is to use the search box just above the tree (the green symbol), but you need to write in the full name to get a match.</para>
</listitem>
<listitem>
<para>Select a data set from the dropdown list of data sets available to your selected orgunit. </para>
</listitem>
<listitem>
<para>Select a period to register data for. The available periods are controlled by the dataset&apos;s period type (reporting frequency). You can jump a year back or forward by using the arrows above the period.</para>
</listitem>
</orderedlist>
<para>By now you should see the data entry form. </para>
<para>Depending on how the data entry form has been implemented, you will see three different types of foms: Default forms, section forms, or custom forms. If a custom form exists, it will be displayed, followed in order of precedence by a section form, and finally a default form.</para>
<screenshot>
<screeninfo>Main data entry screen</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/data_entry/data_entry_overview.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section>
<title>Entering data</title>
<para>Simply start entering data by clicking inside the first field and type in the value. Move to the next field using the Tab button. Shift+Tab will take you back one step. The values are saved immediately and do not require any save/finished button click. A green field indicates that the value has been saved in the system (on the server). On a slow connection it might take some time before the values are saved. </para>
<para><emphasis role="bold">Input validation:</emphasis> If you type in an invalid value, e.g. a character in a field that only accepts numeric values you will get a pop-up that explains the problem and the field will be coloured yellow (not saved) until you have corrected the value. If you have defined a min/max range for the field (data element+organisation unit combination) a pop-up message will notify you when the value is out of range, and the value will remain unsaved until you have changed the value (or updated the range and then re-entered the value). </para>
<para><emphasis role="bold">Disabled fields:</emphasis> If a field is disabled (grey) it means that the field should not be filled. The cursor will automatically jump to the next open field. </para>
<para><emphasis role="bold">Data history:</emphasis> By double-clicking on any input field in the form a data history window opens showing the last 12 values registered for the current field (organisation unit+data element+categoryoptioncombo) in a bar chart. This window also shows the min and max range and allows for adjusting the range for the specific organisation unit and data element combination. </para>
<screenshot>
<screeninfo>Data entry section form with history pop-up</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/data_entry_section_history.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="bold">Follow Up:</emphasis> In the data history window there is also a feature to tag or star a value. E.g. a suspicious value that needs further investigation can be kept in the system, but marked for Follow-Up. In the Data Quality module you can run a Follow-Up analysis and view all values marked for Follow-Up, and then later edit the values if proved incorrect. </para>
</section>
<section id="dataEntry_1">
<title>Validating data in the form</title>
<para>When all the available values for the form has been filled in you can run a validation check on the data in the form. Click on the &quot;Run Validation&quot; button in the top right corner. All validation rules which involves data elements in the current form (dataset) will be run against the new data. Upon completion you will be presented with a list of violations or a simply a message that says &quot;The data entry screen successfully passed validation&quot;. See the Data Quality chapter for information on how to define such validation rules.</para>
<para>When you have corrected any erroneous values and are done with the form the recommended practice is to click on the Complete button below the form to register the form as complete. This information is used when generating completeness reports for district, county, province or the national level.</para>
<screenshot>
<screeninfo>Data entry validation result</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2UserManual/data_entry_validation_result.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section>
<title>Offline data entry</title>
<para> The data entry module will function even if during data entry the Internet connectivity is not stable. In order to utilize this functionality, you must login to the server while the Internet is functional, but if during data entry, the Internet link between your computer and the server becomes unstable, data can still be entered into the data entry form, saved to your local computer, and then pushed to the server once the Internet connectivity has been restored. Data can be entered
and stored locally while being offline and uploaded to the central
server when on-line. This means that the on-line deployment strategy
will be more viable in areas with unstable Internet connectivity. The
total bandwidth usage is greatly reduced since forms no longer are
retrieved from the server for each rendering.</para>
<para>When the server is able to be reached through the Internet connection, a message is displayed at the top of the data entry screen below. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="80%" align="center" fileref="resources/images/data_entry/data_entry_online.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>If the Internet connection should disconnect for some reason during the data entry process, this will be detected by the application, and you will be informed that your data will be stored locally. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="80%" align="center" fileref="resources/images/data_entry/data_entry_offline.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Data entry can proceed as normal. Once you have entered all of the necessary data, and the application detects that the server is back on-line, you will be informed that you have data which needs to be synchronized with the server. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="80%" align="center" fileref="resources/images/data_entry/data_entry_offline_upload1.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Once the data has successfully synchronized with the server, you will receive a confirmation message that the data has been successfully uploaded to the server. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="80%" align="center" fileref="resources/images/data_entry/data_entry_offline_upload_success.png"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</section>
</chapter>
<chapter>
<title>Data dimensions in DHIS2</title>
<section>
<title>The core building blocks describing the data</title>
<para>A data value in DHIS2 (core module for aggregated data) is at minimum described by three dimensions, 1) data element, 2) organisation unit, and 3) period, which also forms the core building blocks of the data model. E.g. if you want to know how many children that were immunised for measles in Gerehun CHC in December 2009, the three dimensions to that value are the Data Element &quot;Measles doses given&quot;, the Organisation Unit &quot;Gerehun CHC&quot;, and the Period &quot;Dec-09&quot;. All data values have at least these three dimensions describing What, Where and When.</para>
<para><table frame="all">
<title/>
<tgroup cols="4">
<colspec colname="c1"/>
<colspec colname="c2"/>
<colspec colname="c3"/>
<colspec colname="c4"/>
<thead>
<row>
<entry>Organisation Unit</entry>
<entry>Data Element</entry>
<entry>Period</entry>
<entry>Value</entry>
</row>
</thead>
<tbody>
<row>
<entry>Gerehun CHC</entry>
<entry>Measles doses given</entry>
<entry>Dec-09</entry>
<entry>22</entry>
</row>
<row>
<entry>Tugbebu CHP</entry>
<entry>Measles doses given</entry>
<entry>Dec-09</entry>
<entry>18</entry>
</row>
</tbody>
</tgroup>
</table></para>
</section>
<section>
<title>The data element dimension</title>
<section>
<title>Data element categories</title>
<para>The data element above called &quot;Measles doses given&quot;, although capturing the core essence of what the data is can be further elaborated and disaggregated into what is called data element categories. The system administrators of DHIS are free to define any data element category dimensions to data elements using the user interface for this in the data element maintenance section, but here are some examples of possible categories to use.</para>
<para>Given the example of Measles vaccination, if you want to know whether these vaccines were given at the facility (fixed) or out in the community as part of the outreach services then you could add a dimension called e.g. &quot;Place of service&quot; with the two possible options &quot;Fixed&quot; and &quot;Outreach&quot;. Then all data collected on measles immunisation would have to be disaggregated along these to options. In addition to this you might be interested in knowing how many of these children who were under 1 year or above 1 year of age. If so you can add an Age dimension to the data element with the two possible options &quot;&lt;1 y&quot; and &quot;&gt;1 y&quot;. This implies further detail on the data collection process. You can also apply both categories Place of service and Age and combine these into a data element category combination e.g. called &quot;EPI disaggregation&quot; and thereby you would be able to look at 4 different more detailed values in stead of only 1 as in the example above for the data element &quot;Measles doses given&quot;: 1) &quot;Fixed and &lt;1 y, 2) Fixed and &gt;1 y, 3) Outreach and &lt;1 y, and 4) Outreach and &gt;1 y. This adds complexity to how data is collected by the health facilities, but at the same time opens up for new possibilities of detailed data analysis of Measles immunisation.</para>
<para><table frame="all">
<title> Example of detailed storage of data values when using data element categories &quot;Place of Service&quot; and &quot;Age&quot; (simplified for readability compared to the actual database table)</title>
<tgroup cols="6">
<colspec colname="c1"/>
<colspec colname="c2"/>
<colspec colname="c3"/>
<colspec colname="c4"/>
<colspec colname="c5"/>
<colspec colname="c6"/>
<thead>
<row>
<entry>Organisation Unit</entry>
<entry>Data Element</entry>
<entry>Place of service</entry>
<entry>Age</entry>
<entry>Period</entry>
<entry>Value</entry>
</row>
</thead>
<tbody>
<row>
<entry>Gerehun CHC</entry>
<entry>Measles doses given</entry>
<entry>Fixed</entry>
<entry>&lt;1 y</entry>
<entry>Dec-09</entry>
<entry>12</entry>
</row>
<row>
<entry>Gerehun CHC</entry>
<entry>Measles doses given</entry>
<entry>Outreach</entry>
<entry>&lt;1 y</entry>
<entry>Dec-09</entry>
<entry>4</entry>
</row>
<row>
<entry>Gerehun CHC</entry>
<entry>Measles doses given</entry>
<entry>Fixed</entry>
<entry>&gt;1 y</entry>
<entry>Dec-09</entry>
<entry>4</entry>
</row>
<row>
<entry>Gerehun CHC</entry>
<entry>Measles doses given</entry>
<entry>Outreach</entry>
<entry>&gt;1 y</entry>
<entry>Dec-09</entry>
<entry>2</entry>
</row>
<row>
<entry>Tugbebu CHP</entry>
<entry>Measles doses given</entry>
<entry>Fixed</entry>
<entry>&lt;1 y</entry>
<entry>Dec-09</entry>
<entry>10</entry>
</row>
<row>
<entry>Tugbebu CHP</entry>
<entry>Measles doses given</entry>
<entry>Outreach</entry>
<entry>&lt;1 y</entry>
<entry>Dec-09</entry>
<entry>4</entry>
</row>
<row>
<entry>Tugbebu CHP</entry>
<entry>Measles doses given</entry>
<entry>Fixed</entry>
<entry>&gt;1 y</entry>
<entry>Dec-09</entry>
<entry>3</entry>
</row>
<row>
<entry>Tugbebu CHP</entry>
<entry>Measles doses given</entry>
<entry>Outreach</entry>
<entry>&gt;1 y</entry>
<entry>Dec-09</entry>
<entry>1</entry>
</row>
</tbody>
</tgroup>
</table></para>
</section>
<section>
<title>Data element group sets</title>
<para>While the data element categories and their options described above dictated the level of detail (disaggregation) at the point of data collection and how data values get stored in the database, the data element group sets and groups can be used to add more information to data elements after data collection. E.g. if looking at a lot of data elements at the same time in a report you would want to group these based on some criteria, e.g. if looking at all the data captured in a form for immunisation and nutrition you might want to separate or group data elements along a programme dimension (called group set) where &quot;Immunisation&quot; (or EPI) and &quot;Nutrition&quot; would be the two groups. Expanding the report to include data from other programs or larger themes of health data would mean more groups to such a group set dimension, like &quot;Malaria&quot;, &quot;Reproductive Health&quot;, &quot;Stocks&quot;. For this example you would create a data element group set called &quot;Programme&quot; (or whatever name you find appropriate), and to represent the different programmes in this dimension you would define data elements groups called &quot;EPI&quot;, &quot;Nutrition&quot;, &quot;Malaria&quot;, &quot;Reproductive health&quot; and so on, and add all these groups to the &quot;Programme&quot; group set. To link or tag the data element &quot;Measles doses given&quot; to such a dimension you must (in our example) add it to the &quot;EPI&quot; group. Which groups you add &quot;Measles doses given&quot; to does not affect how health facilities collect the data, but adds more possibilities to your data analysis. So for the group set dimensions there are three levels; the group set (e.g. &quot;Programme&quot;), the group (e.g. &quot;EPI&quot;), and the data element (e.g. &quot;Measles doses given&quot;).</para>
<para>Indicators can be grouped into indicator groups and further into indicator group sets (dimensions) in exactly the same way as data elements.</para>
<para><table frame="all">
<title/>
<tgroup cols="5">
<colspec colname="c1"/>
<colspec colname="c2"/>
<colspec colname="c3"/>
<colspec colname="c4"/>
<colspec colname="c5"/>
<thead>
<row>
<entry>Organisation Unit</entry>
<entry>Data Element</entry>
<entry>Programme</entry>
<entry>Period</entry>
<entry>Value</entry>
</row>
</thead>
<tbody>
<row>
<entry>Gerehun CHC</entry>
<entry>Measles doses given</entry>
<entry>EPI</entry>
<entry>Dec-09</entry>
<entry>22</entry>
</row>
<row>
<entry>Gerehun CHC</entry>
<entry>Vitamin A given</entry>
<entry>Nutrition</entry>
<entry>Dec-09</entry>
<entry>16</entry>
</row>
<row>
<entry>Tugbebu CHP</entry>
<entry>Measles doses given</entry>
<entry>EPI</entry>
<entry>Dec-09</entry>
<entry>18</entry>
</row>
<row>
<entry>Tugbebu CHP</entry>
<entry>Vitamin A given</entry>
<entry>Nutrition</entry>
<entry>Dec-09</entry>
<entry>12</entry>
</row>
<row>
<entry>Gerehun CHC</entry>
<entry>Malaria new cases</entry>
<entry>Malaria</entry>
<entry>Dec-09</entry>
<entry>32</entry>
</row>
<row>
<entry>Tugbebu CHP</entry>
<entry>Malaria new cases</entry>
<entry>Malaria</entry>
<entry>Dec-09</entry>
<entry>23</entry>
</row>
</tbody>
</tgroup>
</table></para>
</section>
</section>
<section>
<title>The organisation unit dimension</title>
<para>Organisation units in DHIS2 can be either any type of health facility like Community Health Centres or referral hospitals, or an administrative unit like &quot;MoHS Sierra Leone&quot;, &quot;Bo District&quot; or &quot;Baoma Chiefdom&quot;. Orgunits are represented in a default hierarchy following the health system at large, and are therefore assigned an organisational level. E.g. Sierra Leone has 4 levels; National, District, Chiefdom, and PHU, and all orgunits are linked to one of these levels. An orgunit hierarchy in DHIS can have any number of levels. Normally data is collected at the lowest level, at the PHUs, and then data values are linked to individual PHUs. When designing reports at higher levels with data aggregated by chiefdom or district, the DHIS will use the hierarchy structure to sum up all the health facilities&apos; data for any given unit at any level. The orgunit level capturing the data always represents the lowest level of detail that is possible to use in data analysis, and the organisational levels define the available levels of aggregation along a geographical dimension.</para>
<section>
<title>Organisation unit group sets and groups</title>
<para>While PHU is the lowest geographical level for disaggregation in DHIS2 there are ways to flexibly group organisation units into any number of dimensions by using the group sets and groups functionality. E.g. if all PHUs are given an official type like CHC, CHP, MCHP etc. it is possible to create an orgunit group set called &quot;Orgunit type&quot; and add groups with the names of the types mentioned above. Then you can link your orgunits to their corresponding groups (orgunit types). Other common orgunit dimensions are Rural/Urban (Rural, Urbal, Peri-urban), and Ownership (Public, Private. NGO etc.). When analysing data from the PHU level it then becomes possible to aggregate data by these dimensions, e.g. look at Measles immunisation in BO district by the type of PHU in stead of the PHUs themselves.</para>
<section>
<title>Alternative orgunit hierarchies - advanced use of group sets and groups</title>
<para>A more advanced use of orgunit group sets and groups is to create alternative hierarchies e.g. use administrative borders from other ministries. In Sierra Leone that could mean an alternative hierarchy of 1:MoHS, 2:Districts, and 3: Local councils, instead of the 4 level hierarchy with chiefdoms and PHUs. E.g. if all PHUs where linked to a specific local council it would be possible to look at data aggregated by local council instead of chiefdom. Then you would first need to create a group set called &quot;Local council&quot; and then create one orgunit group for every local council, and finally link all PHUs to their corresponding local council group.</para>
<para><table frame="all">
<title/>
<tgroup cols="5">
<colspec colname="c1"/>
<colspec colname="c2"/>
<colspec colname="c3"/>
<colspec colname="c4"/>
<colspec colname="c5"/>
<thead>
<row>
<entry>District</entry>
<entry>OrgUnit Type</entry>
<entry>Data Element</entry>
<entry>Period</entry>
<entry>Value</entry>
</row>
</thead>
<tbody>
<row>
<entry>Bo</entry>
<entry>CHC</entry>
<entry>Measles doses given</entry>
<entry>Dec-09</entry>
<entry>121</entry>
</row>
<row>
<entry>Bo</entry>
<entry>CHP</entry>
<entry>Measles doses given</entry>
<entry>Dec-09</entry>
<entry>98</entry>
</row>
<row>
<entry>Bo</entry>
<entry>MCHP</entry>
<entry>Measles doses given</entry>
<entry>Dec-09</entry>
<entry>87</entry>
</row>
<row>
<entry>Bombali</entry>
<entry>CHC</entry>
<entry>Measles doses given</entry>
<entry>Dec-09</entry>
<entry>110</entry>
</row>
<row>
<entry>Bombali</entry>
<entry>CHP</entry>
<entry>Measles doses given</entry>
<entry>Dec-09</entry>
<entry>67</entry>
</row>
<row>
<entry>Bombali</entry>
<entry>MCHP</entry>
<entry>Measles doses given</entry>
<entry>Dec-09</entry>
<entry>59</entry>
</row>
</tbody>
</tgroup>
</table></para>
</section>
</section>
<section>
<title>Best practice on the use of group sets and groups</title>
<para>Groups that are not members of group sets are more or less useless for analysis (should we allow this at all?). With all the groups you get by e.g. including all different diagnoses as groups the full list of groups does not makes sense in any pivot table, and you easily get duplicates in your pivot tables since data elements or indicators are members of multiple groups. This can be controlled by the use of group sets. So the recommodation is to assign all your groups to a group set, and then you pull the group sets you need into your reports and analysis. </para>
<para>It is also recommended to have one group set that is used for the major organising of all data in e.g. a pivot table, e.g use health programs or other larger themes for data elements or indiactors that together cover all the data. That will provide a nicely organised overview of all your raw data or indicator data.</para>
<para>The resource table gives all groupsets as columns with groups as rows, and 1 DE per row.
This means that all groupsets are joined in when e.g. creating a view to a pivot table. Resource tables have to be generated from the Mainteance-&gt;Data Administration-&gt;Resource Table window, and more information on this is available in a later chapter called Data Administration in DHIS2 or from the inline help text in that window.
</para>
</section>
</section>
<section>
<title>The time (period) dimension</title>
<para>The period dimension becomes an important factor when analysing data over time e.g. when looking at cumulative data, when creating quarterly or annual aggregated reports, or when doing analysis that combines data with different characteristics like monthly routine data, annual census/population data or six-monthly staff data.</para>
<section>
<title>Period Types</title>
<para>In DHIS2 the periods are organised according to a set of fixed period types: 1) Daily, 2) Weekly, 3) Monthly, 4) Quarterly, 5) Six-monthly, 6) Yearly, 7) Two-yearly, and 8) a special period type called Relative.

</para>
<para>As a rule of thumb all organisation units should collect the same data using the same frequency or periodicity, so first of all the periods play an important role in standardising data collection across the country. A data entry form therefore needs to know its period type to make sure data is always collected according to the correct and same periodicity across the country. </para>
<para>It is possible however to collect the same data elements using different period types by assigning the same data elements to multiple data sets with different period types, however then it becomes crucial to make sure no orgunit is collecting data using both data sets/period types as that would create overlap and duplication of data values. If set up correctly the aggregation service in DHIS2 (through datamart and report tables) will aggregate the data together, e.g. the monthly data from one part of the country woth quarterly data from another part of the country into a national quarterly report. For simplicicty and to avoid data duplication we stronly advice to use the same period type for all orgunits for the same data elements when possible. </para>
</section>
<section>
<title>Relative periods</title>
<para>When creating reports within the DHIS (report tables, standard reports, charts) it is possible to make use of the relative periods functionality. The simplest scenario is when you want to design a monthly report that can be reused every month without having to make changes to the report template to accomodate for the changes in period. The relative period called reporting_month allows for this, and the user can at the time of report gemeration through a report parameter select the month to use in the report. </para>
<para>A slightly more advanced use case is when you want to make a monthly summary report for immunisation and want to look at the data from the current (reporting) month together with a cumulative value for the year so far. The relative period called &quot;So far this year&quot; provides such a cumulative value relative to the reporting month selecting when running the report. Other relative periods are the last 3,6, 9 or 12 months periods which are cumulative values calculated back from the selected reporting month. If you want to create a report with data aggregated by quarters (the ones that have passed so far in the year) you can select &quot;Individual quarters this year&quot;. Other relative periods are described under the reporting table section of the manual. Common for all the relative periods is that they are relative to a selected reporting month. Even quarterly or annual reports need to know their reporting month to derive the year, the quarter and so on. The reporting month then becomes one of the report parameters the users have to select when running a report based on relative periods.</para>
<para><table frame="all">
<title/>
<tgroup cols="5">
<colspec colname="c1"/>
<colspec colname="c2"/>
<colspec colname="c3"/>
<colspec colname="c4"/>
<colspec colname="c5"/>
<thead>
<row>
<entry>Organisation Unit</entry>
<entry>Data Element</entry>
<entry>Reporting month</entry>
<entry>So far this year</entry>
<entry>Reporting month name</entry>
</row>
</thead>
<tbody>
<row>
<entry>Gerehun CHC</entry>
<entry>Measles doses given</entry>
<entry>15</entry>
<entry>167</entry>
<entry>Oct-09</entry>
</row>
<row>
<entry>Tugbebu CHP</entry>
<entry>Measles doses given</entry>
<entry>17</entry>
<entry>155</entry>
<entry>Oct-09</entry>
</row>
</tbody>
</tgroup>
</table></para>
</section>
<section>
<title>Aggregation of periods</title>
<para>While data needs to be collected on a given frequency to standardise data collection and management, this does not put limitations on the period types that can be used in data analysis and reports. Just like data gets aggregated up the organisational hierarchy, data is also aggregated according to a period hierarchy, so you can create quarterly and annual reports based on data that is being collected on a Monthly basis. The defined period type for a data entry form (data set) defines the lowest level of period detail possible in a report.</para>
<section>
<title>Sum and average aggregation along the period dimension</title>
<para>When aggregating data on the period dimension there are two options for how the calculation is done; 1) sum and 2) average, which is specified per data element in the DHIS2 through the use of the &apos;aggregation operator&apos; attribute in the Add/Edit Data Elements window.

</para>
<para>Most of the data collected on a routinely basis should be aggregated by summing up the months or weeks, e.g. you create a quarterly report on Measles immunisation by summing up the three monthly values for &quot;Measles doses given&quot;.

</para>
<para>Other types of data that are more permanently valid over time like &quot;Number of staff in the PHU&quot; or an annual population estimate of &quot;Population under 1 year&quot; need to be aggregated differently. These values are static for all months as long as there are valid data. E.g. the estimated population under 1 calculated from the census data is the same for all months in a year, or the number of nurses working in a PHU is the same for every month in the 6 months period the number is reported for.

</para>
<para>This difference e.g. becomes important when calculating an annual value for the indicator morbidity service burden for a PHU. The monthly headcounts are summed up for the 12 months to get the annual headcount while the number of staff for the PHU is calculated as the average of the two 6-monthly values reported through the 6-monthly staff report. So in this example the data element &quot;OPD heahcount&quot; would have the aggregation operator &quot;sum&quot; and the data element &quot;Number of staff&quot; would have it set to &quot;average&quot;.

</para>
<para>Another important feature of average data elements is the validity period concept. Average data values are standing values for any period type within the borders of the period they are registered for. E.g. an annual population estimate following the calendar year will have the same value for any period that falls within that year no matter what the period type. E.g. if the population under 1 for a Tugbebu CHP is 250 for the year of 2009 that means that the value will be 250 for Jan-09, for Q3-09, for Week 12 of 2009 and for any period within 2009. This has implications for how e.g coverage indicators are calculated as the full annual population will be used as denominator value even when doing monthly reports. If you want to look at an estimated annual coverage value for a given month then you will have the option of setting the indicator to &quot;Annualised&quot; which means that a monthly coverage value will be multiplied by 12, a quarterly value by 4 etc. The annualised indicator feature can therefore be used to mimic the use of monthly population estimates.
</para>
</section>
</section>
</section>
<section>
<title>Data collection vs. data analysis</title>
<section>
<title>Data collection and storage</title>
<para>The datasets determine what raw data that is available in the system as they describe how data is collected. Through the data sets we define the building blocks of the data to be captured and stored in the DHIS. For each data dimension we decide what level of detail the data should be collected on; 1) the data element (e.g. diagnosis, vaccine, or any event taking place) and its categories (e.g. age and gender), 2) the period/frequency dimension, and 3) the orgunit dimension. For any report or data analysis you can never retrieve more detailed data than what is defined in the datasets so the design of the datasets and their corresponding data entry forms (the data collection tools) dictate what kind of data analysis that will be possible.</para>
</section>
<section>
<title>Input != Output</title>
<para>It is important to understand that the data entry forms or datasets themselves are not linked to the data (values) and that the meaning of data (the What) is only described by the data element (and its categories). This makes it perfectly safe to modify datasets and forms without altering the data (as long as the data elements stay the same). This loose coupling between forms and data makes DHIS flexible when it comes to designing and changing new forms and in providing exactly the form the users want. </para>
<para>Another benefit of only linking data to data elements and not to forms is the flexibility of creating indicators and validation rules based on data elements, and also in providing any kind of output report (in pivot tables, charts, maps etc) that can combine data individually or across forms, e.g. to correlate data from different health programs. Due to this flexibility of enabling integration of data from various programs (forms) and sources (routine and semi permanent (population, staff, equipment)) a DHIS database is used as an integrated data repository for many or all parts of the aggregated data in a larger HIS. The figure below illustrates this flexibility.</para>
<para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/data_dimensions/dhis_input_output.jpg" format="JPG"/>
</imageobject>
</mediaobject>
</screenshot>
</para>
</section>
</section>
<section>
<title>Some more examples</title>
<para>The table below combines data element the two group sets Diagnosis (all the diseases) and Morbidity/Mortality (New cases, Follow-ups, Refrerrals, Deaths) with the data element category PHU/Community. Deaths are captured in a separate form with other dimensions (e.g. the PHU/Community) than morbidity.</para>
<para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/data_dimensions/Ex_table1.jpg" format="JPG"/>
</imageobject>
</mediaobject>
</screenshot>
</para>
<para>This output table combines the two data element categories HIV_Age and Gender with the data element group set ART Group. The group enables subtotals for staging and entry points summing up the data elements in that group. Subtotals for either age groups and gender would be other possible columns to easily include here.</para>
<para>
<screenshot>
<screeninfo>DHIS2 Login screen</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/data_dimensions/Ex_table2.jpg" format="JPG"/>
</imageobject>
</mediaobject>
</screenshot>
</para>
</section>
<section>
<title>How this works in pivot tables</title>
<para>When doing data analysis in Excel pivot tables or any other OLAP based tool the dimensions become extremely powerful in providing many different views into the data. Each data element category or group set become a pivot field, and the options or groups become values within each of these fields. In fact categories and groupsets are treated exactly the same way in pivot tables, and so are orgunits, periods, and data elements. All these become dimensions to the data value that can be used to rearrange, pivot, filter, and to drill down into the data. Here we will show some examples of how the data dimensions are used in pivot tables. </para>
<para>Using the example of morbidity and mortality data, a pivot table can show how the dimensions can be used to view data for different aggregation levels.

</para>
<para>The completely aggregated number is viewed when none of the pivot fields are arranged in the table area, as column or row fields, but are listed above the table itself as page field (filter).
</para>
<para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/data_dimensions/pivot_overview_1.jpg" format="JPG"/>
</imageobject>
</mediaobject>
</screenshot>
</para>
<para>Here we have selected to look at the Morbidity total. The various data elements on morbidity have been ordered into the main_de_groups Morbidity (we will get back to Mortality later). The fields above the table itself are all set to &quot;All&quot;, meaning that the totals in the table will contain data from all Countries, Districts, Chiefdom, ou_type, year, months, the various categories as listed in the red fields, and all data elements in the Morbidity group.</para>
<para>As we have seen, this is not a very useful representation, as Morbidity is organized into new cases, follow-ups, referrals, and then again in age groups. Also, we do not see the various diagnoses. The first step is to include the diagnoses field (which is a group set), which is done by dragging the &quot;diagnosis&quot; field down to be a row field, as shown in the figure below, and to add the group set called &quot;morbiditymortality&quot; in the column field to display new cases, follow-up, and referrals.</para>
<para>
<screenshot>
<screeninfo>DHIS2 Login screen</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60" align="center" fileref="resources/images/data_dimensions/pivot_diagnoses.jpg" format="JPG"/>
</imageobject>
</mediaobject>
</screenshot>
</para>
<para>Contrast this figure above to the one below.</para>
<para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/data_dimensions/pivot_dataelements.jpg" format="JPG"/>
</imageobject>
</mediaobject>
</screenshot>
</para>
<para>They both show the same data (some of teh rows have been cut in the screenshot due to image size), albeit in a different way. </para>
<itemizedlist>
<listitem>
<para>The &quot;dataelement&quot; field, used in the bottom figure, displays each diagnosis as three elements; one follow-up, one new, and one referrals. This is the way the data elements have been defined in DHIS, as this makes sense for aggregation. You would not like to aggregate follow-ups and new, thus these have not been made as categories, the whole point of is to ease aggregation and disaggregation.</para>
</listitem>
<listitem>
<para>The &quot;diagnosis&quot; group set has instead been made to lump these three (follow-up, new, referrals) together, which can then be split with another group set, namely the one called &quot;morbiditymortality&quot;. This allows us to organize the data as in the first of the two figures, where we have the single diagnosis per row, and the groups new, follow-up, referrals as rows.</para>
</listitem>
</itemizedlist>
<para>The idea of using group sets is that you can combine, in any set, different data elements. Thus, if we add the mortality data (by checking it from the drop-down menu of the main_de_groups field, and moving this field out of the table) we can see also the deaths, since the mortality data elements have been included as a &quot;death&quot; group in the &quot;morbiditymortality&quot; group set. The result is shown below.</para>
<para>
<screenshot>
<screeninfo>DHIS2 Login screen</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/data_dimensions/pivot_diagnoses_all.jpg" format="JPG"/>
</imageobject>
</mediaobject>
</screenshot>
</para>
<para>The result is a much more user-friendly pivot table. Now, another figure shows the relationship between the group sets and elements (these are fake data values).</para>
<para>

</para>
<para>This small detail of the pivot table show how the actual data elements link to the group sets: </para>
<itemizedlist>
<listitem>
<para>The four data elements, as defined in DHIS, are Measles death, Measles follow-up, Measles new, and Measles referrals</para>
</listitem>
<listitem>
<para>They all belong to the group set &quot;diagnosis&quot;, where they have been lumped together in the group Measles</para>
</listitem>
<listitem>
<para>The group set &quot;morbiditymortality&quot; contains the groups New cases, Follow-up, Referrals, and Deaths.</para>
</listitem>
<listitem>
<para>Only the data element Measles deaths has data related to the group Deaths, thus this is where the data value (20) is shown, at the upper right corner. The same for Measles new; the value (224) is shown at the intersection of the data element Measles new and the group New cases (in the group set morbiditymortality)</para>
</listitem>
<listitem>
<para>All the intersections where the data element does not link with the groups in morbiditymortality are left blank. Thus in this case we would get a nice table if we excluded the dataelement from the table, and just had diagnosis and the group set morbiditymortality, as in the figure shown earlier</para>
</listitem>
</itemizedlist>
<para>Now lets see how the data element categories can be used. In the data entry form for Morbidity the new cases and follow-ups use one age category, the referral data another,, and the mortality data a third age breakup, so these are available as three individual age group fields in the pivot tables called morbidity_age, referrals_age and mortality_age. It doesn&amp;apos;t make sense to use these while looking at these data together (as in the examples above), but e.g. if we only want to look at the only the new cases we can put the MobidityMortalityGroups field back up as a page field and there select the New cases group as a filter. Then we can drag the Morbidity_age field down to the column area and we get the following view:</para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/data_dimensions/pivot_morb_age.jpg"/>
</imageobject>
</mediaobject>
</screenshot></para>
<para>The following table illustrates the benefits of reusing data element categories across datasets and catecorycombinations. The VCCT, ART and PMTCT data are collected in three different datasets, the first two with both gender and age breakdown, and the PMTCT only age (gender is given). All three share the same age groups and therefore it is possible to viev data elements from all these three datasets in the same table and use the age dimension. In the previous example with morbidity and mortality data this was not possible since new cases, referrals and deaths all have different age groups.</para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/data_dimensions/pivot_hiv_age.jpg"/>
</imageobject>
</mediaobject>
</screenshot> </para>
<para>In the table below PMTCT data has been removed from the table and the gender category added to the column area so that you can analyse the data for VCCT and ART by age and gender. An optional subtotal for gender has also been added, as well as a grand total for all age and gender.</para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/data_dimensions/pivot_hiv_age_gender.jpg" format="JPG"/>
</imageobject>
</mediaobject>
</screenshot></para>
</section>
<section>
<title>From paper for to multidimensional datasets - lessons learned</title>
<para>Typically the design of a DHIS 2 dataset is based on some requirements from a paper form that is already in use. The logic of paper forms are not the same as the data element and data set model of DHIS, e.g. often a field in a tabular paper form is described both by column headings and text on each row, and sometimes also with some introductory table heading that provides more context. In the database this is captured in one atomic data element with no reference to a position in a visual table format, so it is important to make sure the data element with the optional data element categories capture the full meaning of each individual field in the paper form. </para>
<para>Another important thing to have in mind while designing datasets is that the dataset and the corresponding data entry form (which is a dataset with layout) is a data collection tool and not a report or analysis tool. There are other far more sophisticated tools for data output and reporting in DHIS than the data entry forms. Paper forms are often designed with both data collection and reporting in mind and therefore you might see things such as cumulative values (in addition to the monthly values), repetition of annual data (the same population data reported every month) or even indicator values such as coverage rates in the same form as the monthly raw data. When you store the raw data in DHIS every month and have all the processing power you need within the computerised tool there is no need (in fact it would be stupid and most likely cause inconsistency) to register manually calculated values such as the ones mentioned above. You only want to capture the raw data in your datasets/forms and leave the calculations to the computer, and presentation of such values to the reporting tools in DHIS.</para>
<section>
<title>From tables to category combinations - designing multidimensional data sets</title>
<para>As we have seen in the examples above the data element categories and their options are helpful in representing tabular data, when adding dimensions to a field in a paper form. We have also seen how the data element is the central dimension and that the data element categories are used to provide further details or disaggregation to the data element. As we will see in the example below there are often more than one way to represent a paper form in DHIS, and it can be difficult to know which dimension to represent with a data element name and which to represent as categories, or even as groups as we have seen above. Here are some general lessons learned from working with data element and category combinations:</para>
<itemizedlist>
<listitem>
<para>Design your dimensions with data use in mind, not data collection. This means that disaggregation of data values at collection time should be easily aggregated up along the various dimensions, as in adding up to a meaningful total.</para>
</listitem>
<listitem>
<para>Reuse dimensions as much as possible as it increased the ability to compare disaggregated data (e.g. age groups, fixed/outreach, gender). Not necessary to share all dimensions, it helps to share only one as well (much better than none).</para>
</listitem>
<listitem>
<para>Disaggregation dimensions should add up to a total</para>
</listitem>
<listitem>
<para>Different levels of dimensions; 1) disaggregation and 2) grouping. Disaggregation dimensions dictate how you collect and how detailed you store your data, so plan these carefully. The group dimension is more flexible and can be changed and added to even after data collection (think of it as tagging). </para>
</listitem>
<listitem>
<para>Think integrated data repository and not forms or programs when designing the metadata model and revising forms. Use the same disaggregation for the same or similar data across forms. Reuse definitions so that the database can integrate even though the forms might be duplicating. </para>
</listitem>
</itemizedlist>
<para><emphasis role="bold">STEP BY STEP APPROACH TO DESIGNING DATASETS</emphasis></para>
<para>1. Identify the different tables (or sub datasets) in the paper form that share the same dimensions</para>
<para>2. For each table identify the dimensions that describe the data fields</para>
<para>3. Identify the key dimension, the one that makes most sense to look at in isolation (when the others are collapsed, summed up). This is your data element dimension, the starting point and core of your multidimensional model (sub dataset). The data element dimension can be a merger of two or more dimensions if that makes more sense for data analysis. The key is to identify which total that makes most sense to look at alone when the other dimensions are collapsed.</para>
<para>4. For all other/additional dimensions identify their options, and come up with explanatory names for dimensions and their options.</para>
<para>5. Each of these additional dimensions will be a data element category and their options will be category options.</para>
<para>6. Combine all categories for each sub dataset into one category combination and assign this to all the data elements in your table (or sub dataset if you like). </para>
<para>7. When you are done with all the tables (sub datasets), create a new dataset and add all the data elements you have identified (in the whole paper form) to that dataset.</para>
<para>8. Your dataset will then consist of a set of data elements that are linked to one or more category combinations. </para>
<para>In order to better explain the approach and the possibilities we present an example paper form and will walk through it step by step and design data elements, categories, category options and category combinations.</para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/data_dimensions/PHUF3.jpg" format="JPG"/>
</imageobject>
</mediaobject>
</screenshot> </para>
<para>This form has many tables and each of them potentially represent a data element category combination (from now on referred to as a catcombo). As such there is no restriction on a dataset to only have one set of dimensions or catcombo, it can have m For any and as we see above this is necessary as the dimensions are very different from table to table. We will walk through this table by table and discuss how to represent it in the DHIS.</para>
<para><emphasis role="bold">ANC table</emphasis>. This table in the top left corner is one the simpler ones in this form. It has two dimensions, the first column with the ANC activity or service (1st visit, IPT 2nd dose etc) and the 2nd and 3rd column which represent the place where the service was given with the two options fixed and outreach. Since the ANC service is the key phenomena to analyse here and often there is a need for looking at e.g. total of ANC 1st visits no matter where (fixed+outreach) it makes a lot of sense to use this dimension as the data element dimension. So all items on the first column from 1st ANC visit to 2nd IPT dose given by TBA are represented as individual data elements. The place dimension is represented as a data element category (from now on referred to as category) with the name &quot;fixed/outreach&quot; with the two data element category options (from now on catoptions) &quot;fixed&quot; and &quot;outreach&quot;. There is no other dimension here so we add a new catcombo with the name &quot;Fixed/Outreach&quot; with one category &quot;Fixed/Outreach&quot;. Strictly speaking there is another dimension in this table, and that is the at PHU or by TBA dimension which is repeated for the two doses of IPT, but since none of the other ANC services listed have this dimension it does not seem like a good idea to separate out two data elements from this table and give them another catcombo with both fixed/outreach and at PHU/by TBA. reusing the same catcombo for all the ANC services makes more sense since it will be easier to look at these together in reports etc. and also the fact that there is not much to loose by repeating the at PHU or by TBA information as part of the data element name when it is only for four data elements in a table of totally 11 data elements.</para>
<para><emphasis role="bold">DELIVERY table.</emphasis> This table is more tricky as it has a lot of information and you can see that not all the rows have the same columns (some columns are merged and a one field is grayed out/disabled.). If we start by looking at the first column &quot;Deliveries assisted by&quot; that seems to be one dimension, but only down to the &quot;Untrained TBA&quot; row, as the remaining three rows are not related to who assisted the delivery at all. Another dimension is the place of delivery, either In PHU or in Community as stated on the top column headings. These deliveries are further split into the outcome of the delivery, whether it is a live or still birth, which seems to be another dimension. So if we disregard the three bottom rows for a moment there seems to be 3 dimensions here, 1) assisted by, 2) place of delivery, and 3) delivery outcome. The key decision to make is what to use as the data element, the main dimension, the total that you will most often use and want easily available in reports and data analysis. We ended up using the outcome dimension as total live births is a very commonly used value in many indicators (maternal mortality ratio, births attended by skilled health personnel etc.). In this case the Assisted By dimension could also have been used without any problem, but the added value of easily getting the total live births information was the decisive point for us. This means that from this table (or subtable of row 1 to 6) there are only two data elements; &quot;Live births&quot; and &quot;Still births&quot;. Then there are two more dimensions, the &quot;PHU/Community&quot; with its two options and a &quot;Births attended by&quot; with options (&quot;MCH Aides&quot;, &quot;SECHN&quot;, &quot;Midwives&quot;, &quot;CHO&quot;, &quot;Trained TBA&quot;, &quot;Untrained TBA&quot;). These two categories make up the catcombo &quot;Births&quot; which is assigned to the two data elements &quot;Live births&quot; and &quot;Still births&quot;. Considering the final three rows of the delivery table we can see that &quot;Complicated Deliveries&quot; does not have the assisted by dimension, but has the place and the outcome. &quot;Low birth weight&quot; also does not have the assisted by dimension and not the outcome either. The LLITN given after delivery does not have any additional dimension at all. Since not any of the three rows can share catcombo with any other row we decided to represent these fields as so called flat data elements, meaning data elements with no categories at all, and simply adding the additional information from the column headings to the data element name, and therefore ended up with the following data elements with the default (same as none) catcombo; &quot;Complicated deliveries in PHU live birth&quot;, &quot;Complicated deliveries in PHU still births&quot;, &quot;Complicated deliveries in community live birth&quot;, &quot;Complicated deliveries in community still births&quot;, &quot;Low birth weight in PHU&quot;, &quot;Low birth weight in community&quot;, and &quot;LLITN given after delivery&quot;.</para>
<para><emphasis role="bold">POST-NATAL CARE table</emphasis> This table is simple and we used the same approach as for the ANC table. 3 data elements listed in the first column and then link these to the catcombo called &quot;fixed/outreach&quot;. Reusing the same category fixed/outreach for these data elements enables analysis on fixed/outreach together with ANC data and other data using the same category.</para>
<para><emphasis role="bold">TT table</emphasis> This is a bit more tricky. We decided to use &quot;TT1&quot;, &quot;TT2&quot; ... &quot;TT5&quot; as data elements which makes it easy to get the total of each one of these. There is fixed/outreach dimensio here, but there is also the In school place that is only applied to the Non-Pregnant, or more correctly to any of the two as the school immunisation is done whether the girls are pregnant or not. We consulted the program people behind the form and found out that it would be ok to register all school TT immunisations as non-pregnant, which simplifies the model a bit since we can reuse the &quot;TT1&quot; to &quot;TT5&quot; data elements. So we ended up with a new category called &quot;TT place&quot; with the three options (Fixed, Outreach, In School), and another category called &quot;Pregnant/Non-pregnant&quot; with two options. The new catcombo &quot;TT&quot; is then a combination of these two and applied to the 5 TT data elements. Since we agreed to put all In Schools immunisations under Non-pregnant in means that the combination of options (Pregnant+In School) will never be used in any data entry form, and hence become a passibe optioncombo, which is ok. As long as the form is custom designed then you can choose which combinations of options to use or not, and therefore it is not a problem to have such passive or unused catoptions. Having school as one option in the TT place category simplifies the model and therefore we thought it was worth it. The alternative would be to create 5 more data elements for &quot;TT1 in school&quot; ... &quot;TT5 in school&quot;, but then it would be a bit confusing to add these together with the &quot;TT1&quot; ...&quot;TT5&quot; plus TT catcombo. Having school as a place in the TT place category makes it a lot easier to get the total of TT1.. TT5 vaccines given, which are the most important numbers and most often used values for data analysis.</para>
<para><emphasis role="bold">Complications of early and late pregnancy and labour tables</emphasis> We treat these two tables as one, and will explain why. These two tables are a bit confusing and not the best deisgn. The major data coming out of these tables are the pregnancy complications and the maternal deaths. These are the major things for data analysis. And then there is further detail on the cause of the complication or death (the first column in both tables), as well as a place of death (in PHU or community), and a outcome of the complication (when its not a death) that can be either Managed at PHU or Referred. We decided to create two data elements for these two tables; &quot;Pregnancy complications&quot;, and &quot;Maternal Deaths&quot;, and two category combinations, one for each of the data elements. For the Pregnancy Complications data element there are two additional dimensions, the cause of the complication (the combined list of the first column in the two tables) and the outcome (managed at PHU or Referred), so these are the categories and options that make up that category combination. For the &quot;Maternal deaths&quot; data element the same category with the different causes are used and then another category for the place of death (in PHU or In community). This way the two data elements can share one category and it will be easy to derive the total number of pregnancy complications and maternal deaths. While the list of complications on the paper form is divided into two (early and late/labour) you can see that e.g. the malaria in 2nd and 3rd trimester are listed under early, but in fact are for a later phase of the pregnancy. There is no clear divide between early and late complications in the form, and therefore we gave up trying to make this distinction in the database. </para>
<para><emphasis role="bold">Family Planning Services table</emphasis> This table has 2 dimensions, the family planning method (contraceptive) and whether the client is new or continuing. We ended up with one data element only &quot;Family planning clients&quot; and then added two categories &quot;FP method&quot; with all the contraceptives as options, and another category &quot;FP client type&quot; with new or continuing as options. This way it will be easy to get the total number of family planning clients which is the major value to look at in data analysis, and from there you can easily get the details on method or how many new clients there are.</para>
</section>
</section>
</chapter>
<chapter>
<title id="dashboards">Dashboards</title>
<para>Dashboards are intended to provide quick access to individual users to the data which has been stored in DHIS2. Dashboards consist of several sections, some of which provide links to reports or mapview which have already been defined. Other sections of the dashboard allow users to add charts which have been defined and made available through the charting module. </para>
<section id="dashboards_setup">
<title>Setting up the dashboard</title>
<para>The dashboard is divided into two main sections. The right-side pane (denoted as A in the screenshot below) can be used to contain links to reports, documents (static reports), report tables, map views, and an RSS Health feed. The left-side zone (denoted as B in the screen shot) can be used to contain up to six separate charts which have been previously created in the charting reporting module. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="90%" align="center" fileref="resources/images/dashboard/dashboard_main.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>In this screen shot, the dashboard has already been populated with a number of reports and mapviews. Simply clicking on one of the blue links will bring you automatically to the report or map view. Clicking on one of the charts will display a larger chart, which you can save as an image, and include in a report or other document. </para>
<para>You can redefine the structure of the dashboard by clearing the each of the windows by clicking the &quot;Clear&quot; link. By clicking &quot;Insert&quot; again, you can then select a new chart to appear in the window. </para>
<para>All reports, documents, report tables and charts can be added to the list of available options by clicking on the &quot;Add to dashboard&quot; icon <inlinegraphic fileref="resources/images/dhis2_images/add_to_dashboard.png"/> in each of the respective modules. Please refer to the sections to each of the sections in this manual for more detailed instructions. Once you have added the object to the list of available objects, you can&quot;Insert&quot; it on the dashboard.</para>
<note>
<para>Dashboard are configured for each individual user. </para>
</note>
</section>
<section>
<title id="dashboard_messages">Messages and feedback</title>
<para>DHIS2 has certain functions to facilitate communication between different users and user groups. This type of communication is important to facilitate feedback regarding data quality, timeliness of submissions, or to simply answer a question which a particular user may have. </para>
<para>Feedback messages are sent to a particular group of users and can be sent by all users who have access to the dashboard module. In order to enable the receipt of feedback messages sent from the dashboard, you must set the system setting &quot;Feedback recipients&quot; which is available from the Maintenance-&gt;System settings dialog. Be sure to define a user group (e.g &quot;Feedback recipients&quot;) with all of the users who should receive feedback messages. Refer to the section in this manual on &quot;User groups&quot; for more information of how to do this. Once the &quot;Feedback recipients&quot; user group has been defined, each time a feedback message is sent, it will appear as a message in each of the &quot;Feedback recipients&quot; message queue within DHIS2. Note that messages will not be sent to users email addresses, but will only appear within the DHIS2 application. </para>
<para>To send a new feedback message, simply select &quot;Write feedback&quot; from the dashboard. Provide a subject and text in the respective text boxes. The message will appear in all of the specified users message queue. </para>
<para>Messages can be sent to specific groups of users who have been assigned to particular organisation units. To write a new message, simply click &quot;Messages&quot; from the dashboard screen and then press the &quot;Write message&quot; button.. Select an organisation unit (or group of organisation units) from the &quot;Recipients&quot; organisational unit tree. Provide a Subject and Text. To send the message, press the &quot;Send&quot; button. You can discard the message by pressing the &quot;Discard&quot; button as seen in the screenshot below.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="90%" align="center" fileref="resources/images/dashboard/dashboard_messages.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>To read messages which have been sent to you, select &quot;Messages&quot; from the &quot;Dashboard&quot; . You messages will be displayed as a list. Click the desired message to read all of the messages in this particular conversation. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" align="center" fileref="resources/images/dashboard/dashboard_message_queue.png"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</chapter>
<chapter>
<title>Data Administration</title>
<para>The data administration module provides a range of functions to ensure that the data stored in the DHIS2 database is integral and that the database performance is optimised. These functions should be executed on a regular basis by a data administrator to ensure that the quality of the data stored is optimal. </para>
<section id="dataBrowser">
<title>Data browser</title>
<para>The data browser maintenance and analysis module which allows the user to produce a summary of the data contained in the DHIS2 database. The summary view provides a count of data elements which have been entered at the selected organisation unit as well as its descendants. Raw data for all data elements for a range of time periods and a given organisational unit can be browsed and exported to Excel, CSV, or PDF formats. There are four modes of the data browser, which determine how the data is summarized</para>
<itemizedlist>
<listitem>
<para>Data sets</para>
</listitem>
<listitem>
<para>Data element groups</para>
</listitem>
<listitem>
<para>Organisational unit groups</para>
</listitem>
<listitem>
<para>Organisational units</para>
</listitem>
</itemizedlist>
<para>Each of these options can be accessed by selecting the desired option from <guilabel>&quot;Browse by&quot; </guilabel>drop-down menu. </para>
<para>In order to produce a summary of submitted data for a given period and grouped by data sets, the user should follow this procedure. Begin by selecting a given periodicity type (e.g. Weekly, monthly, yearly, etc) and then a &quot;From date&quot; and &quot;To date&quot;. (e.g. January 2009 to March 2009). Select the type of summary to be produced (e.g. Dataset) from the &quot;Browse by&quot; drop-down menu. Click the &quot;Browse&quot; button to view the summary. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_browser1.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>A summary of the number of data element values that have been submitted over the user selected time period is shown below. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_browsing_data_sets.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para> By clicking on the name of the individual dataset, a more detailed summary of each data element can be obtained as shown below. A cross-tab table summarising each time period will be shown. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_browser_dataset_detail.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The functionality of the grouping by Datasets, Data element groups, and Organisational groups is essentially the same. </para>
<para>The functionality of grouping by organisation units will be discussed below. Begin by selecting &quot;Organisation units&quot; from the &quot;Browse by&quot; drop-down menu. The organisational hierarchy present in the database will now be displayed. Organisational units can be expanded by clicking on the plus symbol in the organisational tree view.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/maintainence/data_browser_org_unit1.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para> By clicking on an organisational unit, and the clicking the &quot;Browse&quot; button, a summary of submitted data elements present in the database is returned for all immediate children of the selected organisational as shown below:</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="80%" fileref="resources/images/maintainence/data_browser_orgunit2a.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>By clicking on one of the organisational units, two drill down modes are presented to the user. </para>
<itemizedlist>
<listitem>
<para>Summary drill down- Drill down to the selected organisational units children to see the count of data elements. </para>
</listitem>
<listitem>
<para>View raw data at this level: View the actual raw data at the selected organisational unit. A typical view of the raw data export can be seen below.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/maintainence/data_browser_org_unit_raw.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Data can be exported into Excel, CSV and as a PDF report by clicking the appropriate button.</para>
</listitem>
</itemizedlist>
</section>
<section id="dataIntegrity">
<title>Data integrity</title>
<para>DHIS2 can perform a wide range of data integrity checks on the data contained in the database. Identifying and correcting data integrity issues is extremely important for ensuring that the data used for analysis purposes is valid. Each of the data integrity checks that are performed by the system will be described, along with general procedures that can be performed to resolve these issues. </para>
<section>
<title>Data elements without data set</title>
<para>Each data element must be assigned to a data set. Values for data elements will not be able to be entered into the system if a data element is not assigned to a data set. Choose Maintenance-&gt;Datasets-&gt;Edit from the main menu and then add the &quot;orphaned&quot; data element to the appropriate data set. </para>
</section>
<section>
<title>Data elements without groups</title>
<para>Some Data Elements have been allocated to several Data Element Groups. This is currently not allowed, because it will result in duplication of linked data records in the PivotSource recordsets that `feed` the pivot tables. Go to Maintenance -&gt; Data Element Groups to review each Data Element identified and remove the incorrect Group allocations.</para>
</section>
<section>
<title>Data elements violating exclusive group sets</title>
<para>
Some data elements have been allocated to several data element groups that are members of the same data element group set. All group sets in DHIS are defined as exclusive, which means that a data element can <emphasis>only</emphasis> be allocated to <emphasis>one</emphasis> data element group within that group set. Go to Maintenance -&gt; Data elements and indicators -&gt;Data element groups to review each data element identified in the integrity check. Either remove the data element from all groups except the one that it should be allocated to, or see if one of the groups should be placed in a different group set.
</para>
</section>
<section>
<title>Data elements assigned to data sets with different period types</title>
<para>Data Elements should not be assigned to two separate data sets whose period types differ. The recommended approach would be to create two separate data elements (for instance a monthly and yearly data element) and assign these to respective datasets. </para>
</section>
<section>
<title>Data sets not assigned to organisation units</title>
<para>All data sets should be assigned to at least one organisation unit. </para>
</section>
<section>
<title>Indicators with identical formulas</title>
<para>Although this rule will not affect data quality, it generally does not make sense to have two indicators with the exact same definition. Review the identified indicators and their formulas and delete or modify any indicator that appears to be the duplicate.</para>
</section>
<section>
<title>Indicators without groups</title>
<para>All Data Elements and Indicators must be assigned to at least one group, so these Indicators need to be allocated to their correct Data Element and Indicator Group. Go to Maintenance -&gt; Indicator Groups, and allocate each of the `Orphaned` Indicators to its correct group.</para>
</section>
<section>
<title>Invalid indicator numerators</title>
<para>Violations of this rule may be caused by an incorrect reference to a deleted or modified data element. Review the indicator and make corrections to the numerator definition. </para>
</section>
<section>
<title>Invalid indicator denominators</title>
<para>Violations of this rule may be caused by an incorrect reference to a deleted or modified data element. Review the indicator and make corrections to the denominator definition. </para>
</section>
<section>
<title>Indicators violating exclusive group sets</title>
<para>
Some indicators have been allocated to several indicator groups that are members of the same indicator group set. All group sets in DHIS are defined as exclusive, which means that an indicator can <emphasis>only</emphasis> be allocated to <emphasis>one</emphasis> indicator group within that group set. Go to Maintenance -&gt; Data elements and indicators -&gt;Indicator groups to review each indicator identified in the integrity check. Either remove the indicator from all groups except the one that it should be allocated to, or see if one of the groups should be placed in a different group set.
</para>
</section>
<section>
<title> Organisation units with cyclic references</title>
<para>Organisation units cannot be both parent and children of each other, directly nor indirectly.</para>
</section>
<section>
<title>Orphaned organisation units</title>
<para>All organisation units must exist within the organisation unit hierarchy. Go to Organisation-&gt;Hierarchy Operations and move the offending organisation unit into the proper position in the hierarchy. </para>
</section>
<section>
<title>Organisation units without groups</title>
<para>All organisation units <emphasis>must</emphasis> be allocated to at least <emphasis>one</emphasis> group. The problem might either be that you have not defined any `compulsory` OrgUnit Group Set at all, or that there are violations of the `compulsory` rule for some OrgUnits . NOTE: If you have defined no `compulsory` OrgUnit Group Sets, then you must first define them by going to Maintenance -&gt; Organisation units-&gt;Organisation unit group sets and define at least one `compulsory` Group Set (the group set `OrgUnitType` are nearly universally relevant). If you have the relevant group sets, go to Maintenance -&gt; OrgUnit Groups to review each OrgUnit identified and add the relevant Group allocation.</para>
</section>
<section>
<title>Organisation units violating compulsory group sets</title>
<para>These organisation units have not been assigned to the any organisation unit group within one of the <emphasis>compulsory</emphasis> organisation unit group sets. When a group set is defined as `compulsory`, it means that an organisation unit must be allocated to at least one organisation unit group within that group set. For instance, all organisation units must belong to one of the groups in the `organisation unitType` group set. It might belong to the `Hospital` or the `Clinic` or any other `type` group - but it must belong to exactly one of them. Go to Maintenance -&gt; organisation unit-&gt;Organisation unit groups to review each organisation unit identified in the integrity check. Allocate all organisation units to exactly one group. </para>
</section>
<section>
<title>Organisation units violating exclusive group sets</title>
<para>Some organisation units have been allocated to several organisation unit groups that are members of the same organisation unit group set. All group sets in DHIS are defined as exclusive, which means that an organisation unit can <emphasis>only</emphasis> be allocated to <emphasis>one</emphasis> organisation unit group within that Group Set. For instance, one organisation unit cannot normally belong to the both the &apos;Hospital&apos; and &apos;Clinic&apos; groups , but rather to only to one of them. Go to Maintenance -&gt; organisation unit-&gt;Organisation unit groups to review each organisation unit identified in the integrity check. Remove the organisation unit from all groups except the one that it should be allocated to.</para>
</section>
<section>
<title> Organisation unit groups without group sets</title>
<para>The organisation unit groups listed here have not been allocated to a group set. Go to Maintenance-&gt;Organisation unit-&gt;Organisation unit group sets and allocate the Organisation unit group to the appropriate group set. </para>
</section>
<section>
<title>Validation rules without groups</title>
<para>All validation rules must be assigned to a group. Go to <command>Services-&gt;Data quality-&gt;Validation rule group</command> and assign the offending validation rule to a group. </para>
</section>
<section>
<title>Invalid validation rule left side expressions</title>
<para>An error exists in the left-side validation rule definition. Go to <command>Services-&gt;Data quality-&gt;Validation rule</command> and click the &quot;Edit&quot; icon on the offending rule. Press &quot;Edit left side&quot; and make the corrections that are required. </para>
</section>
<section>
<title>Invalid validation rule right side expressions</title>
<para>An error exists in the left-side validation rule definition. Go to <command>Services-&gt;Data quality-&gt;Validation rule</command> and click the &quot;Edit&quot; icon on the offending rule. Press &quot;Edit right side&quot; and make the corrections that are required.</para>
</section>
</section>
<section id="dataArchive">
<title>Data Archive</title>
<para>The purpose of the data archive function is to move data which is currently not being used for analysis to a secondary storage location in order to improve performance of the application. Data can be both archived and unarchived. When archiving data one moves it from the primary storage to the secondary storage location, while unarchiving moves it from the secondary storage location to the primary. Analysis functionality in DHIS 2 heavily utilizes queries to the data value database table, and by reducing the size of this table these operations will be significantly faster. Typically one would want to archive data that is older than two years.</para>
<para>To archive data, first enter a start date and an end date for the time span of the data which should be archived. Then press the archive button. The operation might take a few minutes.</para>
<para>To unarchive data, first enter a start date and an end date for the time span of the data which should be unarchived. Then press the unarchive button. The operation might take a few minutes.</para>
<para>In some cases you might end up with overlapping data. For instance one might archive data for a given timespan, then later enter data for a period in that timespan. In such cases the system will automatically overwrite the oldest of the overlapping values with the newest during the archive or unarchive operation.</para>
</section>
<section id="patientDataArchive">
<title>Person Data Archive</title>
<para>The purpose of the person data archive function is to move person data value which is currently not being used for analysis to a secondary storage location in order to improve performance of the application. Data can be both archived and unarchived. When archiving data one moves it from the primary storage to the secondary storage location, while unarchiving moves it from the secondary storage location to the primary. Analysis functionality in DHIS 2 heavily utilizes queries to the data value database table, and by reducing the size of this table these operations will be significantly faster. Typically one would want to archive person data that is older than two years.</para>
<para>To archive person data, first enter a start date and an end date for the time span of the data which should be archived. Then press the archive button. The operation might take a few minutes.</para>
<para>To unarchive person data, first enter a start date and an end date for the time span of the data which should be unarchived. Then press the unarchive button. The operation might take a few minutes.</para>
<para>In some cases you might end up with overlapping data. For instance one might archive person data for a given timespan, then later enter data for a period in that timespan. In such cases the system will automatically overwrite the oldest of the overlapping values with the newest during the archive or unarchive operation.</para>
</section>
<section id="maintenance">
<title>Maintenance</title>
<para>The data maintenance module has five options, each described below. </para>
<itemizedlist>
<listitem>
<para>Clear data mart (aggregated datavalues)</para>
<para>The data mart is where DHIS 2 stores aggregated data produced during the export to data mart process. This function clears the database table which contains aggregated data element values.</para>
</listitem>
<listitem>
<para>Clear data mart (aggregated indicatorvalues)</para>
<para>The data mart is where DHIS 2 stores aggregated data produced during the export to data mart process. This function clears the database table which contains aggregated indicator values.</para>
</listitem>
<listitem>
<para>Clear zero values</para>
<para>This function removes zero data values from the database. Values registered for data elements with aggregation operator <emphasis role="italic">average</emphasis> is not removed, as such values will be significant when aggregating the data, contrary to values registered for data elements with aggregation operator <emphasis role="italic">sum</emphasis>. Reducing the number of data values will improve system performance.</para>
</listitem>
<listitem>
<para>Clear dataset completeness</para>
<para>This function removes aggregated dataset completeness values. This data is produced and used by report tables.</para>
</listitem>
<listitem>
<para>Prune periods</para>
<para>This function removes all periods which have no registered data values. Reducing the number of periods will improve system performance.</para>
</listitem>
</itemizedlist>
</section>
<section id="resourceTables">
<title>Resource tables</title>
<para>Resource tables are supporting tables that are used during analysis of data. One would typically join the contents of these tables with the data value table when doing queries from third-party applications like Microsoft Excel. Simply select the tables that should be regenerated and press &quot;Generate tables&quot;. Regeneration of the resource tables should only be done once all data integrity issues are resolved. </para>
<itemizedlist>
<listitem>
<para>Organisation unit structure (orgunitstructure)<indexterm>
<primary>orgunitstructure</primary>
</indexterm></para>
<para>This table should be regenerated any time there have been any changes made to the organisational unit hierarchy. This table provides information about the organisation unit hierarchy. It has one row for each organisation unit, one column for each organisation unit level and the organisation unit identifiers for all parents in the lineage as values.</para>
</listitem>
<listitem>
<para>Exclusive organisation unit groupset structure normalized (orgunitgroupsetstructure)</para>
<para>This table provides information about the which organisation units are member of which organisation unit group sets.</para>
</listitem>
<listitem>
<para>Data element group set structure (_dataelementgroupsetstructure)</para>
<para>This table provides information about which data elements are members of which data element group sets. The table has one row for each data element, one column for each data element group set and the names of the data element group as values.</para>
</listitem>
<listitem>
<para>Indicator group set structure (_indicatorgroupsetstructure)</para>
<para>This table provides information about which indicators are members of which indicator group sets. The table has one row for each indicator, one column for each indicator group set and the names of the indicator group as values.</para>
</listitem>
<listitem>
<para>Organisation unit group set structure (_organisationunitgroupsetstructure)</para>
<para>This table provides information about which organisation units are members of which organisation unit group sets. The table has one row for each organisation unit, one column for each organisation unit group set and the names of the organisation unit groups as values.</para>
</listitem>
<listitem>
<para>Category structure (_categorystructure)</para>
<para>This table provides information about which data elements are members of which categories. The table has one row for each data element, one column for each category and the names of the category options as values.</para>
</listitem>
<listitem>
<para>Data element category option combo name (categoryoptioncomboname)</para>
<para>This table should be regenerated any time there have been changes made to the category combination names. It contains readable names for the various combinations of categories.</para>
</listitem>
</itemizedlist>
</section>
<section id="sqlView">
<title>SQL View</title>
<para> Database administrators must be very careful about creating database views directly in the DHIS 2 database. Certain DHIS 2 operations drop and recreate tables, for instance when the resource tables are regenerated. If any SQL views depend on these tables, an error will occur, since the tables are referenced in an SQL view. </para>
<para>The SQL View functionality of DHIS2 will store the SQL view definition internally, and then materialize the view when requested. </para>
<para/>
<section>
<title>Creating a new SQL view</title>
<para>To create a new SQL view, choose Maintenance-&gt;SQL view and click the &quot;Add new&quot; button. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="80%" align="center" fileref="resources/images/maintainence/create_sql_view.PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The &quot;Name&quot; attribute of the SQL view will be used to determine the name of the table that DHIS2 will create when the view is materialized by the user. The &quot;Description&quot; attribute allows one to provide some descriptive text about what the SQL view actually does. Finally, the &quot;SQL statement&quot; should contain the SQL view definition. Only SQL &quot;SELECT&quot; statements are allowed and certain sensitive tables (i.e. user information) are not accessible Press &quot;Save&quot; to store the SQL view definition.</para>
</section>
<section>
<title>SQL View management</title>
<para>In order to utilize the SQL views, simply press the &quot;Execute query&quot; button <inlinegraphic fileref="resources/images/dhis2_images/start_process.png"/> from the &quot;SQL View management page. Once the process is completed, you will be informed that a table has been created. The name of the table will be provided, and is composed from the &quot;Description&quot; attribute provided in the SQL view definition. Once the view has been materialized, click on the &quot;View&quot; button <inlinegraphic fileref="resources/images/dhis2_images/view_sections.png"/>.</para>
</section>
</section>
<section id="organisationUnitMerge">
<title>Organisation unit merge</title>
<para>This function is useful when two organisation units need to be merged, eg. it is decided that one facility will be shut down and its services will be provided by a nearby facility.</para>
<para>Start by selecting the organisation unit to eliminate from the tree and click <emphasis role="italic">confirm</emphasis>. Then select the organisation unit to keep and click <emphasis role="italic">confirm</emphasis> again. Finally, verify the selection and click <emphasis role="italic">merge</emphasis>. </para>
<para>In the sitation where data exist for the organisation unit to eliminate and not for the one to keep, the data will be moved to the one to keep. When data exists for both organisation units, the data will be summarized and moved to the one to keep. When data exists only for the one to keep, no action is taken. The organisation unit to eliminate will eventually be deleted.</para>
</section>
<section id="duplicateDataElimination">
<title>Duplicate data elimination</title>
<para>This function is useful when data has been entered mistakenly for two data elements which represents the same phenomena.</para>
<para>Start by selecting the data element to eliminate from the list and click confirm. Then select the data element to keep and click confirm again. Finally, verify the selection and click merge.</para>
<para>In the situation where data exists for the data element to eliminate and not for the one to keep, the data will be moved to the one to keep. When data exists for both data elements, the data which was updated last will be used. When data exists only for the one to keep, no action will be taken. The data element to eliminate will eventually be deleted, except when it is a multidimensional data element and has other data registered.</para>
</section>
<section id="dataStatistics">
<title>Data statistics</title>
<para>The data statistics module provides an overview of the number of objects stored in the DHIS2 database. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_stats.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The total number of each type of object is presented in a table, as well as a graph. </para>
</section>
<section id="lockException">
<title>Lock exceptions</title>
<para>Lock exceptions provide fine-grained control over exemption from a locked data set. After the expiry of the data set, data entry will be denied by default, unless an exception has been granted through the Lock exception interface. To enable a lock exception, select the desired organization units, data sets, and time period and press &quot;Add&quot;. By granting a lock exception, data entry will be enabled even after the expiry period of the data set has passed. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata align="center" width="50%" fileref="resources/images/maintainence/create_lock_exception.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>In the example above, a data lock exception would be created for &quot;ab Abundant Life Organization&quot; and &quot;ab Seventh Day Hospital&quot; for the &quot;Care and Support&quot; dataset for &quot;February 2012&quot;. </para>
</section>
<section id="zeroValueStorage">
<title>Zero value storage</title>
<para>The zero value storage function makes it possible to define for which data elements the system should store zero values. In most cases zeros are significant only for a subset of the data elements in the database. Any zeroes entered during data entry will be ignored by default, except for data elements where the zero value storage has been enabled. </para>
</section>
<section>
<title>Organisation unit pruning</title>
<para>If you need to prune out branches of the organisational unit hierarchy, you can use the organisational unit pruning function. Keep in mind that the only selected organisational (and its children) will be kept. All other orgunits (and any data associated with them) will be deleted from the database. </para>
</section>
<section id="minMaxValueGeneration">
<title>Min-Max Value Generation</title>
<para>This administrative function can be used to generate min-max values, which are used as part of the data quality and validation process for specific organization units and data sets. Simply select the dataset from the left hand frame, and then select the required orgunits to generate the min-max values for from the organisational units selector on the right. Press the &quot;Generate&quot; button to generate or regenerate all min-max values. Press &quot;Remove&quot; to remove all min-max values which are currently stored in the database. </para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="80%" align="center" fileref="resources/images/maintainence/min_max_value_generation.PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
</section>
<section id="constant">
<title>Constant</title>
<para>Constants are static values which can be made available to users for use in data elements and indicators. Some indicators, such as &quot;Couple year protection rate&quot; depend on constants which usually do not change over time. Simply press &quot;Add&quot; and provide a name in the &quot;Name&quot; field and define it&apos;s value in the &quot;Value&quot; field. Press &quot;Add&quot; . The constant will now be available to users for use in their expressions.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/maintainence/add_new_constant.PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section id="optionSet">
<title>Option sets</title>
<para> Option sets can be associated with data elements in the add / update data element interface for name-based data elements. You can define any kind of options, for instance an option set
called &quot;Delivery type&quot; where &quot;Normal&quot;, &quot;Breach&quot;, &quot;Caesarian&quot; and
&quot;Assisted&quot; would be the options. This option set can later be
associated with any number of data elements. When doing data entry in
name-based records module those elements will then appear in the form
as drop-down lists with auto-completion support.
</para>
</section>
<section id="cacheStatistics">
<title>Cache Statistics </title>
<para>This option is for system administrators only to use. The cache statistics shows the status of the application level cache. The application level cache refers to the objects and query results that the application is caching in order to speed up performance. If the database has been modified directly the application cache needs to be cleared for it to take effect.</para>
</section>
<section id="attribute">
<title>Dynamic attributes</title>
<para>Dynamic attributes can be used to add additional information to certain objects (namely data elements, indicators, organisation units and users). In addition to the standard attributes each of these objects have, it may be required in certain installations to have additional attributes, such as a fax number which is associated with an organisation unit. To add a new dynamic attribute to an object, select &quot;Maintenance-&gt;Data administration&quot; from the main menue, then &quot;Attribute&quot; from the left side panel, and press the &quot;Add new&quot; button.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="40%" align="center" fileref="resources/images/maintainence/add_new_dynamic_attribute.png"/>
</imageobject>
</mediaobject>
</screenshot>
<para>To create a new attribute, assign it a name. Each attribute should have a unique name. Check the tick-box &quot;Mandatory&quot; if the object should always have the dynamic attribute. Next, select which object (or objects) the attribute should be assigned to. Lastly, select the value type. You can choose from &quot;Text&quot;, &quot;Yes/No&quot;, &quot;Date&quot;, &quot;Number&quot;, &quot;Integer&quot;, &quot;Positive integer&quot; and &quot;Negative integer&quot;. If the value supplied for the attribute does not match the value type, an error will result. Finally, click &quot;Save&quot; to save the attribute. </para>
<para>The dynamic attribute will now be present in the object which you assigned it to in the respective &quot;Edit&quot; screen of each the object.</para>
</section>
<section id="scheduling">
<title>Scheduling</title>
<para>Data mart jobs can be automatically scheduled to run on regular intervals. Simply select the aggregation period types, organisation unit group set aggregation level, and strategy to configure how the scheduled job should run. Pressing &quot;Start&quot; will enable the scheduled job to run at a pre-determined time or can be run immediately by pressing &quot;Execute now&quot;</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata align="center" width="50%" fileref="resources/images/maintainence/scheduling.png"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</chapter>
<chapter>
<title>DHIS Mobile</title>
<section>
<title>Introduction</title>
<para>DHIS2 provides a range of options to allow data entry from mobile devices, including a dedicated GPRS/3G J2ME client, a SMS based client, and a version of DHIS2 which has been optimized specifically for mobile browsers. Each of these solutions will be described in detail in the following sections.</para>
<para>Collection of data in the field can be technically challenging and expensive. Mobile phone
solutions has the potential to significantly reduce the complexity of deploying a distributed
data collection system. Using a simple Java client installed on a mobile phone or a web browser which works on the mobile phone, field workers
can report directly to the DHIS2 database through their mobile device.</para>
<para>While mobile phone solutions have a great potential, it is also an area that can be
difficult to &quot;get right&quot;. Phones lack processing power and have a small display,
need to be
charged and often makes the most sense in areas where mobile network coverage is weak and
patchy.</para>
<para>There are currently three main mobile solutions for DHIS2, and we continue to evolve these
as well as look at other possible solutions:</para>
<itemizedlist>
<listitem>
<para>An mobile browser optimized data entry module</para>
<para>This module allows for data entry directly with the browser of the mobile device. A wide range of devices and mobile browsers are supported including: Opera mini 3 &amp; 4 (basic and advanced)
- Opera mini 4, Nokia S40 mobiles ,Windows Phone 7, Window Mobile 6
,Palm Pre
,Blackberry (v5 and v6)
, Firefox mobile, iOS devices (iPhone)
and Android devices. An active GPRS/3G connection is required. This solution is described in <xref linkend="mobile_broswer_based"/></para>
</listitem>
<listitem>
<para>A dedicated J2ME GPRS/3G client</para>
<para>This solution allows for forms to be updated on the phone and also supports
community module reporting. An active GPRS/3G connection is required in order to send data to the DHIS2 database, but data can be entered offline and transmitted when a connection is present. This client is intended primarily for low-end devices which support J2ME applications. This solution is described in <xref linkend="mobile_j2me_gprs_client"/></para>
</listitem>
<listitem>
<para>SMS based solution</para>
<para>The SMS based solution is 
requires a custom built J2MER mobile application
and installation of a GSM modem and some manual
configuration on the server side. It would be an appropriate solution where GPRS/3G is not available but GSM coverage is available. Updating of forms to the client is not supported at this point in time. This solution is described in <xref linkend="mobile_sms_based_data_entry"/></para>
</listitem>
</itemizedlist>
</section>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="dhis2_user_man_mobile_web_based.xml" encoding="UTF-8"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="dhis2_mobile_sms_data_entry.xml" encoding="UTF-8"/>
</chapter>
<chapter>
<title>DHIS 2 Spreadsheet Reporting</title>
<para>The information in the system is available in many different formats, such as: .xls, .doc, .pdf, .csv., etc. which are familiar to different end-users. In this sense, a sustainable information system with an extended support for .xls (tables, sheets, and expressions) is a prerequisite while in the developing countries like Vietnam, India, Sri Lanka, etc use spreadsheet application (from Microsoft Office and Open Office) for their routine documents and reports. At the same time, this also supports efficiently for implementation processes by reducing time and effort for training and maintenance because of its friendliness and powerfulness of availability and flexibility.</para>
<para>The end-users, especially health workers with an average knowledge of computing, can use DHIS 2 easily with the new spreadsheet reporting tool (or probably called as Spreadsheet reporting) developed by the Vietnam developer team. This module has been based on HISP India team’s ideas and technologies. The module has subsequently been merged into the main DHIS2 application under the Vietnam (vn) local branch for available usage. There will be a session for instructing &quot;how to include the Spreadsheet reporting module into DHIS2&quot;. This reporting tool with spreadsheet output files uses less memory and it is comparatively faster when compared to other reporting platforms. The spreadsheet reporting module provides a flexible reporting framework, which should be immediately intuitively useful for many users who are familiar with this. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/administration_page.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 1: Administration sections</emphasis></para>
<section>
<title>Include &apos;Spreadsheet reports&apos; module into DHIS2</title>
<para>The following is the steps of building/developing an DHIS2 package with spreadsheet report module.</para>
<para><emphasis role="bold">Step 1: Download DHIS2 source-code and some other necessary tools</emphasis></para>
<para>See the instructions from here: <ulink url="http://dhis2.org/development#quickstart">http://dhis2.org/development#quickstart</ulink></para>
<para>esp. the first 3 points.</para>
<para><emphasis role="bold">Step 2: Build the source-code at first without the Spreadsheet module</emphasis></para>
<para>See the instructions from here: <ulink url="http://dhis2.org/development#quickstart">http://dhis2.org/development#quickstart</ulink></para>
<para>esp. the fourth point with 2 build commands with maven.</para>
<para><emphasis role="bold">Step 3: Build the Spreadsheet module and then rebuild the DHIS2 package including it</emphasis></para>
<para>Go to the spreadsheet module and execute the building commands: <emphasis role="italic">mvn clean install -Dmaven.test.skip=true</emphasis></para>
<para>Normally, the spreadsheet module is located at: &lt;dhis2_source_folder&gt;\dhis2\local\vn:</para>
<para>3.1: Run the mvn command under &quot;dhis-service-excel-reporting&quot; folder.</para>
<para><emphasis role="underline">for example: </emphasis></para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/spreadsheet-maven.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>3.1: Run the mvn command under &quot;dhis-web-excel-reporting&quot; folder. </para>
<para>3.2: Edit the pom.xml file under &quot;dhis-web-portal&quot; (at: &lt;dhis2_source_folder&gt;\dhis2\dhis-2\dhis-web\dhis-web-portal) to include the Spreadsheet module</para>
<para>for example:</para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/spreadsheet-pom.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
<para>3.3: Build the web-portal module: </para>
<para>(at: &lt;dhis2_source_folder&gt;\dhis2\dhis-2\dhis-web\dhis-web-portal)</para>
<para>for example:</para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/spreadsheet-maven-1.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
<para>After successfully build the package, the dhis.war in the target folder of dhis-web-portal module will be produced.</para>
<para>Copy this war file to the webapps folder of your tomcat folder.</para>
<para>In order to make a fresh update for your new dhis2, before starting tomcat, delete the old dhis.war file and &quot;dhis&quot; folder under webapps.</para>
<para><emphasis role="bold">Step 4: Run the DHIS2 built package with Spreadsheet module</emphasis></para>
<para>Run tomcat (execute the bath file under &lt;tomcat_folder&gt;\bin\startup.bat (for Windows) or ...\startup.sh (for Linux).</para>
<para>Then wait until the start-up finishes and open a web browser (Firefox recommended) to run the DHIS2 application with the local url or your IP address:</para>
<para><ulink url="http://localhost:8080/dhis">http://localhost:8080/dhis</ulink></para>
<para>So good-luck to you for further exploration/hacking with dhis2.</para>
<para>For further support, please send an email to the developer mailing list: </para>
<para>&quot;DHIS 2 developers&quot; &lt;<ulink url="dhis2-devs@lists.launchpad.net">dhis2-devs@lists.launchpad.net</ulink>&gt;</para>
<para/>
</section>
<section>
<title>Administration</title>
<para>There are 6 sections for the &quot;Administration&quot; of this reporting tool.</para>
<orderedlist>
<listitem>
<para><emphasis role="italic">Configuration</emphasis>: Set a path to the directory where the spreadsheet template files are stored. This file path should be a relative directory on your system. For instance, if the home directory of DHIS 2 (by setting the absolute path with the DHIS2_HOME environmental variable) is &quot;C:\dhis2&quot; and you want to name the template folder &quot;templates&quot;, just set: &quot;templates&quot; for Windows or &quot;templates&quot; for Linux, then the absolute path of your template folder will be: &quot;C:\dhis2\spreadsheet_template\templates&quot; (Windows).</para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/configuration_0.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
<para><emphasis role="italic">Figure 2: Configuration setting</emphasis></para>
</listitem>
<listitem>
<para><emphasis role="italic">Export reports</emphasis>: This module allows users to assign reports to different organizational units . There are four types of reports that are currently supported: a report containing standard data elements, a report listing organisation unit groups as rows, a report listing period of time as columns, a report generating data elements combined with categories.</para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/report_associations.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
<para><emphasis role="italic">Figure 3: Export report list</emphasis></para>
<para>Report associations are used to determine which organizational units the report should be associated with. Click the &quot;Report Associations&quot; button, and assign all the organizational units which this report applies to by either clicking on the organizational units listed in the hierarchy tree, or by selecting the appropriate organizational unit group through the drop down menu. </para>
</listitem>
<listitem>
<para><emphasis role="italic">Data Entry Status</emphasis> (or view the status of the data entry): View the data entry status to know about data entered, reports finished or not finished yet with data entry. In order to view the data entry status, adding data sets which is equivalent to the data entry is mandatory.</para>
</listitem>
<listitem>
<para><emphasis role="italic">Import Reports items</emphasis>: In many situations, health workers in the field may not have good Internet access, and will therefore need to enter data offline and to transmit this data via email or other means, for subsequent importation into the DHIS database. The spreadsheet Report data import feature allows users to import data from a pre-designed spreadsheet templates directly into the DHIS database automatically. Users enter data into a predefined spreadsheet template, send via email or other means for importation into DHIS2. It is also possible to import selected elements. This module supports three types of reports namely a report containing standard data elements, a report listing organisation unit groups as rows, a report generating data elements combined with categories.</para>
</listitem>
<listitem>
<para><emphasis role="italic">Excel /Spreadsheet Template Management</emphasis>: Manage the Template spreadsheet files which are used to export reports, includes upload, download, delete and rename files.</para>
</listitem>
<listitem>
<para><emphasis role="italic">Clean temporary directory</emphasis>: Every time a user generates a report, the system creates an spreadsheet file in the temporary directory (<envar>spreadsheetreporttemplate</envar> directory). This disk space occupied by this directory will become progressively larger after some time. This function will remove all the temporary files from the directory, and therefore decrease the total amount of disk space used.</para>
</listitem>
</orderedlist>
<section id="excelReportingConfiguration">
<title>Configuration</title>
<para>The directory configuration is to set the path of the directory containing the spreadsheet Template (.xls) file. </para>
<para>In order to set the directory, choose <emphasis role="bold">Administrator &gt; Configuration&gt;</emphasis> Set path and specify the path. The procedure is outlined in more detail below. </para>
<orderedlist>
<listitem>
<para>Click <emphasis role="bold">Administration</emphasis> to open Administrator page.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/configuration.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 4: Configuration menu</emphasis></para>
</listitem>
<listitem>
<para>Click <emphasis role="bold">Configuration</emphasis> button</para>
</listitem>
<listitem>
<para>Set a relative path to the folder containing spreadsheet file </para>
<para>An spreadsheet template directory is simply a directory that will be used to contain all the necessary files. It is automatically created the folder under <envar>DHIS2_HOME</envar> folder. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/configuration_1.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 5: Configure the directory relative path for spreadsheet templates</emphasis></para>
<para>Click <emphasis role="bold">OK</emphasis> to save</para>
</listitem>
</orderedlist>
</section>
<section id="excelReportingListOfReports">
<title>Export Reports </title>
<para>The function allows users to create reports and its items and to assign the organisation units or the organisation unit groups to the reports. Each of the functions of this module will be described below. </para>
<section>
<title>Types of report</title>
<para>Before generating reports, there is a need to create spreadsheet report template files. Reports will be generated in a standard format according to the structure defined in the template. Currently, there are four report types that the module can support.</para>
<orderedlist>
<listitem>
<para><emphasis role="bold">Standard reports contain default data elements and indicators</emphasis></para>
<para>Standard reports have a fixed model in which number of the columns and the rows are unchangeable. Normally, this report is generated by only one organisation unit or one organisation unit group at a specified period of time. An example is show below.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/standard_report_template.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 6: A spreadsheet template with standard reports</emphasis></para>
</listitem>
<listitem>
<para><emphasis role="bold">Row-based reports with multiple organisational</emphasis></para>
<para>This type of report displays data elements’ name in the fixed columns, and organisation units are be displayed automatically according to the selected parents organisation unit in a period of time. These organisation units are also grouped together following the administrative level, such as: province, district, commune, etc.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/list_org_unit_group_report_template.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 7: A spreadsheet template with row-based reports</emphasis></para>
</listitem>
<listitem>
<para><emphasis role="bold">Reports list time periods in the columns</emphasis></para>
<para>This report display data values according to the fixed data element names, and the list of time periods are displayed automatically.</para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/list_time_period_report_template.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
<para><emphasis role="italic">Figure 8: A spreadsheet template with period-listing reports</emphasis></para>
</listitem>
<listitem>
<para><emphasis role="bold">Reports with data elements and categories</emphasis></para>
<para>This type of report displays data values which are combined of data elements and category combination. Data element names display as rows and category options are displayed as columns. Data elements’ names, codes may be displayed automatically as well as the sequence numbers of the rows</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/dataelement_category_report_template.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 9: A spreadsheet template with data-element and categories reports</emphasis></para>
</listitem>
</orderedlist>
</section>
<section>
<title>Create a new report in DHIS2 with spreadsheet report template file</title>
<para>When the spreadsheet report template file is available, creating a new report and the relevant report items are required. A step-by-step procedure is provided below.</para>
<orderedlist>
<listitem>
<para>To create a new report, choose <emphasis role="bold">Administration</emphasis> --&gt; <emphasis role="bold">Export Reports</emphasis> --&gt; <emphasis role="bold">Add</emphasis> --&gt; Fill the information form --&gt; <emphasis role="bold">OK</emphasis></para>
</listitem>
<listitem>
<para>To create report items in the report choose <emphasis role="bold">Administration</emphasis> --&gt; <emphasis role="bold">Export Reports</emphasis> --&gt; Choose a report --&gt; <emphasis role="bold">Report Items</emphasis> --&gt; <emphasis role="bold">Add</emphasis> --&gt; Fill information form --&gt; <emphasis role="bold">OK</emphasis></para>
</listitem>
</orderedlist>
<section>
<title>Create new report </title>
<para>Click <emphasis role="bold">Export Reports</emphasis> </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/list_of_reports.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 10: Administration - Export Reports menu</emphasis></para>
<para>Add new report: Click Add button to add new report</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/list_of_reports_1.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 11: The list of export reports</emphasis></para>
<para>Each of the fields should be filled in. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/add_new_report.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<itemizedlist>
<listitem>
<para><emphasis role="italic">Name</emphasis> *: Enter a descriptive name of the report. </para>
</listitem>
<listitem>
<para><emphasis role="italic">spreadsheet Template</emphasis>*: Choose a spreadsheet report template file from the list.</para>
</listitem>
<listitem>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/add_new_report_1.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 12: Choose a template for an export report</emphasis></para>
<para>The template files can be updated by uploading the spreadsheet files under &quot;spreadsheet Template Management&quot; session.</para>
<para><emphasis role="bold">Report Type *: Choose report type </emphasis></para>
<itemizedlist>
<listitem>
<para>Normal : to create reports include just data elements or indicators</para>
</listitem>
<listitem>
<para>Category : to create reports with data values are combined of data elements and categories </para>
</listitem>
<listitem>
<para>Period column listing: to create reports which list data values according to time period of specified organisation unit.</para>
</listitem>
<listitem>
<para>Organisation unit listing: reports which list data values according to organisation units.</para>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<para>Period position row and Period position column: Row and Column Number in spreadsheet template file where to put Period value.</para>
</listitem>
<listitem>
<para>Organisation Unit Row and Organisation Unit Column: Row and Column Number in spreadsheet template file where to put Organisation Unit Name.</para>
</listitem>
<listitem>
<para>Click <emphasis role="bold">OK</emphasis> button to create new report</para>
</listitem>
</itemizedlist>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/list_of_reports_3.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 13: Overview of functions for an export report</emphasis></para>
<para>There are buttons that can be used for various actions as depicted below: </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/export_report_1.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 14: Functions with detailed descriptions.</emphasis></para>
<itemizedlist>
<listitem>
<para>Organisation level <inlinegraphic fileref="resources/images/dhis_excel_reports/list_of_reports_Set_orgunit_group_level.png" align="center"/>for setting organisation group level.</para>
</listitem>
<listitem>
<para>Report Associations <inlinegraphic fileref="resources/images/dhis_excel_reports/association_org_unit.GIF"/>for assigning reports to organisation units</para>
<para>Simply select the organizational units that this report will be generated for. </para>
</listitem>
<listitem>
<para>The Report Item <inlinegraphic fileref="resources/images/dhis_excel_reports/report_item.png"/> function is used to define which values will appear in the desired report. Report items consist of specific values of data which will be placed into particular cells of the spreadsheet when the report is generated.Further information for configuration of the report items will be provided in the next section. </para>
</listitem>
<listitem>
<para> The Remove <inlinegraphic fileref="resources/images/dhis_excel_reports/remove_report.png"/> deletes the spreadsheet report. </para>
</listitem>
<listitem>
<para>Edit <inlinegraphic fileref="resources/images/dhis_excel_reports/edit_report.png"/>for editing report’s information.</para>
</listitem>
<listitem>
<para>Organisation unit Group <inlinegraphic fileref="resources/images/dhis_excel_reports/assign_org_unit_group.png"/> for choose which organisation group would be list in the report. This button only appears when the Report Type is Organisation Unit Listing</para>
</listitem>
<listitem>
<para>Data element groups <inlinegraphic fileref="resources/images/dhis_excel_reports/assign_data_element_group.png"/> for creating Data element group and these groups of data elements would be list in the report. This button is only available when the report type is a &quot;Category&quot; report. </para>
</listitem>
<listitem>
<para>Period column <inlinegraphic fileref="resources/images/dhis_excel_reports/list_of_reports_Create_period_column.png" align="center"/>for creating Period column. THis button is only available when the report type is a &quot;Reports list time periods in the columns&quot;</para>
</listitem>
</itemizedlist>
</section>
<section>
<title>Create report items</title>
<para>Click <emphasis role="bold">Create Report Item</emphasis> button to begin the process of defining a new report. Report items consist of different types of data that will be dynamically generated based on a user&apos;s inputs during the report generation phase. Report items must be defined and referenced to a particular spreadsheet template. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/create_new_report_0.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 15: Export Item List menu</emphasis></para>
<para>Click on the list of &quot;Export Item&quot; (screen-shot above) </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/report_item_function.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 16: Overview the operations toward an export-items</emphasis></para>
<para><emphasis role="bold">Add</emphasis> button to open a form</para>
<para>Fill the report item’s information. Each of the fields is described below in more detail. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/create_new_report_item.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 17: Instructions for creating an item</emphasis></para>
<itemizedlist>
<listitem>
<para><emphasis role="italic">Name</emphasis>: Enter a descriptive name for the report. (Ex: Total person joined HIA)</para>
</listitem>
<listitem>
<para><emphasis role="italic">Item</emphasis> Type: </para>
<orderedlist>
<listitem>
<para><emphasis role="italic">Data element</emphasis> : Select this item type if the value of a particular data element should be placed in the spreadsheet report. </para>
</listitem>
<listitem>
<para><emphasis role="italic">Indicator</emphasis>: Select this item type if the value of a particular indicator should be placed in the spreadsheet report. </para>
</listitem>
<listitem>
<para><emphasis role="italic">Spreadsheet formula</emphasis>: Select this item type if an spreadsheet formula should be placed in the cell. You will need to define the spreadsheet formula in the next step. </para>
</listitem>
<listitem>
<para><emphasis role="italic">Serial</emphasis> : A sequential number will automatically be generated and placed in the report.</para>
</listitem>
<listitem>
<para><emphasis role="italic">Organisation</emphasis>: if report item is list of organisation unit.</para>
</listitem>
</orderedlist>
</listitem>
<listitem>
<para><emphasis role="italic">Period Type</emphasis>*: Chose period type which data values of that report item would be aggregated and displays according to period parameter that user will choose when generate report. (Last 3 months, Last 6 months, So far this year, Quarterly, Six-Monthly, Yearly).</para>
</listitem>
<listitem>
<para><emphasis role="italic">Expression</emphasis> *: Click Expression button to define a particular data element or combination of data elements in a formula, if you have selected this report item type. If this report item type is &quot;Organization&quot; or &quot;Serial&quot; this option is not relevant. If the report item type is an spreadsheet formula, it should be entered directly in the text box. For instance, a valid spreadsheet formula might be &quot;=C1R1/C2R1&quot;, which would divide the cell in position (1,1) in the spreadsheet by the cell in position (2,1)</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/create_expression_1.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 18: Instructions for defining an expression for an item</emphasis></para>
<para>The category option would be <emphasis role="italic">default</emphasis> if data element hasn’t been combined with any category combo. Other options are described below:</para>
</listitem>
<listitem>
<para><emphasis role="italic">Sheet No</emphasis>*: Specify the sheet number where this report item would be display in the spreadsheet template file. </para>
</listitem>
<listitem>
<para><emphasis role="italic">Row</emphasis>*: Row number refers to cell where report item would be display in spreadsheet file.</para>
</listitem>
<listitem>
<para><emphasis role="italic">Column</emphasis>*: Column number refers to cell where report item would be display in spreadsheet file.</para>
</listitem>
<listitem>
<para>Once all items have been filled in, click the &quot;<emphasis role="bold">OK</emphasis>&quot; button to save the report definition. </para>
</listitem>
</itemizedlist>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/new_report_item.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 19: Confirm and Save the item&apos;s modification</emphasis></para>
<para>You will be informed that a new report item has been created. </para>
<para>The &quot;<emphasis role="bold">Copy to Export&quot;</emphasis> function can be used to copy spreadsheet report items from one report to another. Therefore, there is no need to redefine an spreadsheet report item, if it will appear in two different reports. You can simply copy the item from one report definition to the other by following this procedure. <orderedlist>
<listitem>
<para>From list of reports page, click &quot;Add new report.&quot;</para>
</listitem>
<listitem>
<para>From the source report, select the report items that should be copied by clicking on the appropriate check boxes of the items.</para>
</listitem>
<listitem>
<para>Click the <emphasis role="bold">&quot;Copy report items to Export&quot;</emphasis> button.</para>
</listitem>
<listitem>
<para><emphasis role="italic">Export report</emphasis>: Chose the destination report. </para>
</listitem>
<listitem>
<para><emphasis role="italic">Sheet No</emphasis>: Choose the sheet number where the report items would be displayed.</para>
</listitem>
<listitem>
<para>Finally, Click the <emphasis role="bold">OK</emphasis> button to copy the report items. </para>
</listitem>
</orderedlist></para>
<para><emphasis role="italic">Figure 20: Choose a report and sheet number for copying the items to</emphasis></para>
<para><emphasis role="bold">Copy to export items to Import</emphasis> button: To copy the report items from the export reports to an import report.</para>
<para> </para>
<para><orderedlist>
<listitem>
<para>From source report, select report items need to be copied.</para>
</listitem>
<listitem>
<para>Click the <emphasis role="bold">Copy export items to Import</emphasis> button</para>
</listitem>
<listitem>
<para><emphasis role="italic">Import Reports</emphasis>: chose a destination report</para>
</listitem>
<listitem>
<para><emphasis role="italic">Sheet No</emphasis>: Choose the Sheet No at which the import item would be copied to (equilavent to the sheet of the expected importing spreadsheet file).</para>
</listitem>
<listitem>
<para>Click <emphasis role="bold">OK</emphasis> button to copy</para>
</listitem>
</orderedlist></para>
<para><emphasis role="italic">Figure 21: Choose an import report and sheet number for copying the items to</emphasis></para>
</section>
</section>
<section>
<title>Report Assignment </title>
<section>
<title>Assign a report to Org Units </title>
<para>This function will determine which organizational units the report should be assigned to. Click the<emphasis role="bold">Report Associations</emphasis> button from the main page. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/report_associate.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 22: Report Assignment for OrganizationUnits</emphasis></para>
<para>Chose OrgUnits to assign and click the Save button.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/select_orgunit.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 23: Report Assignment for OrganizationUnits</emphasis> (cont.)</para>
<para>Select each organizational unit that the report can be generated for, or alternatively, select multiple organizational units by selecting a particular organizational unit level or group.</para>
<para>This function only appears in <emphasis role="bold">Organization Unit Listing</emphasis> report type. </para>
<para>Click <emphasis role="bold">Organisation Unit group</emphasis> button.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/select_orgunit_group.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 24: OrganizationUnit Group setting for an export report</emphasis></para>
<para>Select Organisation unit groups, arrange sequence of these groups, and click <emphasis role="bold">OK</emphasis> to save.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/select_orgunit_group_1.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 25: In details for OrganizationUnit Group setting</emphasis></para>
</section>
<section>
<title>Assign report to user role</title>
<para>To manage the authority of using the reports, we should assign reports to user roles. This allows the administrator to decide which users are able to view certain reports.</para>
<orderedlist>
<listitem>
<para>From <emphasis role="bold">Export Reports</emphasis> sub-menu (see Fig. 22), choose <emphasis role="bold">Assign user-role for the export report</emphasis></para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/assign_user_role.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 26: User Role menu</emphasis></para>
</listitem>
<listitem>
<para>Then setting the User Roles for the export report</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="12%" align="center" fileref="resources/images/dhis_excel_reports/edit_user_role.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 27: User role</emphasis> <emphasis role="italic">setting for the report</emphasis></para>
<para><emphasis role="underline">
<emphasis role="bold">How to define an user-role, see the following screenshots:</emphasis>
</emphasis></para>
<para>Go to User Role management:</para>
<para>Maintenance &gt;&gt; Users &gt;&gt; User Role</para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/edit_user_role_1.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
<para><emphasis role="italic">Figure 28: User Role menu</emphasis></para>
<para>Then choose an user role to edit or create a new user role:</para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/edit_user_role_2.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
<para><emphasis role="italic">Figure 29: User Role management</emphasis></para>
<para>Setting for an user role:</para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/edit_user_role_3.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
<para><emphasis role="italic">Figure 30: User Role settings for dataset and functions access</emphasis></para>
</listitem>
</orderedlist>
</section>
</section>
</section>
<section id="excelReportingDataEntryStatus">
<title>Data Entry Status</title>
<para>This function allows users to see which datasets are entered with data and how the data values are entered. This helps save time for the health manager to follow the completeness of the data entered. In particular, there is a need of viewing data set entry status.</para>
<para>Add data set to view</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/data_entry_status.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 31: Data-Entry Status Management menu</emphasis></para>
<para><emphasis role="bold">Data Entry Status</emphasis> page would be displayed. Click <emphasis role="bold">Add</emphasis> button to add data set.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/add_data_entry_status.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 32: Add a new status management</emphasis></para>
<para>Then select the desired data set and Organisation Unit from the menu.</para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/add_data_entry_status_1.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
<para><emphasis role="italic">Figure 33: Choose an Organization Unit for data-entry status</emphasis></para>
<para>And set-up for the data-entry status by choosing the dataset:</para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/add_data_entry_status_2.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
<para><emphasis role="italic">Figure 34: Choose an dataset for data-entry status</emphasis></para>
<para>Moreover, you can choose/pick the statuses as the defaults for the organization unit:</para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/add_data_entry_status_3a.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
<para><emphasis role="italic">Figure 35a: Set-up default for the status</emphasis></para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/add_data_entry_status_3b.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 35b: The list of data-entry status</emphasis></para>
<para>An screen-shot example:</para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/add_data_entry_status_3c.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
<para><emphasis role="italic">Figure 35c: Data-entry status of an organization unit by its dataset</emphasis>s</para>
</section>
<section id="excelReportingExcelItems">
<title>Spreadsheet/Import items</title>
<para>The function allows users to import data from a pre-designed spreadsheet templates directly into the DHIS database automatically. Alternatively, selected elements may be imported. This is a particularly useful feature for importing data from other users that may not have DHIS2 installed on their computers. For instance, it may be more feasible to have users at a primary care health facility enter their values in spreadsheet directly. Users may be immediately familiar with spreadsheet, and can easily enter data into a pre-defined template. Installation of DHIS2 on their computers may complicate a particular implementation, and require additional resources in terms of training. By using pre-defined templates for importation into the DHIS2 database, users that do not have DHIS2 can easily transmit data to users that do, for instance from the primary health care facility to the district level. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/excelitem_groups.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 33: Import Report List</emphasis></para>
<section>
<title>Create a template to import</title>
<para><orderedlist>
<listitem>
<para>To create a group, choose <emphasis role="bold">Administration</emphasis> -&gt;<emphasis role="bold"> Import Reports</emphasis> -&gt; <emphasis role="bold">Add </emphasis>--&gt; Fill the information form and press <emphasis role="bold">OK</emphasis>.</para>
</listitem>
<listitem>
<para>To create items in the grorp, choose <emphasis role="bold">Administration</emphasis> --&gt; <emphasis role="bold">Import Reports</emphasis> --&gt; Choose a group --&gt; <emphasis role="bold">Spreadsheet/Excel items </emphasis>--&gt; Fill information form -&gt; <emphasis role="bold">OK</emphasis>.</para>
</listitem>
</orderedlist>Creating a spreadsheet items group which contains spreadsheet items. A spreadsheet item correspond with a data cell into inputted template spreadsheet files. A step-by-step procedure is provided below.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/add_excelitem_group.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 32: Create a new Import Item</emphasis></para>
<itemizedlist>
<listitem>
<para><emphasis role="italic">Name </emphasis>*: Enter Name of report.</para>
</listitem>
<listitem>
<para><emphasis role="italic">Report Type </emphasis>*: Choose report type<itemizedlist>
<listitem>
<para><emphasis role="italic">Normal</emphasis> : to create group include just data elements or indicator</para>
</listitem>
<listitem>
<para><emphasis role="italic">Category</emphasis> : to create group with data values are combined of data elements and categories</para>
</listitem>
<listitem>
<para><emphasis role="italic">Organisation unit listing </emphasis>: groups which list data values according to organisation units.</para>
</listitem>
</itemizedlist></para>
</listitem>
<listitem>
<para><emphasis role="italic">Period Type </emphasis>*: Type of period to import data values.</para>
</listitem>
</itemizedlist>
<para>Click <emphasis role="bold">OK</emphasis> button to create new report.</para>
<para>There are buttons that can be used for various actions as depicted below.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/excelitem_groups_buttons.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 33: Operations of import reports</emphasis></para>
<itemizedlist>
<listitem>
<para> Associations <inlinegraphic fileref="resources/images/dhis_excel_reports/association_org_unit.GIF"/>for assigning a group to organisation units.</para>
</listitem>
<listitem>
<para>Spreadsheet item group <inlinegraphic fileref="resources/images/dhis_excel_reports/report_item.png"/>for creating report items in the report.</para>
</listitem>
<listitem>
<para>Remove <inlinegraphic fileref="resources/images/dhis_excel_reports/remove_report.png"/>for removing spreadsheet item group.</para>
</listitem>
<listitem>
<para>Edit <inlinegraphic fileref="resources/images/dhis_excel_reports/edit_report.png"/>for editing information of group.</para>
</listitem>
<listitem>
<para>Organisation unit Group <inlinegraphic fileref="resources/images/dhis_excel_reports/assign_org_unit_group.png"/> for choose which organisation group would be list in the group. This button only appear when the Group Type is Organisation Unit Listing</para>
</listitem>
<listitem>
<para>Data element groups <inlinegraphic fileref="resources/images/dhis_excel_reports/assign_data_element_group.png"/> for create Data element group and these groups of data elements would be list in the report. This button only available when report type is Category. </para>
</listitem>
</itemizedlist>
</section>
<section>
<title>Create spreadsheet items</title>
<para>Click <emphasis role="bold">Add</emphasis> button to open a form.
</para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/add_excelitem.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
<para><emphasis role="italic"> Figure 34: Import item description</emphasis></para>
<para>Fill information of an spreadsheet items.<itemizedlist>
<listitem>
<para>Name*: Enter item name</para>
</listitem>
<listitem>
<para>Expression *: Click Expression button to choose Data element, Indicator, Or just type spreadsheet formula if Item type is spreadsheet formula.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/create_expression_1.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 35: Expression building</emphasis></para>
<para>The category option would be <emphasis role="italic">default</emphasis> if data element hasn’t been combined with any category combo. Other options are described below:</para>
</listitem>
<listitem>
<para>Sheet No*: type sheet no where this item would be display in spreadsheet template file</para>
</listitem>
<listitem>
<para>Row*: row number refers to cell where item would be display in spreadsheet file.</para>
</listitem>
<listitem>
<para>Column*: column number refers to cell where item would be display in spreadsheet file.</para>
</listitem>
<listitem>
<para>Click <emphasis role="bold">OK</emphasis> button to create item.</para>
</listitem>
</itemizedlist></para>
<para><emphasis role="bold">Copy selected items to</emphasis> button: To copy the report items when the new report has an item which can be reused from the existing report</para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/copy_report_item.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
<para><emphasis role="italic">Figure 36: Choose import report and sheet number</emphasis></para>
<orderedlist>
<listitem>
<para>From List of groups page, select items need to be copied.</para>
</listitem>
<listitem>
<para>Click the <emphasis role="bold">Copy selected items to</emphasis> button.</para>
</listitem>
<listitem>
<para><emphasis role="italic">List of groups</emphasis>: chose a destination report.</para>
</listitem>
<listitem>
<para><emphasis role="italic">Sheet No</emphasis>: Choose the Sheet No which report Item would be display.</para>
</listitem>
<listitem>
<para>Click <emphasis role="bold">OK</emphasis> button to copy.</para>
</listitem>
</orderedlist>
</section>
</section>
<section id="excelReportingExcelTemplateManagement">
<title>Spreadsheet Template Management </title>
<para>This is used to manage Template spreadsheet files which are used to export reports, includes upload, download, delete and rename files.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/excel_template_management.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 37: Excel Template Management</emphasis></para>
<para>To upload template file, choose <emphasis role="bold">Browse</emphasis> button.<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/upload_template_excel_file.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
<para arch=""><emphasis role="italic">Figure 38: Upload a template</emphasis></para>
<para arch="">Choose a file from shown dialog</para>
<para arch=""><screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/choose_upload_file.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
<para arch=""><emphasis role="italic">Figure 39: Choose a spreadsheet file</emphasis></para>
<para>Click <emphasis role="bold">Open</emphasis> to choose file, and click <emphasis role="bold">Upload</emphasis> button to upload. If successfully, the uploaded file will be shown in the list:</para>
<para>
No upload if the chosen file is not spreadsheet file.</para>
</section>
<section id="excelReportingCleanTemporaryDirectory">
<title>
<emphasis role="italic">Clean temporary directory</emphasis>
</title>
<para>This allows the user to clean temporary directory.</para>
<itemizedlist>
<listitem>
<para>From <emphasis role="bold">Main</emphasis> menu, choose <emphasis role="bold">Maintenance</emphasis> &gt; <emphasis role="bold">Clean temporary directory </emphasis></para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/clean_temporary_directory.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="italic">Figure 40: Clean-up temporary files</emphasis></para>
</listitem>
</itemizedlist>
</section>
</section>
<section>
<title>Spreadsheet Reports</title>
<para>There are 3 functions of the module.</para>
<orderedlist>
<listitem>
<para><emphasis role="italic">Generate Report</emphasis>: Allow users to generate reports according to parameters such as time period, organisation unit, organisation unit group and to generate group of reports to many sheets of a single spreadsheet file.</para>
</listitem>
<listitem>
<para><emphasis role="italic">Import spreadsheet files</emphasis>: Imports data values from an spreadsheet file to the DHIS2 system.</para>
</listitem>
<listitem>
<para><emphasis role="italic">Data entry Status</emphasis>: View data entry status.</para>
</listitem>
</orderedlist>
<section id="excelReportingReport">
<title>Generate report</title>
<para>To generate a report just follow the simple steps outlined below.</para>
<orderedlist>
<listitem>
<para>Click &quot;Generate Report&quot;.</para>
</listitem>
<listitem>
<para>Select an Organisational Unit on the left.</para>
</listitem>
<listitem>
<para>Select a Report Group. </para>
</listitem>
<listitem>
<para>Select a Report from the Report list.</para>
</listitem>
<listitem>
<para>Select a period of time from the Period drop-down.</para>
</listitem>
<listitem>
<para>Click Generate Report button to generate the report.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/generate_report.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</listitem>
</orderedlist>
<para>With &quot;Preview Report&quot; function, you can preview the report with DHIS2 before download the equivalent spreadsheet report.</para>
<para>With &quot;Print Preview&quot; (or maybe labelled as &quot;Print Draft&quot;), you can download/print out the current preview report directly without generating a spreadsheet file and this will reduce time-consuming.</para>
</section>
<section id="excelReportingDataEntryStatusReport">
<title>Data entry status report</title>
<para>This function allows users to see which datasets are entered with data and what percentage of data has been entered for different datasets, organizational units and time periods. This allows the person responsible for monitoring data completeness (e.g. district health manager) to monitor the level of data completness easily.</para>
<para>View Data entry status</para>
<para>From Left menu, click Data Entry Status &gt; Select Org Unit name to view.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="70%" align="center" fileref="resources/images/dhis_excel_reports/data_entry_status_1.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The Data entry status is displayed as percentage. The relative percentage of data elements that were entered in the form. </para>
</section>
</section>
</chapter>
<chapter>
<title>Designing a data set</title>
<section>
<title>From paper to multidimensional datasets - lessons learned</title>
<para>Typically the design of a DHIS 2 dataset is based on some requirements from a paper form that is already in use. The logic of paper forms are not the same as the data element and data set model of DHIS, e.g. often a field in a tabular paper form is described both by column headings and text on each row, and sometimes also with some introductory table heading that provides more context. In the database this is captured in one atomic data element with no reference to a position in a visual table format, so it is important to make sure the data element with the optional data element categories capture the full meaning of each individual field in the paper form. </para>
<para>Another important thing to have in mind while designing datasets is that the dataset and the corresponding data entry form (which is a dataset with layout) is a data collection tool and not a report or analysis tool. There are other far more sophisticated tools for data output and reporting in DHIS than the data entry forms. Paper forms are often designed with both data collection and reporting in mind and therefore you might see things such as cumulative values (in addition to the monthly values), repetition of annual data (the same population data reported every month) or even indicator values such as coverage rates in the same form as the monthly raw data. When you store the raw data in DHIS every month and have all the processing power you need within the computerised tool there is no need (in fact it would be stupid and most likely cause inconsistency) to register manually calculated values such as the ones mentioned above. You only want to capture the raw data in your datasets/forms and leave the calculations to the computer, and presentation of such values to the reporting tools in DHIS.</para>
<section>
<title>From tables to category combinations - designing multidimensional data sets</title>
<para>As we have seen in the examples above the data element categories and their options are helpful in representing tabular data, when adding dimensions to a field in a paper form. We have also seen how the data element is the central dimension and that the data element categories are used to provide further details or disaggregation to the data element. As we will see in the example below there are often more than one way to represent a paper form in DHIS, and it can be difficult to know which dimension to represent with a data element name and which to represent as categories, or even as groups as we have seen above. Here are some general lessons learned from working with data element and category combinations:</para>
<itemizedlist>
<listitem>
<para>Design your dimensions with data use in mind, not data collection. This means that disaggregation of data values at collection time should be easily aggregated up along the various dimensions, as in adding up to a meaningful total.</para>
</listitem>
<listitem>
<para>Reuse dimensions as much as possible as it increased the ability to compare disaggregated data (e.g. age groups, fixed/outreach, gender). Not necessary to share all dimensions, it helps to share only one as well (much better than none).</para>
</listitem>
<listitem>
<para>Disaggregation dimensions should add up to a total</para>
</listitem>
<listitem>
<para>Different levels of dimensions; 1) disaggregation and 2) grouping. Disaggregation dimensions dictate how you collect and how detailed you store your data, so plan these carefully. The group dimension is more flexible and can be changed and added to even after data collection (think of it as tagging). </para>
</listitem>
<listitem>
<para>Think integrated data repository and not forms or programs when designing the metadata model and revising forms. Use the same disaggregation for the same or similar data across forms. Reuse definitions so that the database can integrate even though the forms might be duplicating. </para>
</listitem>
</itemizedlist>
<para><emphasis role="bold">STEP BY STEP APPROACH TO DESIGNING DATASETS</emphasis></para>
<para>1. Identify the different tables (or sub datasets) in the paper form that share the same dimensions</para>
<para>2. For each table identify the dimensions that describe the data fields</para>
<para>3. Identify the key dimension, the one that makes most sense to look at in isolation (when the others are collapsed, summed up). This is your data element dimension, the starting point and core of your multidimensional model (sub dataset). The data element dimension can be a merger of two or more dimensions if that makes more sense for data analysis. The key is to identify which total that makes most sense to look at alone when the other dimensions are collapsed.</para>
<para>4. For all other/additional dimensions identify their options, and come up with explanatory names for dimensions and their options.</para>
<para>5. Each of these additional dimensions will be a data element category and their options will be category options.</para>
<para>6. Combine all categories for each sub dataset into one category combination and assign this to all the data elements in your table (or sub dataset if you like). </para>
<para>7. When you are done with all the tables (sub datasets), create a new dataset and add all the data elements you have identified (in the whole paper form) to that dataset.</para>
<para>8. Your dataset will then consist of a set of data elements that are linked to one or more category combinations. </para>
<para>In order to better explain the approach and the possibilities we present an example paper form and will walk through it step by step and design data elements, categories, category options and category combinations.</para>
<para><screenshot>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/data_dimensions/PHUF3.jpg" format="JPG"/>
</imageobject>
</mediaobject>
</screenshot> </para>
<para>This form has many tables and each of them potentially represent a data element category combination (from now on referred to as a catcombo). As such there is no restriction on a dataset to only have one set of dimensions or catcombo, it can have m For any and as we see above this is necessary as the dimensions are very different from table to table. We will walk through this table by table and discuss how to represent it in the DHIS.</para>
<para><emphasis role="bold">ANC table</emphasis>. This table in the top left corner is one the simpler ones in this form. It has two dimensions, the first column with the ANC activity or service (1st visit, IPT 2nd dose etc) and the 2nd and 3rd column which represent the place where the service was given with the two options fixed and outreach. Since the ANC service is the key phenomena to analyse here and often there is a need for looking at e.g. total of ANC 1st visits no matter where (fixed+outreach) it makes a lot of sense to use this dimension as the data element dimension. So all items on the first column from 1st ANC visit to 2nd IPT dose given by TBA are represented as individual data elements. The place dimension is represented as a data element category (from now on referred to as category) with the name &quot;fixed/outreach&quot; with the two data element category options (from now on catoptions) &quot;fixed&quot; and &quot;outreach&quot;. There is no other dimension here so we add a new catcombo with the name &quot;Fixed/Outreach&quot; with one category &quot;Fixed/Outreach&quot;. Strictly speaking there is another dimension in this table, and that is the at PHU or by TBA dimension which is repeated for the two doses of IPT, but since none of the other ANC services listed have this dimension it does not seem like a good idea to separate out two data elements from this table and give them another catcombo with both fixed/outreach and at PHU/by TBA. reusing the same catcombo for all the ANC services makes more sense since it will be easier to look at these together in reports etc. and also the fact that there is not much to loose by repeating the at PHU or by TBA information as part of the data element name when it is only for four data elements in a table of totally 11 data elements.</para>
<para><emphasis role="bold">DELIVERY table.</emphasis> This table is more tricky as it has a lot of information and you can see that not all the rows have the same columns (some columns are merged and a one field is grayed out/disabled.). If we start by looking at the first column &quot;Deliveries assisted by&quot; that seems to be one dimension, but only down to the &quot;Untrained TBA&quot; row, as the remaining three rows are not related to who assisted the delivery at all. Another dimension is the place of delivery, either In PHU or in Community as stated on the top column headings. These deliveries are further split into the outcome of the delivery, whether it is a live or still birth, which seems to be another dimension. So if we disregard the three bottom rows for a moment there seems to be 3 dimensions here, 1) assisted by, 2) place of delivery, and 3) delivery outcome. The key decision to make is what to use as the data element, the main dimension, the total that you will most often use and want easily available in reports and data analysis. We ended up using the outcome dimension as total live births is a very commonly used value in many indicators (maternal mortality ratio, births attended by skilled health personnel etc.). In this case the Assisted By dimension could also have been used without any problem, but the added value of easily getting the total live births information was the decisive point for us. This means that from this table (or subtable of row 1 to 6) there are only two data elements; &quot;Live births&quot; and &quot;Still births&quot;. Then there are two more dimensions, the &quot;PHU/Community&quot; with its two options and a &quot;Births attended by&quot; with options (&quot;MCH Aides&quot;, &quot;SECHN&quot;, &quot;Midwives&quot;, &quot;CHO&quot;, &quot;Trained TBA&quot;, &quot;Untrained TBA&quot;). These two categories make up the catcombo &quot;Births&quot; which is assigned to the two data elements &quot;Live births&quot; and &quot;Still births&quot;. Considering the final three rows of the delivery table we can see that &quot;Complicated Deliveries&quot; does not have the assisted by dimension, but has the place and the outcome. &quot;Low birth weight&quot; also does not have the assisted by dimension and not the outcome either. The LLITN given after delivery does not have any additional dimension at all. Since not any of the three rows can share catcombo with any other row we decided to represent these fields as so called flat data elements, meaning data elements with no categories at all, and simply adding the additional information from the column headings to the data element name, and therefore ended up with the following data elements with the default (same as none) catcombo; &quot;Complicated deliveries in PHU live birth&quot;, &quot;Complicated deliveries in PHU still births&quot;, &quot;Complicated deliveries in community live birth&quot;, &quot;Complicated deliveries in community still births&quot;, &quot;Low birth weight in PHU&quot;, &quot;Low birth weight in community&quot;, and &quot;LLITN given after delivery&quot;.</para>
<para><emphasis role="bold">POST-NATAL CARE table</emphasis> This table is simple and we used the same approach as for the ANC table. 3 data elements listed in the first column and then link these to the catcombo called &quot;fixed/outreach&quot;. Reusing the same category fixed/outreach for these data elements enables analysis on fixed/outreach together with ANC data and other data using the same category.</para>
<para><emphasis role="bold">TT table</emphasis> This is a bit more tricky. We decided to use &quot;TT1&quot;, &quot;TT2&quot; ... &quot;TT5&quot; as data elements which makes it easy to get the total of each one of these. There is fixed/outreach dimensio here, but there is also the In school place that is only applied to the Non-Pregnant, or more correctly to any of the two as the school immunisation is done whether the girls are pregnant or not. We consulted the program people behind the form and found out that it would be ok to register all school TT immunisations as non-pregnant, which simplifies the model a bit since we can reuse the &quot;TT1&quot; to &quot;TT5&quot; data elements. So we ended up with a new category called &quot;TT place&quot; with the three options (Fixed, Outreach, In School), and another category called &quot;Pregnant/Non-pregnant&quot; with two options. The new catcombo &quot;TT&quot; is then a combination of these two and applied to the 5 TT data elements. Since we agreed to put all In Schools immunisations under Non-pregnant in means that the combination of options (Pregnant+In School) will never be used in any data entry form, and hence become a passibe optioncombo, which is ok. As long as the form is custom designed then you can choose which combinations of options to use or not, and therefore it is not a problem to have such passive or unused catoptions. Having school as one option in the TT place category simplifies the model and therefore we thought it was worth it. The alternative would be to create 5 more data elements for &quot;TT1 in school&quot; ... &quot;TT5 in school&quot;, but then it would be a bit confusing to add these together with the &quot;TT1&quot; ...&quot;TT5&quot; plus TT catcombo. Having school as a place in the TT place category makes it a lot easier to get the total of TT1.. TT5 vaccines given, which are the most important numbers and most often used values for data analysis.</para>
<para><emphasis role="bold">Complications of early and late pregnancy and labour tables</emphasis> We treat these two tables as one, and will explain why. These two tables are a bit confusing and not the best deisgn. The major data coming out of these tables are the pregnancy complications and the maternal deaths. These are the major things for data analysis. And then there is further detail on the cause of the complication or death (the first column in both tables), as well as a place of death (in PHU or community), and a outcome of the complication (when its not a death) that can be either Managed at PHU or Referred. We decided to create two data elements for these two tables; &quot;Pregnancy complications&quot;, and &quot;Maternal Deaths&quot;, and two category combinations, one for each of the data elements. For the Pregnancy Complications data element there are two additional dimensions, the cause of the complication (the combined list of the first column in the two tables) and the outcome (managed at PHU or Referred), so these are the categories and options that make up that category combination. For the &quot;Maternal deaths&quot; data element the same category with the different causes are used and then another category for the place of death (in PHU or In community). This way the two data elements can share one category and it will be easy to derive the total number of pregnancy complications and maternal deaths. While the list of complications on the paper form is divided into two (early and late/labour) you can see that e.g. the malaria in 2nd and 3rd trimester are listed under early, but in fact are for a later phase of the pregnancy. There is no clear divide between early and late complications in the form, and therefore we gave up trying to make this distinction in the database. </para>
<para><emphasis role="bold">Family Planning Services table</emphasis> This table has 2 dimensions, the family planning method (contraceptive) and whether the client is new or continuing. We ended up with one data element only &quot;Family planning clients&quot; and then added two categories &quot;FP method&quot; with all the contraceptives as options, and another category &quot;FP client type&quot; with new or continuing as options. This way it will be easy to get the total number of family planning clients which is the major value to look at in data analysis, and from there you can easily get the details on method or how many new clients there are.</para>
</section>
</section>
</chapter>
<chapter>
<title>Setting up Data Quality functionality</title>
<para>The data quality module provides means to improve the quality of the data in the system. This can be done through validation rules and various statistical checks.</para>
<section>
<title>Learning Objectives</title>
<para>After reading this module you will be able to understand:</para>
<orderedlist>
<listitem>
<para>What is data quality and its importance for HMIS.</para>
</listitem>
<listitem>
<para>How to do data quality check at point of data entry.</para>
</listitem>
<listitem>
<para>How to create data validation rules.</para>
</listitem>
<listitem>
<para>How to carry out data triangulation.</para>
</listitem>
<listitem>
<para>How to analyze data status.</para>
</listitem>
</orderedlist>
</section>
<section>
<title>Overview of data quality check</title>
<para>Ensuring data quality is a key concern in building an effective HMIS. Data quality has different dimensions including:</para>
<itemizedlist>
<listitem>
<para><emphasis>Correctness:</emphasis> Data should be within the normal range for data collected at that facility. There should be no gross discrepancies when compared with data from related data elements.</para>
</listitem>
<listitem>
<para><emphasis>Completeness:</emphasis> Data for all data elements for all health facilities/blocks/Taluka/districts should have been submitted.</para>
</listitem>
<listitem>
<para><emphasis>Consistency:</emphasis> Data should be consistent with data entered during earlier months and years while allowing for changes with reorganization, increased work load, etc. and consistent with other similar facilities.</para>
</listitem>
<listitem>
<para><emphasis>Timeliness:</emphasis> All data from all health facilities/blocks/Taluka/districts should be submitted at the appointed time.</para>
</listitem>
</itemizedlist>
</section>
<section>
<title>Data quality checks</title>
<para>Data quality checking can be done through various means, including:</para>
<orderedlist>
<listitem>
<para>At point of data entry, the software can check the data entered to see if it falls within the min-max ranges of that data element over the last six months or as defined by the user.</para>
</listitem>
<listitem>
<para>Defining various validation rules, which can be run once the user has finished data entry. The user can also check the entered data for a particular period and Organization Unit(s) against the validation rules, and display the violations for these validation rules. </para>
</listitem>
<listitem>
<para>Analysis of data sets, ie. examining gaps in data.</para>
</listitem>
<listitem>
<para>Data triangulation which is comparing the same data or indicator from different sources.</para>
</listitem>
</orderedlist>
</section>
<section>
<title>Data quality check at the point of data entry </title>
<para>Data quality can be checked at the point of data entry through setting the minimum and maximum value range for each element manually or generating the min-max values using the DHIS 2 if there is historical data available for that data element.
</para>
<section>
<title>Setting the minimum and maximum value range manually </title>
<para>If you are using the default entry screen click on the element for which you want to set the min-max value. A pop-up window will appear in which you can enter the vaules. On subsequent data entry if the value entered does not fall within the set min-max range the text box will change colour to red. The user will also get a pop-up as shown below. This change in colour is a prompt to check the data entered and make necessary correction. On the data entry screen the users also have the option to add a comment on how the discrepant figure might be explained (if required). This you can do by using the drop down menu of the ‘comment’ box. In case you are using the custom data entry screen which is displayed when you deselect the ‘default data entry form’ option on the top right corner of the screen. In this case the minimum and maximum values can be added by double-clicking on the data entry box instead of the data element.</para>
</section>
<section>
<title>Generated min-max values </title>
<para>It is possible to generate the min-max value, element-wise, using the DHIS2. In such case you merely need to click on the ‘Generate min-max’ button near the upper right corner. In case of default data entry screen the min and max values, when generated, will appear on the left and right side of the data entry box. In case you deselect the default data entry form the generated values will appear on the top right end of the screen.</para>
</section>
</section>
<section id="validationRule">
<title>Validation Rule</title>
<para>This module provides management of validation rules. A validation rule is based on an expression which defines a relationship between a number of data elements. The expression has a left side and a right side and an operator which defines whether the former must be less than, equal to or greater than the latter. The expression forms a condition which should assert that certain logical criterias are met. For instance, a validation rule could assert that the total number of vaccines given to infants is less than or equal to the total number of infants.</para>
<para>To add a validation rule, click the add new button. First, provide a descriptive <emphasis role="italic">name</emphasis> for the validation rule. The name must be unique among the validation rules. Second, provide a description for the validation rule. Third, select an operator. The operator options are <emphasis role="italic">equal</emphasis>, <emphasis role="italic">not equal</emphasis>, <emphasis role="italic">greater than</emphasis>, <emphasis role="italic">greater than or equal</emphasis>, <emphasis role="italic">less than</emphasis>, <emphasis role="italic">less than or equal to</emphasis>. Then define the left side and right side of the validation rule expression. First, provde a description for the expression. Second, build the expression with the expression builder. The expression is mathematical and contain data elements as well as integers and mathematical operators. Data elements can be included by double-clicking one in the available data elements list to the righ. Alternatively one can select a data element and click the insert button. Mathematical operators can be included by clicking the corresponding button under the expression builder area. Save the expression by clicking <emphasis role="italic">save</emphasis>, then save the validation rule by clicking <emphasis role="italic">save</emphasis>.</para>
<para>To edit a validation rule, click the <emphasis role="italic">edit</emphasis>icon next to the relevant validation rule in the list. Then follow the same producedures as above.</para>
<para>To delete a validation rule, click the <emphasis role="italic">delete</emphasis>icon next to the relevant validation rule in the list.</para>
<para>To view validation rule details, click the <emphasis role="italic">view details</emphasis>icon next to the relevant validation rule in the list.</para>
</section>
<section id="validationRuleGroup">
<title>Validation Rule Group</title>
<para>A validation rule group provides a mechanism for classifying related data elements. Another advantate of using validation rule grops is that it can later be run separately, contrary to running all validation rules.</para>
</section>
</chapter>
<chapter>
<title>Data elements</title>
<para>When the ‘Data Elements and Indicators’ options is chosen from the main Maintenance menu, the following screen appears:</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_main.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>From the left side menu or by clicking on the sections listed in the central area you can access the various sections on data elements;</para>
<para>Data Element, Data Element Group, Data Element Group Editor, Data Element Group Set, Data Element Category, Data Element Category Combination. </para>
<section>
<title>Data element maintenance</title>
<para>Each of the options for maintenance of data elements will be described in the following section.</para>
<itemizedlist>
<listitem>
<para>Data element</para>
<para>Create, modify, view and delete data elements. </para>
</listitem>
<listitem>
<para>Data element group</para>
<para>Create, modify, view and delete data element groups. </para>
</listitem>
<listitem>
<para>Data element group editor</para>
<para>Easily add or remove data elements to and from data element groups. </para>
</listitem>
<listitem>
<para>Data element group set editor</para>
<para>Create, modify, view and delete data elements group sets. </para>
</listitem>
<listitem>
<para>Data element categories</para>
<para>Create, modify, view and delete data element categories. </para>
</listitem>
</itemizedlist>
<section id="dataElement">
<title>Data elements</title>
<para><?inline true?>Data elements form the basis of DHIS2. Data elements define what is actually recorded in system, e.g. number of immunisations or number of cases of malaria. The actual creation and definition of the data elements themselves are far beyond the scope of this manual to describe, but it is assumed that an administrator will be provided with a list of standardised data elements for inclusion into the DHIS2 system. </para>
<para>To access the data element maintenance module, choose Maintenance -&gt; Data elements and Indicators -&gt; Data element. </para>
<para>The ‘Filter by name’ will allow you to filter a range of data elements if you know either the full name of the data element, or just a part of it. Type the name
into the search field and any matching data elements are displayed below.
You can also choose ‘Filter by group/view all’ to narrow down a data
element search within a particular data element group. In default mode, this
field will display all the data elements in the application.
The ‘Get PDF’ button can be clicked to generate a .pdf file of all the data
elements. The &apos;Sort&apos; button can be used to sort the data elements into alphabetical order. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_main2.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>To add a new data element, click the &apos;Add new&apos; button. There are various options available from this page that allow the user to modify data elements already present in the database. Each of the options are described below in the &quot;Editing data elements&quot;. </para>
<section>
<title>Editing data elements</title>
<para>Click the &quot;Edit&quot;<inlinegraphic fileref="resources/images/dhis2_images/edit.png" align="center"/> button to modify the properties of a data element that has been previously defined. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_edit.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<itemizedlist>
<listitem>
<para>Name: Define the precise name of the data element in this field. Each data element must have a unique name. </para>
</listitem>
<listitem>
<para>Short name: Typically, an abbreviation of the full data element name. This attribute is often used in reports to display the name of the data element, where there is limited space available. </para>
</listitem>
<listitem>
<para>Alternative name: Allows the definition of an alternative name of the data element. </para>
</listitem>
<listitem>
<para>Code: In many countries, data elements are assigned a code. This code can be entered in this field. </para>
</listitem>
<listitem>
<para>Description: Allows a full textual description of the data element to be entered. The user should be as precise as possible, and include full information on how the data element is measured and what its meaning is. </para>
</listitem>
<listitem>
<para>Active: Defines whether a given data element is active or not. Data elements marked as inactive, will not be displayed in the data entry screens. </para>
</listitem>
<listitem>
<para>Domain type: Defines whether a data element is an aggregate or patient type of data element. </para>
</listitem>
<listitem>
<para>Value type: Defines the type of data this data element will be used to record. Currently there are four options: number, text, yes/no (boolean), and date. </para>
</listitem>
<listitem>
<para>Number type: In order to increase the robustness of data entry, DHIS2 supports several different number types. During data entry, users will be restricted to enter the defined number types only. Each of the available options are described below. </para>
<orderedlist>
<listitem>
<para>Number: This number type supports any real value with a single decimal point, an optional negative sign, and no thousands separators. </para>
</listitem>
<listitem>
<para>Integer: Any whole number (positive and negative), including zero.</para>
</listitem>
<listitem>
<para>Positive integer: Any whole number greater than (but not including) zero.</para>
</listitem>
<listitem>
<para>Negative integer: Any whole number less than (but not including) zero.</para>
</listitem>
</orderedlist>
</listitem>
<listitem>
<para>Aggregation operator: Defines the default aggregation operation that will be used on this data element. Most data elements should have the &quot;SUM&quot; option set. This includes all data elements which should be added together. Other data elements, such as staffing levels, should be set to use the &quot;AVERAGE&quot; operator, when values along the time dimension should not be added together, but rather averaged.</para>
</listitem>
<listitem>
<para>URL: A URL having an in-depth description of the data element can be entered in the ‘URL’ field. This could be for instance, a link to a metadata repository or registry that contains detailed technical information about the definition and measurement of the data element. </para>
</listitem>
<listitem>
<para>Combination of categories: Defines which category combination the data element should have. </para>
</listitem>
<listitem>
<para>Data element group sets: Click the check box to activate this option hen choose which data element group sets this data element should belong to. Available data element group sets are displayed din the upper window. Click the desired data element group set, then the <guibutton>&quot;Add selected&quot;</guibutton> button to add the data element to the group set. To remove a data element from a group set, click the data element group set in the lower list, and then click<guibutton> &quot;Remove selected&quot;</guibutton>. </para>
</listitem>
<listitem>
<para>Calculated: This option is available only when a data element is created.</para>
<note>
<para>As of version 2.3, calculated data elements have been deprecated. Calculated data elements should therefore be implemented as indicators instead.</para>
</note>
<para>Select the data elements that will be used to define the calculated data element, and then click &quot;Add selected&quot; to add them calculated data element composition list. Fill in the correct factor for the data element calculation component (defaults to 1). Component elements of the calculated data element can be removed from the definition by pressing the &quot;Remove&quot; button.</para>
</listitem>
<listitem>
<para>Aggregation levels: The Aggregation Levels option allows the data element to be aggregated at one or more levels. When the user clicks on the Aggregation levels option, a drop down menu appears which displays available aggregation levels. The desired aggregation level is then selected by clicking the ‘Add Selected’ button. By default, the aggregation will start at the lowest assigned organisation unit. If e.g. Chiefdom is selected below it means that Chiefdom, District, and National aggregates will use Chiefdom (the highest aggregation level available) as the data source, and PHU data will not be included. PHU data will still be available for the PHU level, but not included in aggregations to the levels above. If District and Chiefdom are both selected then the District and National level aggregates will use District data as their source, Chiefdom will use Chiefdom, and PHU will use PHU. Read more about aggregation levels in the Reporting chapter i the section on data sources for reporting.</para>
</listitem>
</itemizedlist>
<para>After making the required changes, click ‘Save’ to institute them. The ‘Cancel’ button aborts all changes made.</para>
</section>
<section>
<title>Data element translation</title>
<para>DHIS2 provides functionality to translate existing data elements into other languages. Simply press the translate button <inlinegraphic fileref="resources/images/dhis2_images/i18n.png" align="center"/> to get started. The following dialogue will appear. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_translate.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The reference language is displayed in the upper right portion of the dialogue. Choose a locale to translate the data element into by selecting an option from the locale drop-down menu. Specify the name, short-name and description in the target language. Press &quot;Save&quot; to save your changes. </para>
<para>The &quot;Details&quot; section of this dialogue will allow you add a new locale if it is not already present in the database. There are two options:</para>
<itemizedlist>
<listitem>
<para>Language code</para>
<para>Refers to the ISO 639-1 (two-letter code) language code. Refer to this <ulink url="http://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">web page</ulink> for a detailed listing of language codes. </para>
</listitem>
<listitem>
<para>Country code</para>
<para>Refers to the ISO 3166-1-alpha-2 code. A complete listing is available <ulink url="http://www.iso.org/iso/country_codes/iso_3166_code_lists/english_country_names_and_code_elements.htm">here</ulink>. </para>
</listitem>
</itemizedlist>
<para>The combination of these two codes together, forms a &quot;locale&quot; code, which is composed of the combination of the location and language. A very comprehensive discussion of the technical standard (RFC 3066) is available <ulink url="http://www.ietf.org/rfc/rfc3066.txt">here</ulink>. This <ulink url="http://www.i18nguy.com/unicode/language-identifiers.html">page</ulink> provides a very comprehensive list of recognised locale codes. </para>
</section>
<section>
<title>Deleting a data element</title>
<para>Simply press the delete button <inlinegraphic fileref="resources/images/dhis2_images/delete.png" align="center"/> to delete a data element. Note that this operation is only possible if there is no data attached to the data element itself. The user will be prompted to ensure that the data element should be deleted.</para>
</section>
<section>
<title>Displaying data element details</title>
<para>This operation displays an in-line panel in the browser which displays all metadata about a given data element. Press the information button <inlinegraphic fileref="resources/images/dhis2_images/information.png" align="center"/>to access this view. </para>
</section>
</section>
<section id="dataElementGroup">
<title>Data element groups</title>
<para>Data element groups provide a mechanism for classifying related data elements into a common theme. For instance, two data elements &quot;Measles immunisation&quot; and &quot;BCG Immunisation&quot; might be grouped together into a data element group &quot;Childhood immunisation&quot;. To access the data element group maintenance page, click Maintenance -&gt; Data elements and Indicators -&gt; Data Element Group.</para>
<para>Similar to the &quot;Data element&quot; maintenance page, data elements groups can be searched with by entering a search string in the &quot;Filter by name&quot; field. </para>
<para>To add a new data element group, click the <guibutton>&quot;Add new&quot;</guibutton> button and the following screen will be displayed:</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_group_add.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Fill in the &quot;Name&quot; field and then select all data elements that should belong to the group from the left panel. Click the &quot;Move selected&quot; <inlinegraphic fileref="resources/images/dhis2_images/move_right.png" align="center"/>button to add the selected data elements to the data element group. Click the &quot;Remove selected&quot; button to remove all data elements from the group that have been selected in the right panel. Finally, click the &quot;Add&quot; button to save changes, or the &quot;Cancel&quot; button to discard any changes. </para>
</section>
<section id="dataElementGroupEditor">
<title>Data element group editor</title>
<para>The data element group editor provides advanced functionality to the administrator to allow multiple data elements to be added or removed from a group. It is also possible to create new data element groups, rename existing groups, and delete groups entirely. To access the data element group editor, go to <guimenu>&quot;Maintenance -&gt; Data elements and Indicators -&gt; Data Element Group Editor&quot;</guimenu>. The following screen will appear.<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_group_editor_start.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot></para>
<para>Data element groups area listed alphabetically in the leftmost panel. By clicking on a data element group, the current members of that group (data elements) are listed in the centre panel. Available data elements that can be added to the data element group appear are listed alphabetically in the rightmost panel. To remove an existing data element from the group, click the name of the data element in the centre panel, and then press the &quot;Move right&quot; <inlinegraphic fileref="resources/images/dhis2_images/move_right.png" align="center"/> button. To add data elements to the group, select them from the leftmost panel, and click the &quot;Move left&quot; <inlinegraphic fileref="resources/images/dhis2_images/move_left.png" align="center"/> button. Press the <guibutton>&quot;Update data element group member&quot;</guibutton> button to save your changes.</para>
</section>
<section id="dataElementGroupSet">
<title>Data element group sets</title>
<para>Data element group sets allow multiple data element groups to be categorised into a set. Data element group sets are used during analysis and reporting to combine similar data element groups into a common theme. To access the data element group set maintenance module, choose &quot;Maintenance -&gt; Data elements and Indicators -&gt; Data Element Group Set&quot;. Similar to the other data element maintenance modules, new data element group sets can be added by pressing the &quot;Add new button&quot;. Other operations include Edit, Translate, Delete and Information, similar to the other modules in this section.</para>
<para>Existing data element group set members can be edited by clicking the &quot;Edit&quot; button <inlinegraphic fileref="resources/images/dhis2_images/edit.png" align="center"/> of the desired data element group set as seen below.</para>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_group_set.png" format="PNG"/>
</imageobject>
</mediaobject>
<para>Available data element groups are displayed in the left panel. They can be moved into the selected data element group set by pressing the &quot;Move right&quot; <inlinegraphic fileref="resources/images/dhis2_images/move_right.png" align="center"/> button. Data element groups that are currently members of the data element group set are displayed in the right hand panel. They can be removed from the data element group set by clicking the desired data element group and pressing the &quot;Move left&quot;<inlinegraphic fileref="resources/images/dhis2_images/move_left.png" align="center"/> button. The ordering of the data element groups can be set with the &quot;Move Up&quot; <inlinegraphic fileref="resources/images/dhis2_images/move_up.png" align="center"/> and &quot;Move Down&quot; <inlinegraphic fileref="resources/images/dhis2_images/move_down.png" align="center"/>arrows. This ordering will be used in the datamart and reports to order the data element groups. Press the <guibutton>&quot;Update&quot;</guibutton> button to save any changes and the <guibutton>&quot;Cancel&quot;</guibutton> button to discard all changes. </para>
</section>
<section id="dataElementCategory">
<title>Data element categories</title>
<para>Data element categories can be used to disaggregate data elements into individual atomic components. Data element categories are typically a concept, such as Gender, Age or Disease Status. Data elements such as &quot;Number of cases of confirmed malaria&quot; are often broken into smaller component parts to determine, for instance, the number of confirmed malaria cases of particular age groups. As an example, three data element categories: Under 1, 1-5 and Over 5 could be created. They could be assigned as categories to the data element, which would then create in the data entry screens, three separate fields for this data element namely: </para>
<itemizedlist>
<listitem>
<para>Number of confirmed malaria cases (Under 1)</para>
</listitem>
<listitem>
<para>Number of confirmed malaria cases (1-5)</para>
</listitem>
<listitem>
<para>Number of confirmed malaria cases (Over 5)</para>
</listitem>
</itemizedlist>
<para>Effective use of data element categories greatly simplifies the process of setting up the DHIS2 system, as the data element categories can be reused to disaggregate many different data elements. Otherwise, each of the data elements listed above, would need to be created separately. Judicious use of data element categories will greatly simplify the DHIS2 implementation, and allow for subsequent advanced analysis. </para>
<para>Data element categories are composed of category options. Category options must be defined when a data element category is created for the first time. Subsequent changes to the data element category, i.e. adding or deleting new category options, are not allowed once the data element category has been created. </para>
<para>It is critical that the proper categories and category options are defined in the initial definition step, as further changes to the category and its options will are not possible. </para>
<para>To access the data element category maintenance module, press &quot;Maintenance -&gt; Data Elements and Indicators-&gt;Data Element Category&quot;. The following screen will be displayed:</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_categories_start.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Similar to the other data element maintains modules, data element categories can be filtered by typing the name of the data element category (or a portion of it) into the &quot;Filter by name&quot; field. To add a new data element category, press the &quot;Add new&quot; button which will then display the following screen:</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_categories_add_new.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Type the name of the new data element category in the &quot;Name&quot; field in the &quot;Details&quot; region. Category options can be added by typing the name of the category option in the &quot;Category option&quot; region and pressing the <guibutton>&quot;Add category option&quot;</guibutton> button. Category options can be reordered using the &quot;Move Up&quot;<inlinegraphic fileref="resources/images/dhis2_images/move_up.png" align="center"/> and &quot;Move Down&quot;<inlinegraphic fileref="resources/images/dhis2_images/move_down.png" align="center"/> buttons. Categories options can be deleted by selecting the data element category option and pressing the &quot;Delete&quot;<inlinegraphic fileref="resources/images/dhis2_images/delete.png" align="center"/> button. Once all data element categories options have been added to the data element category, press the <guibutton>&quot;Add&quot;</guibutton> button to save all changes or the <guibutton>&quot;Cancel&quot;</guibutton> button to discard any changes.</para>
<para>All data element category options must be added and defined properly in this step. Subsequent alterations to the data element category (other than reordering of the category options themselves) is not possible. </para>
</section>
<section id="dataElementCategoryCombo">
<title>Data element category combinations</title>
<para>Data element category combinations allow multiple data element categories to be combined into a related set. As an example, a data element &quot;Number of new HIV infections&quot; might be disaggregated according to the following categories. </para>
<itemizedlist>
<listitem>
<para>Age: &quot;Under 5&quot;, &quot;5-15&quot;, &quot;15-24&quot;, &quot;24 and above&quot;</para>
</listitem>
<listitem>
<para>Gender: Male, Female</para>
</listitem>
</itemizedlist>
<para> In this example, there would be two levels of disaggregation, consisting of two separate data element categories, each consisting of several data element category options. In most HMIS systems, different data elements are disaggregated according to a common set of categories. By combining these different categories into a data element category combination and assigning these combinations to data elements, the appropriate disaggregation levels can be applied efficiently and quickly to a large number of data elements. </para>
<para>To access the data element category combination maintenance module, select &quot;Maintenance-&gt;Data element and indicators-&gt;Data element category combinations&quot; from the main DHIS2 menu. As with the other maintains modules, you can filter the listed category combinations by entering the name (or portion thereof) of the category combination. Other operations such as &quot;Edit&quot;, &quot;Delete&quot; and &quot;Information&quot; should be familiar to the reader. </para>
<para>To add a new category combination, click the &quot;Add new&quot; button. The following dialogue will be displayed. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_element_category_combo_add_new.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Type the name of the category combination in the &quot;Name&quot; field, and then select the desired categories from the left panel. Press the &quot;Move right&quot; button to add the selected categories to the category combination. Press &quot;Move left&quot; to remove any categories that should not be part of the category combination. </para>
<para>Categories can only be added to a category combination at this step. Categories can be removed from category combinations later by editing the category combination, however, it is not allowed to add additional categories once the combination has been created. Ensure that the category combination and its respective categories is final before you create the category combination and assign it to a data element. </para>
</section>
<section id="dataDictionary">
<title>Data dictionaries</title>
<para>Data dictionaries are used to group data elements and indicators during filtering operations. They are useful for combining related groups of data elements and indicators according to the programs to which they belong. For instance a data dictionary called &quot;MCH&quot; could be created, and all maternal and child health data elements and indicators could be added to the dictionary. The data dictionary can be access by choosing Maintenance-&gt;Data elements and indicators-&gt;Data dictionary. The following screen will be displayed in the browser. </para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/maintainence/data_dictionary.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Provide a name for the data dictionary in the &quot;Name&quot; field and a description of its contents. Data elements and indicators can be added or removed from the dictionary. Click &quot;Save&quot; if you are creating a new data dictionary or &quot;Add&quot; if you are editing the contents of an existing data dictionary. </para>
</section>
<section id="translation">
<title>Translations</title>
<para>DHIS 2 provides functionality for translations of database content like data elements, data element groups, indicators, indicator groups, validation rules and more. These elements can be translated to any number of locales. A locale represents a specific geographical, political, or cultural region. </para>
<para>To add a translation click the Translate icon next to the element you would like to translate. Start by selecting the desired locale from the Locale select box. In the Translate screen, select your locale and enter values for the avaliable element properties. The reference property values are shown on the right. These values are the values which have been entered in the regular add or update user interface for the current object.</para>
<para>Translations can be enabled by selecting the desired locale under Database Language under User General Settings in the Settings module.</para>
</section>
</section>
</chapter>
<chapter>
  <title>Tracker</title>
  <section>
    <title>Introduction</title>
    <section>
      <title>Background</title>
      <para>Conventionally, public health systems have been recording and reporting aggregate data
        of the services provided across various health programmes. This is crucial in monitoring
          &quot;<emphasis role="italic">reach</emphasis>&quot; and &quot;<emphasis role="italic">availability</emphasis>&quot; of public health services, but it lacks the ability of
        tracing the persons being provided with these services and quality of these ones. </para>
      <para>For example, the aggregate report will show that 300 pregnant women registered  for ANC and 120 women given IFA tablets or 90 women given TT injection. In an aggregate system, it is not possible to ascertain that if a particular pregnant woman registered for ANC, has also been given IFA and TT, as data only shows aggregate numbers. To understand the quality of services given to each pregnant woman registered for ANC, immunization cycle of each child or treatment of each leprosy person, etc. it is important that treatment information of each person is maintained as an individual case.</para>
      <para>The DHIS tracker module ( also known as  DHIS Community Module  ) is an integrated module in DHIS2, built to support community health systems and facilitate a smooth integration between the community health data and aggregated data management.</para>
      <para>The module supports management of community health programs, such as child immunization, maternal health and e.g. allows tracking of individuals enrolled in various programs and activity planning for community health workers.</para>
      <para>The following are the major things:</para>
      <orderedlist>
        <listitem>
          <para>Administrating meta data -  includes person attributes, person attribute groups, identifier types; relationship types, person registration form, health programs,  program stages corresponding to the program, validations and formulas  for aggregating data value from individual cases.</para>
        </listitem>
        <listitem>
          <para>Administrating person registration - registering a new person, setting relationships,  enrolling a person into a program and management of person location</para>
        </listitem>
        <listitem>
          <para>Data entry for inputting individual data for treatment  of each person.</para>
        </listitem>
        <listitem>
          <para>Reports for individual cases.</para>
        </listitem>
        <listitem>
          <para>Linking data between tracker system and aggregate management system.</para>
        </listitem>
        <listitem>
          <para>Provide a list of upcoming visits to better plan for daily/weekly/monthly activities at a facility or in an area. </para>
        </listitem>
        <listitem>
          <para>Support the work practices around tracking persons within a health program.</para>
        </listitem>
      </orderedlist>
      <para><emphasis role="bold">Advantages of tracker module</emphasis></para>
      <orderedlist>
        <listitem>
          <para>Facilitate the health service provider  in person&apos;s treatment follow-up by recording all treatment related information in one place and in effective monitoring of different health services and drill down to individual person information.</para>
        </listitem>
        <listitem>
          <para>Facilitate the health service provider at a facility or in an area a list of upcoming visits to better plan for daily/weekly activities. </para>
        </listitem>
        <listitem>
          <para>Help the person in recording treatment history in one place, which could be used later in case of referral.</para>
        </listitem>
        <listitem>
          <para>Facilitate in recording entire treatment information of each person.</para>
        </listitem>
        <listitem>
          <para>Help strengthen the quality and fidelity of data.</para>
        </listitem>
      </orderedlist>
      <para>The data in primary registers at sub-center level is recorded and maintained by individual data or treatment cases, and sent up-wards as aggregate reports.</para>
    </section>
    <section>
      <title>Getting started with tracker</title>
      <para>The module supports health providers for registering treatment cases and tracks these cases over time through different forms that are filled for the treatment of each person.</para>
      <para>The process  starts with the person registration. Then she/he can be enrolled in the program for which registered. The application will guide the health provider  the services required for her/him through activity plan and the services  from time to time can be updated into his/her profile.  The working process is described in steps depicted in picture below - </para>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata width="70%" fileref="resources/images/patients_programs/name_based_information_tracking_process.png" format="PNG"/>
          </imageobject>
        </mediaobject>
      </screenshot>
      <note>
        <para>For programs without registration (e.g. In-Patient Morbidity and Mortality program), users only need to input treatment case and then export reports.</para>
      </note>
      <section>
        <title>Person registration</title>
        <para>The process of  creating a new person in the system is through the registration process. The person is first registered in the system (or checked if the person already exists in system). Searching a person can be done through name, identifiers,  location or user-defined person&apos;s attributes (address, child contact name, e.g.). If the person already exists in the system, the program enrollment process can continue. If the person is not available,  new registration takes place. </para>
        <para>The system supports for creating identifier type for the registration, such as Passport number, PAN, driving license, health identifier, UID. However, a system unique identifier is created automatically after registration and used to track the person.</para>
        <para>For identification a person, the health worker is first identified through any of the identifiers or name of patient  in the system and the person is identified through identifiers for receiving a health service. After identification, the individual case history can be viewed or a treatment case can be updated for  the new visit that they have received.</para>
      </section>
      <section>
        <title>Program enrollment</title>
        <para>When a person is enrolled into any health programme, he/she is being provided with an
          identifier number (e.g PARA, parish) and declared some attributes which belong to the
          program. Later, the person is provided with various services through the treatment which
          are being recorded. Based on the services of the program by the time, the system creates
          an activity plan for the person.</para>
      </section>
      <section>
        <title>Treatment case</title>
        <para>Each interaction with the person related to the case is considered to be an treatment case and these cases are recorded into the individual case. Individual case is updated with the identification of both the health worker and the person who is receiving the service.</para>
      </section>
      <section>
        <title>Reports</title>
        <para>The module provides two functions for viewing the  reports to get an overview of the services provided for a program or a program stage.</para>
      </section>
    </section>
  </section>
  <section>
    <title>User guide</title>
    <para>There are two additions in the module in both maintenance and services module - </para>
    <orderedlist>
      <listitem>
        <para><emphasis role="italic">Persons and Programs maintenance module </emphasis>- Definition  meta data, include person attributes, person attribute groups, identifier types, relationships, program and program-stages, validation for program and formula to generate aggregate data value.</para>
        <para>When the ‘<emphasis role="italic">Persons and Programs</emphasis>’ options is chosen from the main <emphasis role="italic">Maintenance</emphasis> menu, the following screen appears -</para>
        <screenshot>
          <mediaobject>
            <imageobject>
              <imagedata width="70%" fileref="resources/images/patients_programs/persons_and_programs_main_page.png" format="PNG"/>
            </imageobject>
          </mediaobject>
        </screenshot>
      </listitem>
      <listitem>
        <para><emphasis role="italic">Individual records module</emphasis> - Support main functions for person registration, tracking information and individual reports.</para>
        <para>When the ‘<emphasis role="italic">Individual Records</emphasis>’ options is chosen from the main <emphasis role="italic">Services</emphasis> menu, the following screen appears -</para>
        <screenshot>
          <mediaobject>
            <imageobject>
              <imagedata width="70%" fileref="resources/images/patients_programs/individual_records_main_page.png" format="PNG"/>
            </imageobject>
          </mediaobject>
        </screenshot>
      </listitem>
    </orderedlist>
    <section>
      <title>Persons and Programs maintenance</title>
      <para>The content in this part is for the expert users or administrative users who are capable and responsible for development and change.</para>
      <para>Each of the options for the maintenance will be described in the following section. The options for the maintenance will be described in the following section - </para>
      <itemizedlist>
        <listitem>
          <para>Person Attribute</para>
          <para>Create, modify and view Person attributes. An attribute can be used to register extra information for a Person.</para>
        </listitem>
        <listitem>
          <para>Person Attribute Group</para>
          <para>Create, modify and view Person attribute groups. Groups makes it more convenient to add attributes to a Person.</para>
        </listitem>
        <listitem>
          <para>Person Identifier Type</para>
          <para>Create, modify and view Person identifier types. Any type and multiple identifiers can be registered.</para>
        </listitem>
        <listitem>
          <para>Relationship Type</para>
          <para>Create, modify and view relationship types. A relationship is typically wife and husband or mother and child.</para>
        </listitem>
        <listitem>
          <para>Person Registration Form</para>
          <para>Define custom person registration form.</para>
        </listitem>
        <listitem>
          <para>Program</para>
          <para>Create, modify and view programs. A program has program stages and defines which actions should be taken at each stage.</para>
        </listitem>
        <listitem>
          <para>Person Aggregation Query Builder</para>
          <para>Define formulas, expressions, rules for aggregation data from tracker to aggregation module</para>
        </listitem>
        <listitem>
          <para>Validation Criteria</para>
          <para>Create, modify and view validation criteria. A criteria is used for validation of Person data. </para>
        </listitem>
        <listitem>
          <para>Schedule Message </para>
          <para>Configure message reminders to be automatically sent to enrolled persons XX days before scheduled appointments and/or XX days after a missed visit.</para>
        </listitem>
        <listitem>
          <para>Schedule Automated Aggregation</para>
          <para>Schedule an automated person aggregation process, e.g. to run all pre-defined aggregation queries every midnight. </para>
        </listitem>
      </itemizedlist>
      <section id="patient_attribute">
        <title>Person attribute</title>
        <para>Create, modify and view person attributes. An attribute can be used to register extra private information for a person or information when that person enrolled into a certain program.</para>
        <para>From <emphasis role="italic">Maintenance</emphasis> menu, go to <emphasis role="italic">Persons and Programs</emphasis> option and click on it. Select <emphasis role="italic">Person Attribute</emphasis> option to create a new attribute for persons. </para>
        <para>After, click on <emphasis role="italic">Add</emphasis> button into <emphasis role="italic">Person Attribute Management</emphasis> window to go to <emphasis role="italic">Add New Person Attribute Management</emphasis> window.</para>
        <para>Basic information</para>
        <itemizedlist>
          <listitem>
            <para><emphasis role="italic">Name</emphasis> - Name of person attribute.</para>
          </listitem>
          <listitem>
            <para><emphasis role="italic">Description</emphasis> - Description of person attribute.</para>
          </listitem>
          <listitem>
            <para><emphasis role="italic">Mandatory</emphasis> - Entering value for this attribute is required or not.</para>
          </listitem>
          <listitem>
            <para><emphasis role="italic">Inherit</emphasis> - When to registry a new person for relationship with an available person, all inherit person attribute values of the person will be pre-filled in the registration form.
 </para>
          </listitem>
          <listitem>
            <para><emphasis role="italic">Value Type</emphasis> - Data type of value inputed. In addition to supporting basic data such as <emphasis role="italic">Number</emphasis>, <emphasis role="italic">Text</emphasis>, <emphasis role="italic">Yes/No</emphasis>, <emphasis role="italic">Date</emphasis>, the system supports a value type as <emphasis role="italic">Predefined value</emphasis> for defining attribute values. Users only can select on value in the defined list for each person registered. E.g code values which record the information on access to HIV prevention services can be pre-defined, include <emphasis role="italic">T</emphasis>, <emphasis role="italic">TR</emphasis>, <emphasis role="italic">TRR</emphasis>, <emphasis role="italic">TRRD</emphasis>, <emphasis role="italic">TRRDm</emphasis>, <emphasis role="italic">TRRDmDb</emphasis> as <emphasis role="italic">PMTCT Code</emphasis> attribute.</para>
            <para>The system also supports a value type as <emphasis role="italic">Calculated</emphasis> for calculating a number based on other attribute values, e,g. caculate gestational age, EDD, ... in Mother care program.</para>
          </listitem>
        </itemizedlist>
      </section>
      <section id="patient_attribute_group">
        <title>Person attribute group</title>
        <para>To access the person attribute group maintenance module, from <emphasis role="italic">Maintenance</emphasis> menu, go to <emphasis role="italic">Persons and Programs</emphasis> option and click on it and select <emphasis role="italic">Person Attribute Group</emphasis> option.</para>
        <para>To create a new attribute group, click the <emphasis role="italic">Add</emphasis> button into <emphasis role="italic">Person Attribute Group</emphasis> window to go to <emphasis role="italic">Add New Person Attribute Group</emphasis> window , click the <emphasis role="italic">Add new</emphasis> button. Fill in the <emphasis role="italic">Name</emphasis> and <emphasis role="italic">Description</emphasis> fields and then select attributes that should belong to the group from the left panel. </para>
        <para>Click the <emphasis role="italic">Move selected items</emphasis> button to add the selected attributes to the attribute group. Click the <emphasis role="italic">Remove selected items</emphasis> button to remove attributes from the group that have been selected in the right panel. </para>
        <para>Finally, click the <emphasis role="italic">Add</emphasis> button to save changes, or the <emphasis role="italic">Cancel</emphasis> button to discard any changes.The created attribute members will be displayed by the attribute groups into person registration form.</para>
        <para>To sort order of attribute groups for displaying  in person registration form, click <emphasis role="italic">Move up</emphasis> and <emphasis role="italic">Move down </emphasis>button next to <emphasis role="italic">Selected attributes</emphasis> section.</para>
      </section>
      <section id="patient_identifier_type">
        <title>Person identifier type</title>
        <para>To access the person identifier type maintenance module, from <emphasis role="italic">Maintenance</emphasis> menu, go to <emphasis role="italic">Persons and Programs</emphasis> option and click on it. Select <emphasis role="italic">Person Identifier Type</emphasis> option to create a new identifier type.</para>
        <para>To creating a new identifier type, click the <emphasis role="italic">Add</emphasis> button into <emphasis role="italic">Person Identifier Type Management </emphasis>window to go to <emphasis role="italic">Add New Person Identifier Type</emphasis> window.</para>
        <para>Basic information -</para>
        <itemizedlist>
          <listitem>
            <para><emphasis role="italic">Name</emphasis> - Name of identifier type.</para>
          </listitem>
          <listitem>
            <para><emphasis role="italic">Description</emphasis> - Description of identifier type.</para>
          </listitem>
          <listitem>
            <para><emphasis role="italic">Mandatory</emphasis> - Entering value for the identifier is required or not.</para>
          </listitem>
          <listitem>
            <para><emphasis role="italic">Related</emphasis> - Representative re-uses the  identifier of  person.</para>
          </listitem>
          <listitem>
            <para><emphasis role="italic">Number of characters</emphasis> -  Maximum number of characters for value inputed. </para>
          </listitem>
          <listitem>
            <para><emphasis role="italic">Type</emphasis> - Data type of value inputted, includes <emphasis role="italic">Text</emphasis>, <emphasis role="italic">Number</emphasis> and <emphasis role="italic">Letter Only</emphasis>.</para>
          </listitem>
        </itemizedlist>
      </section>
      <section id="relationship_type">
        <title>Relationship type</title>
        <para>Relationship type section provides a mechanism for defining  relationship types and link persons through these relationship types by creating specific relationships.</para>
        <para>To access the relationship type maintenance module, from <emphasis role="italic">Maintenance</emphasis> menu, go to <emphasis role="italic">Persons and Programs</emphasis> option and click on it and select <emphasis role="italic">Relationship Type</emphasis> option.</para>
        <para>To define a new relationship type, click <emphasis role="italic">Add</emphasis> button into <emphasis role="italic">Relationship Type Management </emphasis>window to go to <emphasis role="italic">Add new Relationship Type</emphasis> window.</para>
      </section>
      <section id="person_registration_form">
        <title>Person registration form</title>
        <para>Person registration form section provides a mechanism for defining custom registration form for each available program in system or for normal registration form.</para>
        <para>To access the person registration form maintenance module, from <emphasis role="italic">Maintenance</emphasis> menu, go to <emphasis role="italic">Persons and Programs</emphasis> option and click on it and select <emphasis role="italic">Person Registration Form</emphasis> option.</para>
        <para>To define a custom program registration form, please select a program in list and click <emphasis role="italic">Add</emphasis> button.</para>
        <para>To define a normal  registration form, please don&apos;t select any program in list and click <emphasis role="italic">Add</emphasis> button.</para>
      </section>
      <section id="program">
        <title>Program and Program stage</title>
        <para>The section provides a mechanism for defining health programmes and action for each stage  of the programme. </para>
        <section>
          <title>Program</title>
          <para>To access the program maintenance module, from <emphasis role="italic">Maintenance</emphasis> menu, go to <emphasis role="italic">Persons and Programs</emphasis> option and click on it. Select <emphasis role="italic">Program</emphasis> option.</para>
          <para>To define a new program, click the <emphasis role="italic">Add new</emphasis> button on the main page. Fill all fields with read asterisk, and then click the <emphasis role="italic">Add</emphasis> button.</para>
          <para>Basic information -</para>
          <para><emphasis role="italic">Program details<emphasis role="italic"> section</emphasis></emphasis> - </para>
          <itemizedlist>
            <listitem>
              <para><emphasis role="italic">Name</emphasis> - The name of the program</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Description</emphasis> - Descriptions, meanings, explanation, etc. of/about the program.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Type</emphasis> - There are three types of program: multi events with registration, single event with registration and single event without registration.</para>
            </listitem>
          </itemizedlist>
          <para><emphasis role="italic">Form details </emphasis>section - </para>
          <itemizedlist>
            <listitem>
              <para><emphasis role="italic">Show provided elsewhere</emphasis> - Set show/hide provided elsewhere column in data entry form.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Block entry form after completed</emphasis> - Check on it for blocking entry form after completed. The data values in the entry form cannot be changed until the status of the event is reset as incomplete.</para>
            </listitem>
          </itemizedlist>
          <para><emphasis role="italic">Enrollment details</emphasis> section - </para>
          <itemizedlist>
            <listitem>
              <para><emphasis role="italic">Generate events by enrollment date</emphasis> - Check on it for auto-generating due dates of events from program-stages of this program    based on the enrollment date. If it is not checked, the due dates are generated based on incident date.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Ignore to generate overdue events</emphasis> - When a person enrolls into the program, the  events corresponding to the program-stages are created. If this field is checked, the system will ignore to generate overdue events. </para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Only enroll one </emphasis>- Check on it if a person only can enroll the program one time. For example, Child Vaccination Program, Post-mortem examination, PSI&apos;s IPC process. This will avoid a person enrolling more than one into a program when it doesn&apos;t make sense.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Show incident date</emphasis> - Set show/hide incident date field when a person enroll in this program.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Description of incident date</emphasis> - The date when the person got the disease or he/she has just been committed to an equivalent program for being followed-up. E.g. In the Immunization program for child under 1yr old, the incident date is the birthday; in the maternal program, the incident date is the date of last menstrual period (LMP).</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Description of enrollment date</emphasis> - The date in which a person is registered to the system.
For example: the date in which a person enrolls to the system.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Identifiers / attributes <emphasis role="italic">section</emphasis></emphasis> - Select identifier-types and person attributes which belong to the program. Check  <emphasis role="italic">Displayed in list</emphasis> checkboxes of identifier types to display its value in person list instead of person&apos;s full-name.</para>
            </listitem>
          </itemizedlist>
          <para>To assign a program for organisation units, click<emphasis role="italic"> Assign program to organisation units</emphasis> icon, the first icon under Operations, corresponding to the program you would like and select organisation units where provide the program.</para>
          <para>To assign a program for user roles, click <emphasis role="italic">Assign program to userroles</emphasis> icon, the second icon under Operations, corresponding to the program you would like. Please select user role which you want in <emphasis role="italic">Available</emphasis> section and click <emphasis role="italic">Move selected items</emphasis> button or double click on the user role to move to <emphasis role="italic">Selected</emphasis> section. Finally, click <emphasis role="italic">Ok</emphasis> to finish.</para>
          <para>To create validation rules for programs, click <emphasis role="italic">Program validation rule management</emphasis> icon, the fifth icon under Operations, corresponding to the program you would like. Then click <emphasis role="italic">Add</emphasis> button and enter values for the fields in form to create a new one. A validation rule is based on an expression which defines a relationship between data element values. The expression has a left side and a right side and an operator  which defines whether the former must be less than, equal to or greater than the latter. The expression forms a condition which should assert that certain logical criteria are met. For instance, a validation rule could  assert that an  admitted date  given is before the discharged date. </para>
          <para>To set authority for sharing the program, click Sharing Settings icon, the sixth icon under Operations, corresponding to the program you would like. You can see a default authority and <emphasis role="italic">Public Access</emphasis> in the form with three authorities as follows -</para>
          <itemizedlist>
            <listitem>
              <para><emphasis role="italic">None</emphasis> - The program is private one. Just the user who created it can see and use it.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Read Only </emphasis>- The user who are not owner of this program only can see it, not edit and delete it. </para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Read and Write</emphasis> - All users can edit and delete it.</para>
            </listitem>
          </itemizedlist>
          <para>Besides, you can search user groups by typing a key in text field to set authorities. The result will loaded and you can select the group you want. Then click (+) button and the selected one will be displayed in below.</para>
          <para>To translate the name of a program, click <emphasis role="italic">Translation</emphasis> icon, the seventh icon under Operations, corresponding to the program you would like.</para>
        </section>
        <section>
          <title>Program stage</title>
          <para>To define a program stage, click the <emphasis role="italic">Program Stage Management</emphasis> icon, the seventh icon under Operations, corresponding to the program you would like  and then <emphasis role="italic">Add new</emphasis> button. Fill in the <emphasis role="italic">Name</emphasis> and <emphasis role="italic">Description</emphasis> fields and then select the data elements that should belong to the group from the left panel. Click the <emphasis role="italic">Move</emphasis> selected button to add the selected data elements to the right panel. Click the Remove selected button to remove data elements that have been selected in the right panel. Finally, click the <emphasis role="italic">Add</emphasis> button to save changes, or the <emphasis role="italic">Cancel</emphasis> button to discard any changes.</para>
          <para>Basic information -</para>
          <para><emphasis role="italic">Program stage details</emphasis> section - </para>
          <itemizedlist>
            <listitem>
              <para><emphasis role="italic">Name</emphasis> - Name of the program stage</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Description</emphasis> - The description of the program stage</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Scheduled days from start</emphasis> - The minimum number of days to wait for starting the program stage.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Auto-generate event</emphasis> - Un-check this to prevent for creating an event of this program stage  automatically when a person enroll into the program.</para>
            </listitem>
          </itemizedlist>
          <para><emphasis role="italic">Repeatable program stage details</emphasis> section - </para>
          <itemizedlist>
            <listitem>
              <para><emphasis role="italic">Repeatable</emphasis> - specify the program stage as repeatable or not.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Display generate event box after completed</emphasis> - Un-check on it if you don&apos;t want to display <emphasis role="italic">Create new event box </emphasis>to create new event for a repeatable stage after clicking <emphasis role="italic">Complete</emphasis> button for an event of the stage  in data entry form. This field is checked as default.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Standard interval days</emphasis> - Specify the number of days to repeat the repeatable program stage.</para>
            </listitem>
          </itemizedlist>
          <para><emphasis role="italic">Form details</emphasis> section - </para>
          <itemizedlist>
            <listitem>
              <para><emphasis role="italic">Capture coordinates</emphasis> - Many types of events may be recorded at a facility or be <emphasis role="italic">owned-by</emphasis> a health worker at a facility, but actually take place somewhere in the community. This field is checked to get coordinates of the place.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Complete allowed only if validation passes</emphasis> - The event created by this program stage is completed if all validation rules are passed.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Description of report date</emphasis> - The description for report date which is displayed in case entry form.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Data elements <emphasis role="italic">section</emphasis></emphasis> - Select person data elements which belong to the program stage. We have three options for each selected data element. The first one is <emphasis role="italic">Compulsory</emphasis> option. Please check  it if the data value of the selected one is compulsory. The second one is <emphasis role="italic">Allow provided elsewhere</emphasis> option, please check it if the data value of this one can be provided by other facilities. The last one is<emphasis role="italic"> Display in reports</emphasis> option. Please check it of you want to display the data value of this one in event list of single event without registration into data entry form.</para>
            </listitem>
          </itemizedlist>
          <para><emphasis role="italic">Template reminder message<emphasis role="italic"> section</emphasis></emphasis> - Define  template reminder messages which are used for sending messages for person automatically. There are two params -</para>
          <para><emphasis role="italic">1) Days before/after due date</emphasis> -  Enter a positive number of days if  sending process happens after due-date of events which are generated from this program stage. Enter a negative number of days if  sending process happens before due-date of events.</para>
          <para><emphasis role="italic">2) Parameters</emphasis> - Provide parameters  which are used for generating a message for each person. The parameters include person&apos;s first name, program&apos;s name, program stage&apos;s name, due date of event, interval between current date and due date and organisation unit&apos;s name. </para>
          <para>Double-click on an option to insert it into template message field below.</para>
          <para><emphasis role="italic">3) Message</emphasis> - Content of template message. E.g Dear {patient-name}, please come to your appointment at {due-date}.</para>
          <note>
            <para>Click <emphasis role="italic">Add more... </emphasis>button to add more template reminder messages.</para>
          </note>
          <para>A program stage has  three types of  data entry form - </para>
          <orderedlist>
            <listitem>
              <para><emphasis role="italic">Custom data entry form</emphasis> - Define a data entry form as HTML page. Click<emphasis role="italic"> Design data entry form <emphasis role="italic">icon, the fifth icon</emphasis></emphasis> under <emphasis role="italic">Operations</emphasis>, corresponding to the program stage you would like to define custom data entry form. The system supports to define a custom entry form with multi stages. So this form can be re-used in other stages of the same program.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Section data entry form</emphasis> - Group some data elements which belong to the program stage as sections and display data elements by each section. Click <emphasis role="italic">Section management</emphasis> icon, the <emphasis role="italic">
                  <emphasis role="italic">forth icon</emphasis>
                </emphasis> under <emphasis role="italic">Operations</emphasis>, corresponding to the program stage you would like to define section data entry form.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Default data entry form</emphasis> - List all data elements which belong to the program stage.</para>
            </listitem>
          </orderedlist>
          <para>To sort program stages by scheduled days, click <emphasis role="italic">Sort by scheduled</emphasis> days button.</para>
        </section>
      </section>
      <section id="patient_aggregation_query_builder">
        <title>Aggregation query builder</title>
        <para>This is the core functionality for linking data between tracker module and aggregate management module by defining the linking/aggregating rules. The purpose  is to produce aggregated data / statistics based on the low-level case based data. It is based around flexible aggregation query definitions which maps the data elements used for case based data management to data elements used for aggregate data.</para>
        <para>This provides two functions - </para>
        <itemizedlist>
          <listitem>
            <para><emphasis role="italic">Aggregation query builder management</emphasis> is a tool for defining formulas, expressions, rules for aggregation data from tracker to aggregation module. </para>
          </listitem>
          <listitem>
            <para><emphasis role="italic">Manual person aggregation</emphasis> is used for generating routine data values from individual data by period and organization unit. Please refer the <emphasis role="italic">Service</emphasis> module to see this part.</para>
          </listitem>
        </itemizedlist>
        <section>
          <title>Person Aggregation Query Builder Management</title>
          <para>To access <emphasis role="italic">Aggregation Query Builder</emphasis> module, from the <emphasis role="italic">Maintenance</emphasis> menu, go to the <emphasis role="italic">Persons and Programs</emphasis> option. Select <emphasis role="italic">Aggregation Query Builder</emphasis> option on left menu to proceed.</para>
          <para>To define a formula, click the <emphasis role="italic">Add new</emphasis> button.</para>
          <screenshot>
            <mediaobject>
              <imageobject>
                <imagedata width="70%" fileref="resources/images/patients_programs/example_query.png" format="PNG"/>
              </imageobject>
            </mediaobject>
          </screenshot>
          <para>Basic information -</para>
          <itemizedlist>
            <listitem>
              <para><emphasis role="italic">Name</emphasis> - Provide name of query,  this name is usually same with the name of aggregate data element. For example Number of mothers got VAT, Number of children got BCG vaccine,...</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Dataset</emphasis> - Select dataset contains data elements which will be used to link with individual data.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Data element</emphasis> - Select aggregate data element which will be used to link with individual data.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Operator</emphasis> - There are six operators</para>
              <para>1) Select <emphasis role="italic">Number of persons</emphasis> if aggregate based on persons;</para>
              <para>2) Select <emphasis role="italic">Number of visits</emphasis> if aggregate data based on  times that persons received services.</para>
              <para>3) Select <emphasis role="italic">Sum of data element values </emphasis>to get sum of data values of data element in <emphasis role="italic">Data element for sum/average</emphasis> field with the criteria in the condition field.</para>
              <para>4) Select <emphasis role="italic">Average of data element values </emphasis>to get average of data values of data element in <emphasis role="italic">Data element for sum/average</emphasis> field with the criteria in the condition field.</para>
              <para>5) Select <emphasis role="italic">Minimum of data element values </emphasis>to get min of data values of data element in <emphasis role="italic">Data element for sum/average</emphasis> field with the criteria in the condition field.</para>
              <para>6) Select <emphasis role="italic">Maximum of data element values </emphasis>to get max of data values of data element in <emphasis role="italic">Data element for sum/average</emphasis> field with the criteria in the condition field.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Program</emphasis> - Select program   needed for aggregation.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Program Stage</emphasis> - Select program stage from the selected program above.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Data element for sum/average/min/max</emphasis>  - Select an data element for operator as Sum / Average / Min / Max.</para>
            </listitem>
          </itemizedlist>
          <para>Next section included 3 tabs: <emphasis role="italic">Data elements</emphasis>, <emphasis role="italic">Person attributes</emphasis> and <emphasis role="italic">Program</emphasis>. Depend on the requirement of data aggregation, data element, person attributes, and number of programs are selected. </para>
          <para><emphasis role="bold">
              <emphasis role="underline"><emphasis role="italic">Data elements tab</emphasis>:</emphasis>
            </emphasis> List all available data elements  from selected program stage. To create a formula related to each data element, double click on the   data element. The formula of the data element is filled on the condition field,  like [DE:1.2.3], in with: </para>
          <itemizedlist>
            <listitem>
              <para>1 - id of  the selected program.</para>
            </listitem>
            <listitem>
              <para>2 - id of the selected program stage.</para>
            </listitem>
            <listitem>
              <para>3 - id of the selected data element.</para>
            </listitem>
          </itemizedlist>
          <note>
            <para>The formula can be created without any program stage, like [DE:1.*.3]</para>
          </note>
          <para><emphasis role="bold">
              <emphasis role="underline">
                <emphasis role="italic">Person attribute tab</emphasis>
              </emphasis>
            </emphasis>- List all available fixed attributes, such as gender, DOB type, Age (days), .. and user-defined attributes. Besides, provide a formula for calculating number of persons who registered in system. However, if a program without registration is selected,  person attributes aren&apos;t displayed.</para>
          <para><emphasis role="bold">
              <emphasis role="underline">
                <emphasis role="italic">Program tab</emphasis>
              </emphasis>
            </emphasis> - Provide formulas for calculating data value related to the selected program and program stage - </para>
          <itemizedlist>
            <listitem>
              <para>The number of persons who enrolled the selected program.</para>
            </listitem>
            <listitem>
              <para>The number of persons / times that ( Date of enrollment - Date of incident ) is greater then a certain number.</para>
            </listitem>
            <listitem>
              <para>The number of persons who visited the selected program stage OR the number of visits what are registered in the system.</para>
            </listitem>
            <listitem>
              <para>The number of persons  by age at the report-time.</para>
            </listitem>
          </itemizedlist>
          <para><emphasis role="bold">
              <emphasis role="italic">
                <emphasis role="italic">
                  <emphasis role="underline">Condition section </emphasis>
                </emphasis>
              </emphasis>
            </emphasis>- This section contains comparing operations (&lt;, &lt;=, &gt;, &gt;=, =, != ), calculation operation (+), priority operation ( ( ) ), boolean values (Yes, No), status operations (=NULL, != NULL), relation operations (AND, OR). These operations are used for supporting in setting condition for query. </para>
          <para><emphasis role="italic">
              <emphasis role="bold">
                <emphasis role="underline">Description section</emphasis>
              </emphasis>
            </emphasis> - Show description for the condition above. </para>
          <para>E.g To get number of <emphasis role="italic">girls</emphasis> who got <emphasis role="italic">Vitamin A dose 6</emphasis> enrolled <emphasis role="italic">Child Health program</emphasis> on <emphasis role="italic">January 2012</emphasis>. Then query is created as in the figure below. Note that January 2012 is period parameter which user will select when generate report. It is not set in the query.</para>
        </section>
        <section>
          <title>Sample of person aggregation</title>
          <para>E.g.  Find the number of the children vaccinated BCG by defining a linking rule between the data elements of aggregate dataset named <emphasis role="italic">Number of children - BCG</emphasis>  and the data element of a program stage named <emphasis role="italic">BCG dose given</emphasis>.</para>
          <orderedlist>
            <listitem>
              <para>From <emphasis role="italic">Maintenance</emphasis> menu, go to <emphasis role="italic">Data Element and Indicators</emphasis> option and click on it. Select <emphasis role="italic">Data Element</emphasis> option to define two new data elements -</para>
              <para>1) Define a new data element named <emphasis role="italic">Number of children - BCG</emphasis> with  <emphasis role="italic">Aggregate</emphasis> option for Domain Type.</para>
              <para>2) Define a new data element named <emphasis role="italic">BCG dose give date</emphasis> with  <emphasis role="italic">Patient</emphasis> option for Domain Type.</para>
            </listitem>
            <listitem>
              <para>From <emphasis role="italic">Maintenance</emphasis> menu, go to <emphasis role="italic">Datasets</emphasis> option and click on it. Select <emphasis role="italic">Dataset</emphasis> option to create a new dataset named <emphasis role="italic">BCG Report</emphasis> and add <emphasis role="italic">Number of children - BCG</emphasis> data element into the dataset.</para>
            </listitem>
            <listitem>
              <para>From <emphasis role="italic">Maintenance</emphasis> menu, go to <emphasis role="italic">Persons and Programs</emphasis> option   and click on it. Select <emphasis role="italic">Program</emphasis> option to create a program named <emphasis role="italic">Child Health Program</emphasis> with a stage named <emphasis role="italic">Birth Details</emphasis> and add the <emphasis role="italic">BCG dose given</emphasis> data element into this stage.</para>
            </listitem>
            <listitem>
              <para>Create a new aggregation query builder named <emphasis role="italic">Number of children - BCG Builder </emphasis>to linking between the data elements.</para>
            </listitem>
            <listitem>
              <para>From <emphasis role="italic">Services</emphasis> menu, go to <emphasis role="italic">Individual Records </emphasis>option and click on it. Select <emphasis role="italic">Person</emphasis> option below <emphasis role="italic">Registration</emphasis> header in the left menu to register three persons named <emphasis role="italic">Micheal</emphasis>, <emphasis role="italic">Alice</emphasis> and <emphasis role="italic">Tom</emphasis> in <emphasis role="italic">Ngelehun CHC</emphasis> and enroll them into <emphasis role="italic">Child Health Program</emphasis>.</para>
              <para>1) For  <emphasis role="italic">Micheal</emphasis>, open the <emphasis role="italic">Birth Details</emphasis> stage into <emphasis role="italic">Child Health Program</emphasis>. Enter value for <emphasis role="italic">BCG dose give date</emphasis> data element as &quot;<emphasis role="italic">2012-01-18</emphasis>&quot;.</para>
              <para>2) For  <emphasis role="italic">Alice</emphasis>, open the <emphasis role="italic">Birth Details</emphasis> stage into Child Health Program. Enter Enter value for <emphasis role="italic">BCG dose give date</emphasis> data element as &quot;<emphasis role="italic">2012-01-18</emphasis>&quot;.</para>
              <para>3) For    <emphasis role="italic">Tom</emphasis>,  no enter any data value for <emphasis role="italic">Birth Details</emphasis> stage.</para>
              <warning>
                <para>Before entering data value for the stage, choose <emphasis role="italic">Report Date</emphasis> as &quot;<emphasis role="italic">2012-01-18</emphasis>&quot;.</para>
              </warning>
            </listitem>
            <listitem>
              <para>From <emphasis role="italic">Services</emphasis> menu, go to <emphasis role="italic">Individual Records</emphasis> option and click on it. Select <emphasis role="italic">Manual person aggregation</emphasis> option to run<emphasis role="italic"> Number of children - BCG Builder</emphasis> to get data value  and save it into database.</para>
              <screenshot>
                <mediaobject>
                  <imageobject>
                    <imagedata width="70%" fileref="resources/images/patients_programs/person_aggregation_form.png" format="PNG"/>
                  </imageobject>
                </mediaobject>
              </screenshot>
              <screenshot>
                <screeninfo>- Result after running the query builder</screeninfo>
                <mediaobject>
                  <imageobject>
                    <imagedata width="70%" fileref="resources/images/patients_programs/example_person_aggregation_result.png" format="PNG"/>
                  </imageobject>
                </mediaobject>
              </screenshot>
              <note>
                <para>You can click  <emphasis role="italic">Aggregate and Save</emphasis> button to save data values aggregated into the database directly.</para>
              </note>
            </listitem>
          </orderedlist>
        </section>
      </section>
      <section id="validation_criteria">
        <title>Validation criteria</title>
        <para>Validation criteria section provides a mechanism for defining criteria for persons when enrolling a program.</para>
        <para>To access the validation criteria maintenance module, from <emphasis role="italic">Maintenance</emphasis> menu, go to <emphasis role="italic">Persons and Programs</emphasis> option and click on it. Select <emphasis role="italic">Validation Criteria</emphasis> option to create a new program.</para>
        <para>To create a new validation criterion, click the <emphasis role="italic">Add new</emphasis> button. Fill all fields with read asterisk, and click <emphasis role="italic">Add</emphasis> button.</para>
        <para>You can assign facilities to a validation criterion in the <emphasis role="italic">Validation Criteria Management </emphasis>(list of available validation criteria are shown) by clicking the blue folder icon, the first icon under Operations, corresponding to the validation criterion you would like to assign. Click the <emphasis role="italic">Move selected</emphasis> button to add the selected programs to the validation criterion. Click the <emphasis role="italic">Remove selected</emphasis> button to remove programs from the group that have been selected in the right panel. Finally, click the <emphasis role="italic">Save</emphasis> button to save changes, or the <emphasis role="italic">Cancel</emphasis> button to discard any change.</para>
        <para>To translate the name of a program, click <emphasis role="italic">Translation</emphasis> icon, the third icon under Operations, corresponding to the validation criteria  you would like.</para>
      </section>
      <section id="schedule_sending_message">
        <title>Schedule automated message reminder</title>
        <para>This function is used for scheduling message reminders to be automatically sent to enrolled persons XX days before scheduled appointments and/or XX days after a missed visit. When the schedule is started, messages for each person are generated based on templates defined in each stage at midnight (Ref.<emphasis role="italic"> Add program stage </emphasis>section for defining a template message). On the time, the scheduled messages are sent.</para>
        <para>Click <emphasis role="italic">Start</emphasis> button will enable the scheduled job to run the task. Messages are generated based on templates defined in each stages at mid-night and sent at a pre-determined time  or can be run immediately by pressing <emphasis role="italic">Execute</emphasis> button.</para>
        <para>Click <emphasis role="italic">Execute</emphasis> button to generate and send each message for each  person at the time the button clicked.</para>
      </section>
      <section id="scheduling_aggregation_query_builder">
        <title>Schedule automated aggregation</title>
        <para>The aggregation query builder jobs can be automatically scheduled to run on regular intervals. At midnight, this job runs and get all datasets which have data elements  defined into Aggregate Query Builder formulas. Based on the period types of datasets, the system runs formulas at the end of end-date of current period. E.g if today is on 1A.M. in 2013-02-01, the system gets a monthly dataset and other period-type datasets with aggregate formulas, then system will only run aggregate formulas of the monthly  dataset with period as Jan 2013.</para>
        <para>Select an option in <emphasis role="italic">Task strategy </emphasis>to set way to get period list for aggregating. There four options - </para>
        <para>1) <emphasis role="italic">Last month</emphasis> - Get period list by period-types of data sets from last month to current date.  E.g for daily datasets, if current date is <emphasis role="italic">2013-03-09</emphasis>, period list is get from <emphasis role="italic"> 2013-02-09</emphasis> to <emphasis role="italic"> 2013-03-09</emphasis>. For month datasets, periods list is <emphasis role="italic">Feb 2013</emphasis> and <emphasis role="italic">Mar 2013.</emphasis></para>
        <para>2) <emphasis role="italic">Last 3 month</emphasis> - Get periods by from last 3 month to current date.</para>
        <para>3) <emphasis role="italic">Last 6 month</emphasis> - Get periods by from last 6 month to current date</para>
        <para>4) <emphasis role="italic">Last 12 month</emphasis> - Get periods by from last 12 month to current date</para>
        <para><emphasis role="italic"><emphasis role="italic">Click</emphasis> Start</emphasis> button to enable the scheduled job to run at mid-night or can be run immediately by pressing <emphasis role="italic">Execute</emphasis> button.</para>
      </section>
    </section>
    <section>
      <title>Individual records module</title>
      <para>Each of the options for the services will be described in the following section -</para>
      <itemizedlist>
        <listitem>
          <para>Find/Add Person</para>
          <para>Register, edit and search private information of persons. Support person dashboard for managing relationships, program enrollment, entering case entry form, ....
    </para>
        </listitem>
        <listitem>
          <para>Visit Schedule</para>
          <para>Visit Schedule provides for the user at a facility or in an area a list of upcoming visits to better plan for daily/weekly activities.</para>
        </listitem>
        <listitem>
          <para>Program Tracking</para>
          <para>Support the work practices around tracking persons within a health program that have not shown up for a scheduled visit (stage), e.g. that are lost to follow-up. </para>
        </listitem>
        <listitem>
          <para>Multiple Individual records</para>
          <para>Enter data for multiple program stages and persons for a program. The entry screen gives an overview of the stage status.
    </para>
        </listitem>
        <listitem>
          <para>Single event with registration </para>
          <para>The data to register is defined by a single event with registration program.</para>
        </listitem>
        <listitem>
          <para>Single event without registration</para>
          <para>Register Single events without registration. The data to register is defined by a single event without registration program.</para>
        </listitem>
        <listitem>
          <para>Program summary</para>
          <para>View the summary report to get an overview of the services provided for a program.
    </para>
        </listitem>
        <listitem>
          <para>Tabular report</para>
          <para>Use an interactive reporting tool for tracker-data using tabular presentation with dynamic filters for each person attribute/data element.
    </para>
        </listitem>
        <listitem>
          <para>Program Statistics </para>
          <para>Program statistics on program performance, e.g. drop-out rates, how many completed every month/year - counts/percentages etc.  </para>
        </listitem>
        <listitem>
          <para>Manual Person Aggregation</para>
          <para>Generate routine data values from patient data by month (or other intervals if desired) and organisation unit.
</para>
        </listitem>
      </itemizedlist>
      <section id="patient">
        <title>Find/Add Person</title>
        <para>The first step in the tracking is the registration of person/case in the application. In the registration process, the details - which are related to the personal information, identification, contract and location details &amp; health provider details, are entered in the application. In the registration itself, person is provided with the unique identification number. This number will be unique and will not match with the identification number of any person in the state jurisdiction. The issue of identification number will be the responsibility of facility where person is registered first time.</para>
        <warning>
          <para>No matter what program persons need  to enroll, they must register into the system first. Then health providers will enroll the persons into relevant  programs. E.g. every pregnant women and the child need to be registered first as a person, then they will be enrolled in Mother Care program or Child Health program.</para>
        </warning>
        <para>To access <emphasis role="italic">Person management </emphasis>function, from the <emphasis>Services</emphasis> menu, go the the <emphasis>Individual Records </emphasis>option and click on it. Select <emphasis>Find/Add Person</emphasis> option on the left menu to proceed. Then, after to select organisation unit.</para>
        <para>Click the<emphasis role="italic"> List All Persons</emphasis> button to list all persons in the selected organisation unit. If a program in list on the right side is selected, the system will load persons who enolled into the program.</para>
        <para>For the registration process, the details - which are related to the personal information, identification, contact and location details, and health provider details, are entered.</para>
        <orderedlist inheritnum="inherit" continuation="restarts" arch="">
          <listitem>
            <para>To register a person, go to the <emphasis role="italic">Services</emphasis> menu, select option <emphasis role="italic">Individual Records</emphasis>.</para>
          </listitem>
          <listitem>
            <para>Click the <emphasis role="italic">
                <emphasis>
                  <emphasis role="italic">Find/Add person</emphasis>
                </emphasis>
              </emphasis> option below <emphasis role="italic">Person</emphasis> header to go to <emphasis>Person management</emphasis> window.</para>
          </listitem>
          <listitem>
            <para>Select  a  facility from the facilities hierarchy displayed on the left side of the screen. Then click the <emphasis role="italic">Add new</emphasis> button on the right side.</para>
            <note>
              <para>To register new person and enroll him/her into a certain program, please select a program in list on main page and click <emphasis role="italic">Add new</emphasis> button. The person attributes and person identifier types which belong to the selected program will be displayed on the registration form.</para>
            </note>
          </listitem>
          <listitem>
            <para>Start process of registration by providing name, location details, identification details, contact details and other details like <emphasis role="italic">child contact name</emphasis> and <emphasis role="italic">child contact type</emphasis>.  Then  click the <emphasis role="italic">Add</emphasis> button  to complete to process of registration or click the <emphasis role="italic">Person management</emphasis>  to navigate to previous page. </para>
            <para>To continue to register other new person, click the <emphasis role="italic">Add &amp;&amp; Register new </emphasis>button.</para>
            <screenshot>
              <mediaobject>
                <imageobject>
                  <imagedata width="70%" fileref="resources/images/patients_programs/register_person_page.PNG" format="PNG"/>
                </imageobject>
              </mediaobject>
            </screenshot>
            <para>To check the duplicated person or to avoid double registration, after providing name and demographic details, click the <emphasis role="italic">Check duplicate</emphasis> button. Checking process bases on full name, gender and birthday of the registering person to look for the available persons with the similar information in the database. The result list will be displayed if the system finds out the same persons. Now health providers can cancel the registration process and update the existing person or continue the process of registration.</para>
            <para>To register representative for the registering person, check on the <emphasis role="italic">Has guardian/caretaker</emphasis> checkbox in <emphasis role="italic">Register new person</emphasis> form. The sub-function has two tab -</para>
            <itemizedlist>
              <listitem>
                <para><emphasis role="italic">Search existing person</emphasis> tab is used for searching  available persons and users can select one person in the result list to set relationship. The criteria to search is based on  identifier, attribute and name of persons.</para>
              </listitem>
              <listitem>
                <para><emphasis role="italic">Add new person</emphasis> tab is used for  registering a new person for relationship. When adding a person in this form, you need to select one user-defined relationship type in the list. Finally, click <emphasis role="italic">Add</emphasis> button.</para>
              </listitem>
            </itemizedlist>
            <screenshot>
              <mediaobject>
                <imageobject>
                  <imagedata width="70%" fileref="resources/images/patients_programs/representative.png" format="PNG"/>
                </imageobject>
              </mediaobject>
            </screenshot>
          </listitem>
        </orderedlist>
        <section>
          <title>Person dashboard</title>
          <para>The function  provides quick access to individual data of a person. Dashboards consist of several sections, some of which provide links to activity programs or relationships of the person . Other sections of the dashboard allow users to enter data values into case entry form, reschedule and set status for each events of activity plan and show messages and report of the program.</para>
          <para>The dashboard of a person is opened after register successfully or click the <emphasis role="italic">first icon</emphasis> under <emphasis role="italic">Operations</emphasis>, corresponding to the person who you would like.</para>
          <screenshot>
            <mediaobject>
              <imageobject>
                <imagedata width="80%" fileref="resources/images/patients_programs/person_dashboard.png" format="PNG"/>
              </imageobject>
            </mediaobject>
          </screenshot>
          <para>The <emphasis role="italic">Demographics</emphasis> section provides links for editing profile  and changing other location of the person. Click on <emphasis role="italic">Edit profile</emphasis> link to update individual information of person. Click on <emphasis role="italic">Change location</emphasis> link to change other location for the person</para>
          <para>Click on a program link in <emphasis role="italic">Active programs</emphasis> section to open the data entry form for the next visit of the selected program. A form is open below with five tab - </para>
          <orderedlist>
            <listitem>
              <para><emphasis role="italic">Data entry screen </emphasis>tab - Where data is manually registered for each person. Click on a event box in  tab. Then   fill  a report date to open data entry form of the selected event. </para>
              <para>After entering data values into the data entry form, user should click on <emphasis role="italic">Run validation </emphasis> button before clicking on <emphasis role="italic">Complete</emphasis> button to check reality of data. The event is  only  completed successfully if all validation is valid.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Identifier / Attribute</emphasis> tab - Load identifier-types and person-attributes which belong to the selected program for users to enter values for this program.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Reschedule and set status</emphasis> tab - Provides function for re-scheduling, setting status and sending messages/comments or deleting for each events.</para>
              <screenshot>
                <mediaobject>
                  <imageobject>
                    <imagedata width="80%" fileref="resources/images/patients_programs/program_management.png" format="PNG"/>
                  </imageobject>
                </mediaobject>
              </screenshot>
              <para>Click <emphasis role="italic">Update</emphasis> button to update enrollment date and incident date and re-schedule visit plan by the new incident date.</para>
              <para>Click <emphasis role="italic">Complete/Quit</emphasis> button to complete/quite the active program.</para>
              <para>Click <emphasis role="italic">Re-enroll </emphasis>button to re-enroll a completed program.</para>
              <para>If the program enrollment which no stage has data values, you can see  button <emphasis role="italic">Remove</emphasis> next to <emphasis role="italic">Re-enroll</emphasis> button. Click on it to delete this program enrollment.</para>
              <para>After entering a  message in the field, click <emphasis role="italic">Post comment</emphasis> icon, the <emphasis role="italic">first icon</emphasis> under <emphasis role="italic">Message</emphasis> column, next to message text field to add a comment for the event. For sending a reminder message, click on <emphasis role="italic">Send message</emphasis> icon, the <emphasis role="italic">second icon</emphasis> under <emphasis role="italic">Message</emphasis> column.</para>
			  <note>
                <para>Only allow to edit due dates of events with status as overdue or scheduled in future.</para>
              </note>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Comments and messages</emphasis> tab - Displays a comment/message list of the program.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Program report </emphasis>tab - Summary report for the program.</para>
            </listitem>
          </orderedlist>
          <para>The <emphasis role="italic">Active programs</emphasis> section consists of active programs of the person. Click on a program to show detail information below. Besides, there are two link in this tab - </para>
          <orderedlist>
            <listitem>
              <para>The <emphasis role="italic">Active programs</emphasis> section provides links for  activity program and the next visit of person for this program. </para>
            </listitem>
            <listitem>
              <para>The <emphasis role="italic">Completed programs</emphasis> section provides a completed program list with links to load events flow of the program.</para>
            </listitem>
            <listitem>
              <para>To enroll the person into a program, click <emphasis role="italic">Enroll</emphasis> link.</para>
            </listitem>
          </orderedlist>
          <para>The <emphasis role="italic">Relationship</emphasis> section consists of relationships of the person. Click on a person in list to open his/her dashboard. Besides, there are two link in this tab - </para>
          <orderedlist>
            <listitem>
              <para>To open <emphasis role="italic">Relationship management</emphasis> section, click <emphasis role="italic">Management</emphasis> link.</para>
            </listitem>
            <listitem>
              <para>To register new person for relationship, click <emphasis role="italic">Register new person</emphasis> link.</para>
            </listitem>
          </orderedlist>
          <para>Besides, the system audits user&apos;s information who accessed on the dashboard. Click on the <emphasis role="italic">History</emphasis> link in the header to  display this information.</para>
        </section>
        <section>
          <title>Person enrollment</title>
          <para>After the  registration, the person needs to be enrolled in any available program. To enroll -</para>
          <orderedlist>
            <listitem>
              <para>Click on <emphasis role="italic">Enroll</emphasis> link from Dashboard of the person to open the Enrollment form.</para>
            </listitem>
            <listitem>
              <para>Select a program from the list.</para>
              <screenshot>
                <mediaobject>
                  <imageobject>
                    <imagedata width="70%" fileref="resources/images/patients_programs/select_program_for_person.PNG" format="PNG"/>
                  </imageobject>
                </mediaobject>
              </screenshot>
            </listitem>
            <listitem>
              <para>After the selection of program, you need to provide two dates:</para>
              <para>1) <emphasis role="italic">Date of enrollment ( the first field )</emphasis> - The date when person enrolls into the selected program.</para>
              <para>2) <emphasis role="italic">Date of incident ( the second field )</emphasis> - The date when the person got the disease or he/she has just been committed to an equivalent program for being followed-up.</para>
              <warning>
                <para>If the selected program has any identifier types or  person attributes, they are displayed below. Users can enter  values for them at this time.</para>
                <para>The <emphasis role="italic">date of incident</emphasis> are  important to generate the activity plan for  each person. Health provider  needs to ensure  recording and reporting date of incidence with each case of multi events with registration. However, when to define a program, if it can be set <emphasis role="italic">Generated by enrollment date</emphasis> property as true, the activity plan is generated based on the enrollment date, not incident date. </para>
                <para>However,  the <emphasis role="italic">date of incident </emphasis>is ignored with single event programs. </para>
              </warning>
            </listitem>
            <listitem>
              <para>Click  the <emphasis role="italic">Enroll</emphasis> button to complete the enrollment process.</para>
              <para>The system will automatically calculate  due-date for each event of program and will show it in the <emphasis role="italic">Re-schedule and set status</emphasis> tab. In  health programme, a person  registered and enrolled, needs to be checked from time to time by health providers.
The case update  is designed in the same manner so that services which are received by the persons can be updated from time to time  when they visit the facility  or  whenever the health providers need to <emphasis role="italic">track</emphasis>.</para>
              <para>The system will automatically calculate  due-date for each the program stage  and will show same the below enrollment. In  health program, a person  registered and enrolled, needs to be checked from time to time by health providers.
The case update  is designed in the same manner so that services which are received by the persons can be updated from time to time  when they visit the facility  or  whenever the health providers need to track.</para>
            </listitem>
          </orderedlist>
        </section>
        <section>
          <title>Editing person profile</title>
          <para>After registering a person to a certain program, you can edit profile for that person.</para>
          <orderedlist>
            <listitem>
              <para>Click the second icon under <emphasis>Operations</emphasis>, corresponding to the person you would like to edit. Or click the <emphasis>Edit profile</emphasis> link in Dashboard of person.</para>
            </listitem>
            <listitem>
              <para>Then a dialog box may appear to require you verify the date of birth if it is not verified. Click <emphasis>OK</emphasis> to go to the edit page.</para>
            </listitem>
            <listitem>
              <para>Click <emphasis role="italic">Update</emphasis> button to update data and go to his/her dashboard.</para>
            </listitem>
          </orderedlist>
        </section>
        <section>
          <title>Adding relationship</title>
          <para>To open <emphasis role="italic">relationship management</emphasis> for a person, click on the <emphasis>Relationship management</emphasis> icon under <emphasis>Operations</emphasis> or click on the <emphasis role="italic">Management</emphasis> link on <emphasis role="italic">Relationships</emphasis> section in Dashboard. The management page appears...</para>
          <screenshot>
            <mediaobject>
              <imageobject>
                <imagedata width="70" fileref="resources/images/patients_programs/management_page.PNG" format="PNG"/>
              </imageobject>
            </mediaobject>
          </screenshot>
          <para>To add relationship for a person, you have to click on <emphasis>Search available person</emphasis> link to navigate to <emphasis>search page.</emphasis></para>
          <para>To register a new person and create relationship with the selected person, click <emphasis role="italic">Register new person</emphasis> link.</para>
          <para>To set a relative person as representative, click on the <emphasis role="italic">Set as representative</emphasis> icon, the first icon under <emphasis>Operations</emphasis> according to the person you would like.</para>
        </section>
        <section>
          <title>Change person location and View person details and history</title>
          <para>You can change person location by clicking the <emphasis>Change person location</emphasis> icon under <emphasis>Operations</emphasis> or click on <emphasis role="italic">Change location</emphasis> link on <emphasis role="italic">Demographics</emphasis> section in Dashboard. </para>
          <para>In addition, you can view all person details and history by click on <emphasis>Person details and history</emphasis>  icon under <emphasis>Operations</emphasis>.</para>
          <para>Furthermore, you can download all person details and history in the format of <emphasis role="italic"> XLS</emphasis> or <emphasis role="italic">PDF</emphasis> by clicking <emphasis>Download as Excel</emphasis> or <emphasis>Download as PDF </emphasis>button.</para>
          <screenshot>
            <mediaobject>
              <imageobject>
                <imagedata width="70" fileref="resources/images/patients_programs/change_person_location_and_view_details.PNG" format="PNG"/>
              </imageobject>
            </mediaobject>
          </screenshot>
        </section>
        <section>
          <title>Advanced search persons</title>
          <para>The <emphasis>Advanced search</emphasis> function is used for searching available persons based on  full-name, identifiers and person attribute values.</para>
          <para>To access <emphasis role="italic">Advanced search</emphasis> function, from the <emphasis>Services</emphasis> menu, go the the <emphasis>Individual Records </emphasis>option and click on it. Select <emphasis>Find/Add Person</emphasis> option on the left menu to proceed. Then, after selecting organisation unit,  click on the <emphasis>Search</emphasis> button on the right side.</para>
          <para> A search form is appeared after clicking. User  has to select  criteria and input values into the function.</para>
          <screenshot>
            <mediaobject>
              <imageobject>
                <imagedata width="70" fileref="resources/images/patients_programs/search_guide.PNG" format="PNG"/>
              </imageobject>
            </mediaobject>
          </screenshot>
          <para>After selecting a type for searching, entering keyword and clicking on <emphasis role="italic">Search</emphasis> button, the search result will display on the screen, and then user can interact with these persons.</para>
          <screenshot>
            <mediaobject>
              <imageobject>
                <imagedata width="70" fileref="resources/images/patients_programs/search_result.PNG" format="PNG"/>
              </imageobject>
            </mediaobject>
          </screenshot>
          <note>
            <para>Please check <emphasis role="italic">Seach in all facilities</emphasis> checkbox for searching whole organisation hierachy tree.</para>
          </note>
        </section>
      </section>
      <section>
        <title>Tracking</title>
        <para>This function supports the work practices around tracking persons within a health program that have not shown up for a scheduled visit (stage), e.g. that are lost to follow-up. </para>
        <section id="visit_schedule">
          <title>Visit Schedule</title>
          <para>This will be used to provide the user at a facility or in an area with a list of upcoming visits to better plan for daily/weekly activities. This can also be used as quick navigation to the data entry screen when using the system as a live/real-time data entry system.</para>
          <para>To access <emphasis role="italic">Visit Schedule </emphasis>module, from the <emphasis role="italic">Services</emphasis> menu, go to the<emphasis role="italic"> Individual Records </emphasis>option. Select <emphasis role="italic">Visit Schedule</emphasis> option on left menu. Visit schedule management  is opened. </para>
          <para>To get visit schedule for a program, please do as follows - </para>
          <orderedlist>
            <listitem>
              <para>Select a program - Specify program for getting events.</para>
            </listitem>
            <listitem>
              <para>Select start-date and end-date - The system gets active events based on the these dates</para>
            </listitem>
            <listitem>
              <para>Use data from level(s) - Specify the level which you need to get events. If the option is Children only, individual data will be get  from the children of the selected organisation unit. If the option is Selected, individual data will be get from the selected organisation unit. If the option is All, individual data will be get from both selected organisation unit and its children.</para>
            </listitem>
            <listitem>
              <para>Click <emphasis role="italic">Generate</emphasis> button to generate visit schedule. The result is displayed below. And click <emphasis role="italic">Export XLS </emphasis>button to export the result to excel file</para>
            </listitem>
          </orderedlist>
          <screenshot>
            <mediaobject>
              <imageobject>
                <imagedata width="70%" fileref="resources/images/patients_programs/visit_schedule.PNG" format="PNG"/>
              </imageobject>
            </mediaobject>
          </screenshot>
          <para>Click active event below <emphasis role="italic">Program stage </emphasis>column or <emphasis role="italic">second icon</emphasis>, corresponding to the event which you would like to open the data entry screen.</para>
          <para>Click <emphasis role="italic">Person Dashboard</emphasis> icon, the <emphasis role="italic">first icon</emphasis> under <emphasis role="italic">Operations</emphasis>, corresponding to the event which you would like to open dashboard of the person corresponding to the event.</para>
          <para>Click <emphasis role="italic">Person details and history</emphasis> icon, the <emphasis role="italic">third icon</emphasis> under <emphasis role="italic">Operations</emphasis>, corresponding to the event which you would like to open the person history.</para>
        </section>
        <section id="program_tracking">
          <title>Program Tracking</title>
          <para>This function supports the work practices around tracking persons within a health program that have not shown up for a scheduled visit, e.g. that are lost to follow-up.</para>
          <para>To access <emphasis role="italic">Program Tracking </emphasis>module, from the <emphasis role="italic">Services</emphasis> menu, go to the<emphasis role="italic"> Individual Records </emphasis>option and select <emphasis role="italic">Program Tracking</emphasis> option on left menu. </para>
          <para>To get tracking for a program, please do as follows - </para>
          <orderedlist>
            <listitem>
              <para>Select organisation unit on the left panel.</para>
            </listitem>
            <listitem>
              <para>Select a program in list on the main panel.</para>
            </listitem>
            <listitem>
              <para>Click on <emphasis role="italic">Schedule today</emphasis> button to load  over-due events happen on current date. Besides, you can select on<emphasis role="italic"> Schedule 7 days </emphasis>or <emphasis role="italic">Schedule 30 days </emphasis>button to load over-due events happen in  date range corresponding.</para>
            </listitem>
          </orderedlist>
          <screenshot>
            <mediaobject>
              <imageobject>
                <imagedata width="70%" depth="" fileref="resources/images/patients_programs/tracking_program.png" format="PNG"/>
              </imageobject>
            </mediaobject>
          </screenshot>
          <para>Click on <emphasis role="italic">person&apos;s name</emphasis> link or <emphasis role="italic">Person Dashboard</emphasis> icon, the<emphasis role="italic"> first ico</emphasis>n under <emphasis role="italic">Operations</emphasis> to open his/her dashboard.</para>
          <para>Click on an <emphasis role="italic">event <emphasis role="italic">or</emphasis> the Reschedule and set status<emphasis role="italic"> icon</emphasis>, <emphasis role="italic">the <emphasis role="italic">second icon </emphasis><emphasis role="italic">
                  <emphasis role="italic">under</emphasis>
                </emphasis></emphasis> Operations</emphasis> to re-schedule and set status for the selected event or see all tracking history for this event.</para>
          <para>Click <emphasis role="italic">Person details and history</emphasis> icon, the <emphasis role="italic">third icon</emphasis> under <emphasis role="italic">Operations</emphasis>, corresponding to the event which you would like to open the person history.</para>
          <para>To search events by status and  some criteria such as name, identifiers or attributes, click on <emphasis role="italic">Search</emphasis> button next to <emphasis role="italic">List All Persons</emphasis>. A advanced search criteria is shown. After to fill search key values, click on <emphasis role="italic">Search</emphasis> button on this form to display result or click on <emphasis role="italic">Send message</emphasis> button to send a reminder message for person in result.</para>
          <screenshot>
            <mediaobject>
              <imageobject>
                <imagedata width="70%" fileref="resources/images/patients_programs/program_tracking_search_function.png" format="PNG"/>
              </imageobject>
            </mediaobject>
          </screenshot>
        </section>
      </section>
      <section>
        <title>Data entry</title>
        <section id="multiple_individual_records">
          <title>Multiple individual records</title>
          <para>The multiple individual records function is where individual data is manually registered in the DHIS database. A list events with visited date as current date for each person who enrolled into the selected program are displayed after clicking a multi events with registration.</para>
          <para>To access the multiple individual records function, from the <emphasis role="italic">Services</emphasis> menu, go to the <emphasis role="italic">Individual Records</emphasis> option and click on it. Select <emphasis role="italic">Multiple individual records</emphasis> option on left menu to proceed.</para>
          <para>To start enter data values, the first step is to open a list events of person who enrolled a certain program by selecting a program in the list on the main page. Follow these steps:</para>
          <orderedlist>
            <listitem>
              <para>Locate the organisation unit you want to register data for in the tree menu to the left. Expand and close branches by clicking on the +/- symbols. A quick way to find an organisation unit is to use the search box just above the tree (the green symbol), but you need to write in the full name to get a match.</para>
              <para>The system loads multi events with registration which belong to the selected organisation unit.</para>
            </listitem>
            <listitem>
              <para>Select a program in the list and click on <emphasis role="italic">List All Person </emphasis>button. An event list  of persons who enrolled into the selected program is shown.</para>
              <screenshot>
                <mediaobject>
                  <imageobject>
                    <imagedata width="70" fileref="resources/images/patients_programs/multi_individual_records_list.png" format="PNG"/>
                  </imageobject>
                </mediaobject>
              </screenshot>
            </listitem>
            <listitem>
              <para>Click on <emphasis role="italic">person&apos;s name</emphasis> link or <emphasis role="italic">Person Dashboard</emphasis> icon, the<emphasis role="italic"> first ico</emphasis>n under <emphasis role="italic">Operations</emphasis> to open his/her dashboard.</para>
              <para>Click on an <emphasis role="italic">event <emphasis role="italic">or</emphasis> the Reschedule and set status<emphasis role="italic"> icon</emphasis>, <emphasis role="italic">the <emphasis role="italic">second icon </emphasis><emphasis role="italic">
                      <emphasis role="italic">under</emphasis>
                    </emphasis></emphasis> Operations</emphasis> to re-schedule and set status for the selected event or see all tracking history for this event.</para>
              <para>To search events by status and  some criteria such as name, identifiers or attributes, click on <emphasis role="italic">Search</emphasis> button next to <emphasis role="italic">List All Persons</emphasis>. A advanced search criteria is shown. After to fill search key values, click on <emphasis role="italic">Search</emphasis> button on this form to display result or click on <emphasis role="italic">Send message</emphasis> button to send a reminder message for person in result.</para>
            </listitem>
          </orderedlist>
          <note>
            <para>You can see/post comments for each event into case entry form.</para>
          </note>
        </section>
        <section id="single_event_with_registration">
          <title>Single event with registration</title>
          <para>The data to register is defined by a single event with registration program. The functionality supports health providers to register person information and input data values for a program into one form.</para>
          <para>In order to register an event, from the <emphasis role="italic">Services</emphasis> option, go to the <emphasis role="italic">Individual Records</emphasis> option and click it. Then select <emphasis role="italic">Single event with registration</emphasis> option on left menu to proceed.</para>
          <para>To list all persons in the selected facility, click <emphasis role="italic">List All Persons</emphasis> button.</para>
          <para>To add new event, select a program in the combo box. And then click <emphasis role="italic">Add new</emphasis> button.</para>
          <screenshot>
            <mediaobject>
              <imageobject>
                <imagedata width="70" fileref="resources/images/patients_programs/create_new_person_single_event_with_registration.PNG" format="PNG"/>
              </imageobject>
            </mediaobject>
          </screenshot>
          <para>To update event of a registered person:</para>
          <orderedlist>
            <listitem>
              <para>Click <emphasis role="italic">Advanced search</emphasis> button. Then enter criterion for searching available persons. The search result is displayed below. User can read the user guide for <emphasis>Advanced search</emphasis> function in <emphasis>Person registration</emphasis> section.</para>
            </listitem>
            <listitem>
              <para>Click on <emphasis role="italic">Data entry</emphasis> icon - the first icon  under <emphasis>Operations</emphasis>, corresponding to the person you would like to edit, to update data values for the event.</para>
            </listitem>
          </orderedlist>
        </section>
        <section id="single_event_without_registration">
          <title>Single event without registration</title>
          <para>The data to register is defined by a single event without registration program.</para>
          <para>To register an event, from the <emphasis role="italic">Services</emphasis> option, go to the <emphasis role="italic">Individual Records</emphasis> option and click it. Then select <emphasis role="italic">Single event without registration</emphasis> option on left menu to proceed.</para>
          <para>To list all events by program in the selected facility, select a program in list.</para>
          <para>To remove empty events of the selected program, click <emphasis role="italic">Remove empty events</emphasis> button.</para>
          <para>To add new event, click <emphasis role="italic">Add new</emphasis> button.</para>
          <para>To update an event -</para>
          <orderedlist>
            <listitem>
              <para>Click <emphasis role="italic">Search</emphasis> button. Then enter criterion for searching person. The person list are displayed below.</para>
            </listitem>
            <listitem>
              <para>Click on <emphasis role="italic">Data entry</emphasis> icon - the first icon, to update value for the event.</para>
            </listitem>
          </orderedlist>
        </section>
      </section>
      <section>
        <title>Reports</title>
        <para>The sub module provides two functions for individual reports -<itemizedlist>
            <listitem>
              <para><emphasis role="italic">Program summary</emphasis> - View the summary report to get an overview of the services provided for a program.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Tabular report</emphasis>  - An interactive reporting tool for tracker-data using tabular presentation with dynamic filters for each person attribute and data element. </para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Statistical Program</emphasis> - Statistical reports on program performance, e.g. drop-out rates, how many completed every month/year - counts/percentages etc.</para>
            </listitem>
          </itemizedlist></para>
        <section id="program_summary_report">
          <title>Program summary</title>
          <para>The function provides a tool for   generating summary list of individual information with  color shown on program stages to identify status of receiving services in each stage.</para>
          <para>To access the program summary report, choose  <emphasis role="italic">Services</emphasis> -&gt; <emphasis role="italic">Individual Records</emphasis> &gt;  <emphasis role="italic">Program summary</emphasis>.</para>
          <para>Select a <emphasis role="italic">organisation unit</emphasis>  which provides services on the left menu. Then on the main page, select <emphasis role="italic">Program</emphasis>, <emphasis role="italic">Start date</emphasis>, <emphasis role="italic">End date </emphasis>to get period. After, select Use data from level(s). There are three levels <emphasis role="italic">Selected</emphasis>, <emphasis role="italic">Children Only</emphasis> and <emphasis role="italic">All</emphasis>. Finally, click <emphasis role="italic">Generate</emphasis> button. </para>
          <para>The result is get based on the date of enrollment of each person who registered the selected organisation unit and enrolled in the selected program in the interval from start-date and end-date what health provider entered.</para>
          <screenshot>
            <mediaobject>
              <imageobject>
                <imagedata width="70%" fileref="resources/images/patients_programs/program_summary_report.png" format="PNG"/>
              </imageobject>
            </mediaobject>
          </screenshot>
          <para>Click on an event box to display records for this event.</para>
          <para>Click on the person box to display the  details and history of the selected person.</para>
          <para>The color highlight the status of the stages -</para>
          <itemizedlist>
            <listitem>
              <para>PURPLE - Data entered and uncompleted stages.</para>
            </listitem>
            <listitem>
              <para>RED - Stages open but no data entered while the date estimated for closing/completing is over.</para>
            </listitem>
            <listitem>
              <para>YELLOW - Coming stages.</para>
            </listitem>
            <listitem>
              <para>GREEN- Compete stages.</para>
            </listitem>
            <listitem>
              <para>GREY - Skipped stages.</para>
            </listitem>
          </itemizedlist>
        </section>
        <section>
          <title>Tabular report</title>
          <para>This is  an interactive reporting tool for tracker-data using tabular presentation with dynamic filters for each person attribute/data element.</para>
          <para>There are two types of reports. The first one is case-based report.
It supports to filter events by each person attributes and data elements. The second one is aggregate report. It allows for aggregation on simple filters annd dynamic updates to report view based on changes to filters.</para>
          <para>To access the tabular report function, from the <emphasis role="italic">Services</emphasis> menu, go to the <emphasis role="italic">Individual Records</emphasis> option and click on it. Select <emphasis role="italic">Tabular report</emphasis> option below Reports header on left menu to proceed. </para>
          <para>To start a case-based report, the first step is to select a program in the list. Follow these steps -</para>
          <orderedlist>
            <listitem>
              <para>Select a program from list in the left panel. The system will be load data elements which belongs to the selected program.</para>
            </listitem>
            <listitem>
              <para>Choose start-date and end-date. The event list is loaded with report-date between the two dates.</para>
            </listitem>
            <listitem>
              <para>Select one or many <emphasis role="italic">organisation units</emphasis>.</para>
            </listitem>
            <listitem>
              <para>In <emphasis role="italic">Data element </emphasis>tab, Select a <emphasis role="italic">program stage</emphasis>. Double-click data elements which you need to show into the result to move it from <emphasis role="italic">Available</emphasis>field to the <emphasis role="italic">Selected</emphasis> field. Enter filter values for each data elements which you want into the fields below.</para>
              <note>
                <para>If the selected program has only one stage, this field is hidden and data element list of the stage is shown in the <emphasis role="italic">Available</emphasis> field.</para>
              </note>
            </listitem>
            <listitem>
              <para>In the Options tab, there are two options - </para>
            </listitem>
          </orderedlist>
          <itemizedlist>
            <listitem>
              <para><emphasis role="italic">Use data from level(s)</emphasis>: Specify the level which you need to get events -</para>
              <para>1)<emphasis role="italic"> Children only</emphasis>: Individual data will be aggregated from the children of the selected organisation unit.</para>
              <para>2) <emphasis role="italic">Selected</emphasis>: Individual data will be aggregated from the selected organisation unit. </para>
              <para>3) <emphasis role="italic">All</emphasis>: Individual data will be aggregated from both selected organisation unit and its children .</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Show hierarchy from level:</emphasis> The level of  organisation units which you want to show. E.g. If an event  belongs to an organisation unit  in district level and this option is selected as province level, the result is shown with the name of province.</para>
            </listitem>
          </itemizedlist>
          <orderedlist continuation="continues">
            <listitem>
              <para>Click <emphasis role="italic">Update</emphasis> button on toolbar. The result is shown on the main page.</para>
              <screenshot>
                <mediaobject>
                  <imageobject>
                    <imagedata width="60%" fileref="resources/images/patients_programs/tabular_report_result.png" format="PNG"/>
                  </imageobject>
                </mediaobject>
              </screenshot>
            </listitem>
          </orderedlist>
          <para>To start a aggregate report, the first step is to select a program in the list. Follow these steps:</para>
          <orderedlist>
            <listitem>
              <para>Select a program from list in the left panel. The system will be load data elements which belongs to the selected program.</para>
            </listitem>
            <listitem>
              <para>Select <emphasis role="italic">date</emphasis> period ranges  / relative periods / fixed periods in corresponding tab.</para>
            </listitem>
            <listitem>
              <para>Select one or many <emphasis role="italic">organisation units</emphasis> by clicking on the hierachy organisation tree or check on <emphasis role="italic">User organisation unit</emphasis> / <emphasis role="italic">User organisation unit chilren</emphasis> checkboxes. Besides, you can also select a group in list and system will load all organisation units which belong to the selected one.</para>
            </listitem>
            <listitem>
              <para>In <emphasis role="italic">Data filters </emphasis>tab, Select a <emphasis role="italic">program stage</emphasis>. Double-click data elements which you need to show into the result to move it from <emphasis role="italic">Available</emphasis>field to the <emphasis role="italic">Selected</emphasis> field</para>
              <note>
                <para>If the selected program has only one stage, this field is hidden and data element list of the stage is shown in the <emphasis role="italic">Available</emphasis> field.</para>
              </note>
            </listitem>
            <listitem>
              <para>In the Options tab, there are  options as follows -</para>
              <para>1) <emphasis role="italic"> Position</emphasis> - Select positions for organisation unit, period and data. The system supports ten positions as follows - </para>
              <para><itemizedlist>
                  <listitem>
                    <para>Organisation unit: Rows; Period: Rows; Data: Filters </para>
                  </listitem>
                  <listitem>
                    <para>Organisation unit: Rows; Period: Columns; Data: Filters </para>
                  </listitem>
                  <listitem>
                    <para>Organisation unit: Rows; Period: Filters; Data: Filters</para>
                  </listitem>
                  <listitem>
                    <para>Organisation unit: Rows; Period: Filters; Data: Columns</para>
                  </listitem>
                  <listitem>
                    <para>Organisation unit: Columns; Period: Rows; Data: Filters</para>
                  </listitem>
                  <listitem>
                    <para>Organisation unit: Columns; Period: Filters; Data: Rows</para>
                  </listitem>
                  <listitem>
                    <para>Organisation unit: Filters; Period: Rows; Data: Filters</para>
                  </listitem>
                  <listitem>
                    <para>Organisation unit: Filters; Period: Rows; Data: Columns</para>
                  </listitem>
                  <listitem>
                    <para>Organisation unit: Filters; Period: Columns; Data: Rows</para>
                  </listitem>
                  <listitem>
                    <para>Organisation unit: Filters; Period: Filters; Data: Rows</para>
                  </listitem>
                </itemizedlist></para>
              <para>2) <emphasis role="italic">Aggregate type</emphasis> - Have three options. The first one is used for calculating number of events which satisfy the fitlers. The others are used for calculating sum/average data values of the select data element in <emphasis role="italic">Sum/Avg of </emphasis>option.</para>
              <para>3) <emphasis role="italic">Sum/Avg of </emphasis>- Select a number data element in list to calculate sum/avg data values of its if aggregate type option is sum or avg.</para>
              <para>4) <emphasis role="italic">Use completed events</emphasis> - Check it if you want to get only completed events.</para>
              <para>5) <emphasis role="italic">Use data from level(s) </emphasis>-  Specify the level which you need to get events. If the option is <emphasis role="italic">Children only</emphasis>, individual data will be aggregated from the children of the selected organisation unit. If the option is <emphasis role="italic">Selected</emphasis>, individual data  will be aggregated from the selected organisation unit. If the option is <emphasis role="italic">All</emphasis>, individual data will be aggregated  from both selected organisation unit and its children.</para>
              <para>6) <emphasis role="italic">Group by</emphasis> - Group the result by data values of the selected data element.</para>
              <para>7) <emphasis role="italic">Limit records</emphasis> - Limit number of records in result returned.</para>
              <screenshot>
                <mediaobject>
                  <imageobject>
                    <imagedata width="80%" align="center" fileref="resources/images/patients_programs/aggregate_tabular_report.png" format="PNG"/>
                  </imageobject>
                </mediaobject>
              </screenshot>
            </listitem>
          </orderedlist>
          <para>To save parameters on the left panel, click <emphasis role="italic">Favorites</emphasis> button on toolbar. The select <emphasis role="italic">Manage favorites</emphasis> option. A form is shown to enter name for favorite and click <emphasis role="italic">Save</emphasis> button.</para>
          <para>To export the result to excel file, click <emphasis role="italic">Download</emphasis> button, select  XLS option. For the aggregate report, the system supports more two types of file as PDF and CSV.</para>
        </section>
        <section id="program_statistics">
          <title>Program Statistics </title>
          <para>The tool provides a tool for generating a statistics  report by program.</para>
          <para>To access <emphasis role="italic">Program Statistics</emphasis> module, from the <emphasis role="italic">Services</emphasis> menu, go to the <emphasis role="italic">Individual Records </emphasis>option. Select <emphasis role="italic">Program Statistics </emphasis>option on left menu. Program statistics is opened. </para>
          <para>To get statistics report for a program, please do as follows -</para>
          <orderedlist>
            <listitem>
              <para><emphasis role="italic">Program </emphasis>-  Specify program for generating report.</para>
            </listitem>
            <listitem>
              <para>Select <emphasis role="italic">start-date</emphasis> and <emphasis role="italic">end-date</emphasis> - The system will aggregate report based on start-date and end-date.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Use data from level(s)</emphasis> -  Specify the level which you need to get events. If the option is <emphasis role="italic">Children only</emphasis>, individual data will be aggregated from the children of the selected organisation unit. If the option is <emphasis role="italic">Selected</emphasis>, individual data  will be aggregated from the selected organisation unit. If the option is <emphasis role="italic">All</emphasis>, individual data will be aggregated  from both selected organisation unit and its children.</para>
            </listitem>
            <listitem>
              <para>Click <emphasis role="italic">Generate</emphasis> button to generate report. The result is displayed below. And click <emphasis role="italic">Export XLS</emphasis> button to export the result to excel file.</para>
            </listitem>
          </orderedlist>
          <screenshot>
            <mediaobject>
              <imageobject>
                <imagedata width="80%" align="center" fileref="resources/images/patients_programs/statistical_program_summary_report.png" format="PNG"/>
              </imageobject>
            </mediaobject>
          </screenshot>
          <para><emphasis role="italic">In result -</emphasis></para>
          <orderedlist>
            <listitem>
              <para><emphasis role="italic">Total new enrollments in this period</emphasis> - The number of persons who enrolled the selected program from start-date to end-date.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Total programs completed in this period </emphasis>- The number of programs completed.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Total programs discontinued (un-enrollments)</emphasis> - The number of programs un-enrolled.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Average number of stages for complete programs</emphasis> - The average number of stages per completed programs.</para>
            </listitem>
          </orderedlist>
          <para>From<emphasis role="italic"> Summary by stage</emphasis> section -</para>
          <orderedlist>
            <listitem>
              <para><emphasis role="italic">Visits scheduled (All)</emphasis> column is the number of events of all stages, includes overdue, skipped,  incomplete and complete events.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Visits done (#)</emphasis> column is the number of events  incomplete and complete.
</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Visits done (%)</emphasis> column is percent of  visits done (#) events / the number of all visits scheduled.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Forms completed</emphasis> column are the number of events completed.
</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Forms completed (%) </emphasis>column is percent of completed events / the number of all visits scheduled.</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Visits overdue (#)</emphasis> column is the number of overdue visits</para>
            </listitem>
            <listitem>
              <para><emphasis role="italic">Visits overdue (%)</emphasis> column is percent of visits overdue (#) / the number of all visits scheduled.</para>
            </listitem>
          </orderedlist>
        </section>
      </section>
      <section id="run_case_aggregation">
        <title>Manual person aggregation</title>
        <para>The <emphasis role="italic">Manual person Aggregation</emphasis> module is used for aggregating individual data and import into aggregated data element. </para>
        <para>To access <emphasis>Manual person aggregation</emphasis> module, from the <emphasis role="italic">Services</emphasis> menu, go to the <emphasis role="italic">Individual Records</emphasis> option. Select <emphasis role="italic">Manual Person Aggregation</emphasis> option on left menu.  <emphasis>Manual person aggregation form</emphasis> is opened as below -</para>
        <screenshot>
          <mediaobject>
            <imageobject>
              <imagedata width="70%" fileref="resources/images/patients_programs/person_aggregation_form.png" format="PNG"/>
            </imageobject>
          </mediaobject>
        </screenshot>
        <para>In the <emphasis>Person aggregation form</emphasis> above</para>
        <orderedlist>
          <listitem>
            <para>Select <emphasis role="italic">dataset</emphasis> from Dataset List to get aggregate values. Note that only datasets which were assigned to at least one organisation unit will be shown in this list.</para>
          </listitem>
          <listitem>
            <para>Select a date range  from <emphasis role="italic">From</emphasis> and <emphasis role="italic">To</emphasis> fields.</para>
          </listitem>
          <listitem>
            <para>Select <emphasis role="italic">organisation unit level</emphasis> where person data will be select to aggregate. There are 3 options - </para>
            <para>- <emphasis role="italic">All</emphasis>: Individual data  will be aggregated from both selected organisation unit and its children.</para>
            <para>- <emphasis role="italic">Children only</emphasis>: Individual data will be aggregated from the children of  the selected organisation unit .</para>
            <para>- <emphasis role="italic"> Selected</emphasis>: Individual  data will be aggregated from the selected organisation unit. </para>
          </listitem>
          <listitem>
            <para>Click on the 
<emphasis role="italic">Aggregate and Save</emphasis> button to execute aggregate function and save data values into database directly. Besides, click Preview button to preview data values and you can check/select any data values you want to input them into database. The <emphasis>Person aggregation result </emphasis>page is shown after running successfully.</para>
          </listitem>
        </orderedlist>
        <screenshot>
          <screeninfo>Figure - Person aggregation result</screeninfo>
          <mediaobject>
            <imageobject>
              <imagedata width="70%" fileref="resources/images/patients_programs/example_person_aggregation_result.png" format="PNG"/>
            </imageobject>
          </mediaobject>
        </screenshot>
        <para>In <emphasis>Manual person aggregation result</emphasis><emphasis role="italic"> preview</emphasis> page -</para>
        <itemizedlist>
          <listitem>
            <para>Click <emphasis role="italic">Save all values</emphasis> button to save all aggregated data values .</para>
          </listitem>
          <listitem>
            <para><emphasis role="italic"><emphasis role="italic">Click</emphasis> Orange arrow</emphasis> icon next to period name for showing list of aggregated data values at this period. Select only necessary data values and click <emphasis role="italic">Save</emphasis> selected values to save them</para>
          </listitem>
          <listitem>
            <para><emphasis><emphasis role="italic">Click </emphasis>Show details</emphasis> icon  to view detail  information which aggregated.</para>
          </listitem>
        </itemizedlist>
      </section>
    </section>
  </section>
</chapter>
<chapter>
<title>Setting up report functionality</title>
<section>
<title>Data sources for reporting</title>
<section>
<title>Types of data and aggregation</title>
<para>In the bigger picture of HIS terminology all data in DHIS are usually called aggregated as they are aggregates (e.g. monthly summaries) of medical records or some kind of service registers reported from the health facilities. Aggregation inside DHIS however, which is the topic here, is concerned with how the raw data captured in DHIS (through data entry or import)are further aggregated over time (e.g. from monthly to quarterly values) or up the organisational hierarchy (e.g. from facility to district values). 
</para>
<section>
<title>Terminology</title>
<itemizedlist>
<listitem>
<para><emphasis>Raw data</emphasis> refers to data that is registered into the DHIS 2 either through data entry or data import, and has not been manipulated by the DHIS aggregation process. All these data are stored in the table (or Java object if you prefer) called DataValue.
</para>
</listitem>
<listitem>
<para><emphasis>Aggregated data</emphasis> refers to data that has been aggregated by the DHIS 2, meaning it is no longer raw data, but some kind of aggregate of the raw data.</para>
</listitem>
<listitem>
<para><emphasis>Indicator values</emphasis> can also be understood as aggregated data, but these are special in the way that they are calculated based on user defined formulas (factor compile_help_content.sh datamodel.xml dhis2_bibliography.xml dhis2_database_schema.xml dhis2_database.xml dhis2_documentation_guide_book.xml dhis2_documentation_guide.xml dhis2_end_user_manual_ke.xml dhis2_end_user_manual.xml dhis2_implementation_guide_as_a_platform.xml dhis2_implementation_guide_conceptual_design_principles.xml dhis2_implementation_guide_data_analysis_tools_overview.xml dhis2_implementation_guide_data_elements_and_custom_dimensions.xml dhis2_implementation_guide_data_quality.xml dhis2_implementation_guide_data_sets_and_forms.xml dhis2_implementation_guide_data_warehouse.xml dhis2_implementation_guide_deployment_strategies.xml dhis2_implementation_guide_enduser_training.xml dhis2_implementation_guide_en.xml dhis2_implementation_guide_en.xml.~1~ dhis2_implementation_guide_en.xml.~2~ dhis2_implementation_guide_indicators.xml dhis2_implementation_guide_installation_detailed.xml.~1~ dhis2_implementation_guide_installation_detailed.xml.~2~ dhis2_implementation_guide_installation.xml dhis2_implementation_guide_integration.xml dhis2_implementation_guide_organisation_units.xml dhis2_implementation_guide_pivot_tables_and_mydatamart.xml dhis2_implementation_guide_recommendations.xml dhis2_implementation_guide_setting_up_new_database.xml dhis2_implementation_guide_short.xml dhis2_implementation_guide_support.xml dhis2_implementation_guide_users_and_user_roles.xml dhis2_localization_guide.xml dhis2_mobile_sms_data_entry.xml dhis2_preface.xml dhis2_r.xml dhis2_technical_architechture_guide.xml dhis2_user_man_creating_data_quality.xml dhis2_user_man_creating_gis.xml dhis2_user_man_creating_gis.xml.~1~ dhis2_user_man_creating_reporting.xml dhis2_user_man_dashboard.xml dhis2_user_man_data_administration.xml dhis2_user_man_data_dimensions.xml dhis2_user_man_data_elements.xml dhis2_user_man_data_entry.xml dhis2_user_man_dataset_design_example.xml dhis2_user_man_datasets_forms.xml dhis2_user_man_excel_reports.xml dhis2_user_man_excel_reports.xml.~1~ dhis2_user_man_getting_started_enduser_ke.xml dhis2_user_man_getting_started_enduser.xml dhis2_user_man_getting_started.xml dhis2_user_man_import_export.xml dhis2_user_man_indicators_intro.xml dhis2_user_man_indicators.xml dhis2_user_man_introduction.xml dhis2_user_man_mobile_web_based.xml dhis2_user_man_mobile.xml dhis2_user_man_NBITS.xml dhis2_user_man_orgunits.xml dhis2_user_man_settings.xml dhis2_user_manual_en.xml dhis2_user_manual_en.xml.~1~ dhis2_user_man_user_management.xml dhis2_user_man_using_data_quality.xml dhis2_user_man_using_data_visualizer.xml dhis2_user_man_using_data_visualizer.xml.~1~ dhis2_user_man_using_gis.xml dhis2_user_man_using_reporting.xml dhis2_user_man_web_api.xml dhis2_workbook.xml glossary_en.xml help_content.xml mydatamart_en.xml resources numerator/denominator). Indicator values are therefore processed data and not raw data, and are located in the aggregatedindicatorvalue table/object. Indicators are calculated at any level of the organisational hierarchy and these calculations are then based on the aggregated data values available at each level. A level attribute in the aggregateddatavalue table refers to the organisational level of the orgunit the value has been calculated for.
</para>
</listitem>
<listitem>
<para>
<emphasis>Period and Period type</emphasis> are used to specify the time dimension of the raw or aggregated values, and data can be aggregated from one period type to another, e.g from monthly to quarterly, or daily to monthly. Each data value has one period and that period has one period type. E.g data values for the periods Jan, Feb, and Mar 2009, all of the monthly period type can be aggregated together to an aggregated data value with the period Q1 2009 and period type Quarterly.
</para>
</listitem>
</itemizedlist>
</section>
<section>
<title>Basic rules of aggregation</title>
<section>
<title>What is added together</title>
<para>Data (raw) can be registered at any organisational level, e.g. at at national hospital at level 2, a health facility at level 5, or at a bigger PHC at level 4. This varies form country to country, but DHIS is flexible in allowing data entry or data import to take place at any level. This means that orgunits that themselves have children can register data, sometimes the same data elements as their children units. The basic rule of aggregation in DHIS 2 is that <emphasis>all raw data is aggregated together</emphasis>, meaning data registered at a facility on level 5 is added to the data registered for a PHC at level 4.</para>
<para>
It is up to the user/system administrator/designer to make sure that no duplication of data entry is taking place and that e.g. data entered at level 4 are not about the same services/visits that are reported by orgunit children at level 5. NOTE that in some cases you want to have duplication of data in the system, but in a controlled manner. E.g. when you have two different sources of data for population estimates, both level 5 catchment population data and another population data source for level 4 based on census data (because sum of level 5 catchments is not always the same as level 4 census data). Then you can specify using advanced aggregation settings (see further down) that the system should e.g. not add level 5 population data to the level 4 population data, and that level 3,2,1 population data aggregates are only based on level 4 data and does not include level 5 data.</para>
</section>
<section>
<title>How data gets added together</title>
<para>How data is aggregated depends on the dimension of aggregation (see further down).</para>
<para>Along the orgunit level dimension data is always summed up, simply added together. Note that raw data is never percentages, and therefore can be summed together. Indicator values that can be percentages are treated differently (re-calculated at each level, never summed up).</para>
<para>
Along the time dimension there are several possibilities, the two most common ways to aggregate are sum and average. The user can specify for each data element which method to use by setting the aggregation operator (see further down). Monthly service data are normally summed together over time, e.g. the number of vaccines given in a year is the sum of the vaccines given for each month of that year. For population, equipment, staff and other kind of what is often called semi-permanent data the average method is often the one to use, as, e.g. &apos;number of nurses&apos; working at a facility in a year would not be the sum of the two numbers reported in the six-monthly staffing report, but rather the average of the two numbers. More details further down under &apos;aggregation operators&apos;. 
</para>
</section>
</section>
<section>
<title>Dimensions of aggregation</title>
<section>
<title>Organisational units and levels</title>
<para>Organisational units are used to represent the &apos;where&apos; dimension associated with data values. In DHIS 2, organisational units are arranged in a hierarchy, which typically corresponds to the hierarchical nature of the organisation or country. Organisational unit levels correspond to the distinct levels within the hierarchy. For instance, a country may be organized into provinces, then districts, then facilities, and then sub-centers. This organisational hierarchy would have five levels. Within each level, a number of organisational units would exist. During the aggregation process, data is aggregated from the lower organisational unit levels to higher levels. Depending on the aggregation operator, data may be &apos;summed&apos; or &apos;averaged&apos; within a given organisational unit level, to derive the aggregate total for all the organisational units that are contained within a higher level organisational unit level. For instance, if there are ten districts contained in a province and the aggregation operator for a given data element has been defined as &apos;SUM&apos;, the aggregate total for the province would be calculated as the sum of the values of the individual ten districts contained in that province.</para>
</section>
<section>
<title>Period</title>
<para>Periods are used to represent the &apos;when&apos; dimension associated with data values. Data can easily be aggregated from weeks to months, from months to quarters, and from quarters to years. DHIS 2 uses known rules of how these different intervals are contained within other intervals (for instance Quarter 1 2010 is known to contain January 2010, February 2010 an March 2010) in order to aggregate data from smaller time intervals, e.g. weeks, into longer time intervals, e.g. months. </para>
</section>
<section>
<title>Data Elements and Categories</title>
<para>The data element dimension specifies &apos;what&apos; is being recorded by a particular data value. Data element categories are actually degenerated dimensions of the data element dimension, and are used to disaggregate the data element dimension into finer categories. Data element categories, such as &apos;Age&apos; and &apos;Gender&apos;, are used to record a particular data element, typically for different population groups. These categories can then be used to calculate the overall total for the category and the total of all categories. </para>
</section>
</section>
<section>
<title>Aggregation operators, methods for aggregation</title>
<section>
<title>Sum</title>
<para>The &apos;sum&apos; operator simply calculates the sum of all data values that are contained within a particular aggregation matrix. For instance, if data is recorded on a monthly basis at the district level and is aggregated to provincial quarterly totals, all data contained in all districts for a given province and all weeks for the given quarter will be added together to obtain the aggregate total.</para>
</section>
<section>
<title>Average</title>
<para>When the average aggregation operator is selected, the unweighted average of all data values within a given aggregation matrix are calculated. </para>
<para>It is important to understand how DHIS 2 treats null values in the context of the average operator. It is fairly common for some organisational units not to submit data for certain data elements. In the context of the average operator, the average results from the number of data elemements that are actually present (therefore NOT NULL) within a given aggregation matrix. If there are 12 districts within a given province, but only 10 of these have submitted data, the average aggreate will result from these ten values that are actually present in the database, and will not take into account the missing values. </para>
</section>
</section>
<section>
<title>Advanced aggregation settings (aggregation levels)</title>
<section>
<title>Aggregation levels</title>
<para>The normal rule of the system is to aggregate all raw data together when moving up the organisational hierarchy, and the system assumes that data entry is not being duplicated by entering the same services provided to the same clients at both facility level and also entering an &apos;aggregated&apos; (sum of all facilities) number at a higher level. This is to more easily facilitate aggregation when the same services are provided but to different clients/catchment populations at facilities on level 5 and a PHC (the parent of the same facilities) at level 4. In this way a facility at level 5 and a PHC at level 4 can share the same data elements and simply add together their numbers to provide the total of services provided in the geographical area.</para>
<para>Sometimes such an aggregation is not desired, simply because it would mean duplicating data about the same population. This is the case when you have two different sources of data for two different orgunit levels. E.g. catchment population for facilities can come from a different source than district populations and therefore the sum of the facility catchment populations do not match the district population provided by e.g. census data. If this is the case we would actually want duplicated data in the system so that each level can have as accurate numbers as possible, but then we do NOT want to aggregate these data sources together.
</para>
<para>In the Data Element section you can edit data elements and for each of them specify how aggregation is done for each level. In the case described above we need to tell the system NOT to include facility data on population in any of the aggregations above that level, as the level above, in this case the districts have registered their population directly as raw data. The district population data should then be used at all levels above and including the district level, while facility level should use its own data.</para>
</section>
<section>
<title>How to edit data element aggregation</title>
<para>This is controlled through something called aggregation levels and at the end of the edit data element screen there is a tick-box called Aggregation Levels. If you tick that one you will see a list of aggregation levels, available and selected. Default is to have no aggregation levels defined, then all raw data in the hierarchy will be added together. To specify the rule described above, and given a hierarchy of Country, Province, District, Facility: select Facility and District as your aggregation levels. Basically you select where you have data. Selecting Facility means that Facilities will use data from facilities (given since this is the lowest level). Selecting District means that the District level raw data will be used when aggregating data for District level (hence no aggregation will take place at that level), and the facility data will not be part of the aggregated District values. When aggregating data at Province level the District level raw data will be used since this is the highest available aggregation level selected. Also for Country level aggregates the District raw data will be used. Just to repeat, if we had not specified that District level was an aggregation level, then the facility data and district data would have been added together and caused duplicate (double) population data for districts and all levels above.</para>
</section>
</section>
</section>
<section>
<title>Data mart</title>
<para>The purpose of the data mart is to provide pre-processed data to external data analysis and reporting tools. The data mart consists of two tables, aggregateddatavalues and aggregatedindicatorvalues in the DHIS 2 database. The values in the data mart are aggregated versions of the raw data found in the datavalue table as well as calculated indicator values. Aggregation can take place over time (e.g. from monthly data to aggregated quarterly values), or along the organisation unit hierarchy levels (e.g. from PHU data to aggregated district totals). The data mart can store all kinds of such aggregated values. The data mart is as such just a processed &apos;copy&apos; of the data values and it can be emptied and regenerated at any time, and the tables are read only tables. The metadata in the two data mart tables are referenced by internal identifiers, such as dataelementid, organisationunitid which refer to the tables like dataelement and organisationunit, see &apos;How to make use of the data mart in external tools&apos; for more on this. </para>
<section>
<title>The data mart export process</title>
<para>The DHIS2 Data Mart handles the aggregation of data across multiple dimensions (organisation unit hierarchy, orgunit group hierarchy, time, etc) and can be controlled through this interface. Select the organisation unit levels which should be aggregated, the start date and end date, and press &quot;Start export&quot;. The data mart process will be executed in the background, and a full report of the export process will be updated regularly so that you can determine the state of the process. See the section on &quot;Scheduling&quot; in the data administration module for information on how this process can be triggered to run automatically.</para>
<screenshot>
<mediaobject>
<imageobject>
<imagedata width="60%" align="center" fileref="resources/images/dhis2_creating_reporting/datamart.png"/>
</imageobject>
</mediaobject>
</screenshot>
<section>
<title>Data element categories in the data mart</title>
<para>Each data value for a data element has a reference to a category option combo, which is a combination of the disaggregations for the data value, e.g. (male,&lt;5y) or (In PHU, &lt;1y). These disaggregations are exported as they are to the data mart, and no aggregation is done on this dimension. See the data elements section for more on data element categories and the resource tables section for more information on how to do aggregation on these categories.</para>
</section>
<section>
<title>Adding new data to an existing data mart</title>
<para>When you add new data to an existing data mart the new values will be appended to the existing so that the data mart grows for each new process if new selections (such as new periods) have been made. If any of the selected values are already in the data mart, then the old will be replaced by the newly generated values. </para>
</section>
</section>
</section>
<section>
<title>Resource tables</title>
<para>Resource tables provide additional information about the dimensions of the data in a format that is well suited for external tools to combine with the data mart tables. By joining the data mart with these resource tables one can easily aggregate along the data element category dimension or data element/indicator/organisation unit groups dimensions. E.g. by tagging all the data values with the category option male or female and provide this in a separate column &apos;gender&apos; one can get subtotals of male and female based on data values that are collected for category option combinations like (male, &lt;5) and (male,&gt;5). See the Pivot Tables section for more examples of how these can be used.

orgunitstructure is another important table in the database that helps to provide the hierarchy of orgunits together with the data. By joining the orgunitstructure table with the data mart tables you can get rows of data values with the full hierarchy, e.g. on the form:
OU1, OU2, OU3, OU4, DataElement, Period, Value
(Sierra Leone, Bo, Badija, Ngelehun CHC, BCG &lt;1, Jan-10, 32)

This format makes it much easier for e.g. pivot tables or other OLAP tools to aggregate data up the hierarchy.
</para>
</section>
<section id="reportTable">
<title>Report tables</title>
<para>Report tables are defined, cross-tabulated reports which can be used as the basis of further reports, such as Excel Pivot Tables or simply downloaded as an Excel sheet. Report tables are intended to provide a specific view of data which is required, such as &quot;Monthly National ANC Indicators&quot;. This report table might provide all ANC indicators for a country, aggregated by month for the entire country. This data could of course be retrieved from the main datamart, but report tables generally perform faster and present well defined views of data to users. </para>
<important>
<para> It is therefore important to keep in mind that when the aggregation strategy of the system is set to &quot;Batch&quot;, the data for each report table must also be present in the data mart. </para>
</important>
</section>
</section>
<section>
<title>How to create report tables</title>
<para>To create a new report table, go to the Report tables section of the Reports module (Reports -&gt; Report Table). Above the list of standard reports, use the &quot;Add report table&quot; or &quot;Add Dataelement Dimension Table&quot; buttons. A regular report table can be used to hold data on data elements, indicators or dataset completeness, while Dataelement dimension tables are used to include data element categories in report tables. Creating the tables are done in the same way, however, the only exception being when choosing data.</para>
<para>To create a report table, you start by making some general choices for the table, the most important of which is the crosstab dimension. Then, you choose which data elements, indicators, datasets or data element dimensions you want to include. Finally you select which organisation units and time periods to use in the report table. Each of these steps are described in detail below.</para>
<section>
<title>General options</title>
<screenshot>
<screeninfo>Report table options</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/dhis2_creating_reporting/general_options.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="bold">Cross tab dimensions</emphasis></para>
<para>You can cross-tab one or more of the following dimensions: data element/indicator, orgunit, and period, which means that columns will be created based on the values of the dimensions chosen, e.g. if indicators is selected you will get column names in the table reflecting the names of the selected indicators. </para>
<para>
For example, if you cross-tab on indicators and periods, the column headers will say &quot;&lt;indicator title&gt; &lt;period&gt;&quot;. The organisation units will be listed as rows. See screenshot for clarification:
</para>
<screenshot>
<screeninfo>Indicators and periods are cross-tabbed</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/dhis2_creating_reporting/crosstab_ind-per.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>
If you cross-tab on indicators and organisation units, the column headers of the table will say &quot;&lt;indicator title&gt; &lt;organisation unit&gt;&quot;. Now the periods will be listed as rows. See screenshot for clarification:
</para>
<screenshot>
<screeninfo>Indicators and organisation units are cross-tabbed</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/dhis2_creating_reporting/crosstab_ind-org.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Note that the options made here regarding crosstab dimensions may have consequences for what options are available when using the report table as a data source later, for example for standard reports.</para>
<para><emphasis role="bold">Sort order</emphasis></para>
<para>Affects the rightmost column in the table, allows you to choose to sort it low to high or high to low.</para>
<para><emphasis role="bold">Top limit</emphasis></para>
<para>Top limit allow you to set a maximum number of rows you want to include in the report table.</para>
<para><emphasis role="bold">Include regression</emphasis></para>
<para>This adds additional columns with regression values that can be included in the report design, e.g. in line charts.</para>
</section>
<section>
<title>Selecting data</title>
<screenshot>
<screeninfo>Data options</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/dhis2_creating_reporting/select_data.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="bold">Indicators/Data elements</emphasis></para>
<para>Here you select the data elements/indicators that you want to include in the report. Use the group filter to more easily find what you are looking for and double click on the items you want to include, or use the buttons to add/remove elements. You can have both data elements and indicators in the same report.</para>
<para><emphasis role="bold">Data sets</emphasis></para>
<para>Here you select the data sets that you want to include in the report. Including a data set will give you data on the data completeness of the given set, not data on its data elements. Double click on the items you want to include, or use the buttons. </para>
</section>
<section>
<title>Selecting report parameters</title>
<screenshot>
<screeninfo>Report parameter options</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/dhis2_creating_reporting/relative_options.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>There are two ways to select both what organisation units to include in a report, and what time periods should be included: relative, or fixed. Fixed organisation units and/or periods means that you select the units/periods to include in the report table when you create the report table. Using relative periods, you can select the time and/or units as parameters when the report table is populated, for example when running a standard report or creating a chart. A combination is also possible, for example to add some organisation units in the report permanently while letting the users choose additional. Report parameters is discussed below. In general, using fixed organisation units and/or time periods are an unnecessary restriction.</para>
<para><emphasis role="bold">Fixed Organisation Units</emphasis></para>
<para>To add fixed organisation units, click &quot;Toggle fixed organisation units&quot;. A panel will appear where you can choose orgunits to always include in the report. If you leave it blank, the users select orgunits when running the report through the use of report parameters. Use the drop down menu to filter organisation units by level, double click or use the buttons to add/remove.</para>
<para><emphasis role="bold">Fixed Periods</emphasis></para>
<para>To add fixed periods, click &quot;Toggle fixed organisation units&quot;. A panel will appear where you can choose periods to always include in the report. If you leave it blank, the users select periods when running the report through the use of report parameters. Use the drop down menu to choose period type (week, month, etc), the Prev and Next button to choose year, and double click or use the buttons to add/remove.</para>
<para><emphasis role="bold">Relative periods</emphasis></para>
<para>Instead of using fixed/static periods like &apos;Jan-2010&apos; or &apos;Q1-2010&apos;, more generic periods can be used to create reusable report tables, e.g. for monthly reports the period &apos;Reporting month&apos; will simply pick the current reporting month selected by the user when running the report. Note that all relative periods are relative to a &quot;reporting month&quot;. The reporting month is either selected by the users, otherwise the current month is used. Here is a description of the possible relative periods:

</para>
<itemizedlist>
<listitem>
<para><emphasis role="italic">Reporting month:</emphasis></para>
<para>Use this for monthly reports. The month selected in the reporting month parameter will be used in the report.
</para>
</listitem>
<listitem>
<para><emphasis role="italic">Months/Quarters this year</emphasis>: </para>
<para>This will provide one value per month or quarter in the year. This is well suited for standard monthly or quarterly reports where all month/quarters need to be listed. Periods that still have no data will be empty, but will always keep the same column name.
</para>
</listitem>
<listitem>
<para><emphasis role="italic">This year:</emphasis> </para>
<para>This is the cumulative so far in the year, aggregating the periods from the beginning of the year up to and including the selected reporting month.
</para>
</listitem>
<listitem>
<para><emphasis role="italic">Months/Quarters last year</emphasis>: </para>
<para>This will provide one value per month or quarter last year, relative to the reporting month. This is well suited for standard monthly or quarterly reports where all month/quarters need to be listed. Periods that still have no data will be empty, but will always keep the same column name.
</para>
</listitem>
<listitem>
<para><emphasis role="italic">Last year:</emphasis> </para>
<para>This is the cumulative last year, relative to the reporting month, aggregating all the periods from last year.
</para>
</listitem>
</itemizedlist>
<para><emphasis role="bold">Example - relative periods</emphasis></para>
<para>Let&apos;s say we have chosen three indicators: A, B and C, and we have also chosen to use the relative periods &apos;Reporting month&apos; and &apos;This year&apos; when we created the report table. If the reporting month (selected automatically or by the user) is for example May 2010, the report table will calculate the values for the three selected indicators for May 2010 (= the &apos;Reporting month&apos;) and the accumulated values for the three selected indicators so far in 2010 (= so far &apos;This year&apos;).</para>
<para>Thus, we will end up with six values for each of the organisation units: &quot;Indicator A May 2010&quot;, &quot;Indicator B May 2010&quot; &quot;Indicator C May 2010&quot;, &quot;Indicator A so far in 2010&quot;, &quot;Indicator B so far in 2010&quot; and &quot;Indicator C so far in 2010&quot;.</para>
<para><emphasis role="bold">Report parameters</emphasis></para>
<para>Report parameters make the reports more generic and reusable over time and for different organisation units. These parameters will pop up when generating the report table or running a report based on the report table. The users will select what they want to see in the report. There are four possible report parameters, and you can select none, all, or any combination.</para>
<itemizedlist>
<listitem>
<para><emphasis role="italic">Reporting month:</emphasis> </para>
<para>This decides which month will be used when the system is choosing the relative periods. If the box it not checked, the user will not be asked for the reporting month when the report is generated - the current month will then be used.
</para>
</listitem>
<listitem>
<para><emphasis role="italic">Grand parent organisation unit:</emphasis> </para>
<para>Select the grand parent of all the orgunit children and grand children you want listed in the report. E.g. a selected region will trigger the use of the region itself, all its district, and all their sub-districts.
</para>
</listitem>
<listitem>
<para><emphasis role="italic">Parent organisation unit:</emphasis> </para>
<para>Select the parent of all the orgunit children you want listed in the report. E.g. a selected district will trigger the use of the district itself and all its children/sub-districts.
</para>
</listitem>
<listitem>
<para><emphasis role="italic">Organisation unit:</emphasis> </para>
<para>This triggers the use of this orgunit in the report. No children are listed.
</para>
</listitem>
</itemizedlist>
<para><emphasis role="bold">Example - report parameters</emphasis></para>
<para>Continuing with the example on relative periods just above, let&apos;s say that in addition to &apos;Reporting month&apos;, we have chosen &apos;Parent organisation unit&apos; as a report parameter when we created the report table. When we&apos;re running the report table, we will be asked to select an organisation unit. Now, let&apos;s say we choose &quot;Region R&quot; as the organisation unit. &quot;Region R&quot; has the children &quot;District X&quot; and &quot;District Y&quot;.</para>
<para>When the report is run, the system will aggregate data for both &quot;District X&quot; and &quot;District Y&quot;. The data will be aggregated from the lowest level where they have been collected. The values for the districts will be aggregated further to give an aggregated value for &quot;Region R&quot;.</para>
<para>Thus, the report table will generate the six values presented in the previous example, for &quot;District X&quot;, &quot;District Y&quot; and &quot;Region R&quot;.</para>
</section>
<section>
<title>Data element dimension tables</title>
<para>These tables enable the use of data element categories in report tables. There are two differences from regular report tables. The first is that it is not possible to select crosstab dimensions, as the columns will always be the disaggregations from the category combinations. The other is the actual choice of data. Only one category combination can be added per report, and only data elements from the same category combo can be selected. </para>
<para>Subtotals and the total will also be included in the table, e.g. a gender (male, female) + EPI age(&lt;1, &gt;1) category combo would give the following columns:
male+&lt;1, male+&gt;1, Female+&lt;1, female+&gt;1, male, female,&lt;1, &gt;1, total.

</para>
<para><emphasis role="bold">Selecting data</emphasis></para>
<screenshot>
<screeninfo>Selecting category combinations</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/dhis2_creating_reporting/catcombo.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Use the drop down menu to choose category combinations. The data elements using this category combination will be listed. Double click to add to the report, or use the buttons.
</para>
</section>
<section>
<title>Report table - best practices</title>
<para>To make the report tables reusable over time and across orgunits they can have parameters. Four types of parameters are allowed; orgunit, parent orgunit (for listing of orgunits in one area), grand parent orgunit and reporting month. As a side note it can be mentioned that we are looking into expanding this to include reporting quarter and year, or to make that period parameter more generic with regard to period type somehow. The ability to use period as a parameter makes the report table reusable over time and as such fits nicely with report needs such as monthly, quarterly or annual reports. When a report is run by the user in DHIS 2, the user must specify the values for the report tables that are linked to the report. First the report table is re-generated (deleted and re-created with updated data), and then the report is run (in the background, in Jasper report engine).

</para>
<para>Report tables can consist of values related to data elements, indicators or data completeness, which is related to completeness of reporting across orgunits for a given month. Completeness reports will be covered in a separate section.</para>
<para>There are three dimensions in a report table that identify the data; indicators or data elements, orgunits and periods. For each of these dimensions the user can select which metadata values to include in the report. The user must select one or more data elements or indicators to appear in the report. The orgunit selection can be substituted with a parameter, either one specific orgunit or an orgunit parent (making itself and all its children appear in the report). If one or more orgunits are selected and no orgunit parameter is used, then the report is static with regard to which orgunits to include, which in most cases is an unnecessary restriction to a report.</para>
<para><emphasis role="bold">Using relative periods</emphasis></para>
<para>The period selection is more advanced as it can in addition to specific periods like Jan-09, Q1-08, 2007 also contain what is called relative periods. As report usually is run routinely over time a specific period like Jan-09 is not very useful in a report. Instead, if you want to design a monthly report, you should use the relative period called Reporting Month. Then you must also include Reporting Month as one of your report parameters to let the system know what exactly is the Reporting Month on the time of report generation. There are many other relative periods available, and they all relate to the report parameter Reporting Month. E.g. the relative period called So far this year refers to the accumulative value for the year incl. the Reporting Month. If you want a trend report with multiple periods in stead of one aggregated period, you can select e.g. &apos;Months this year&apos;, which would give you values for each month so far in the year. You can do a similar report with quarters. The idea is to support as many generic report types as possible using relative periods, so if you have other report needs, please suggest new relative periods on the mailing list, and they might be added to the report table options.</para>
<para><emphasis role="bold">Cross-tabbing dimensions</emphasis></para>
<para>Cross tabbing is a very powerful functionality in report design, as the typical DHIS 2 data table with references to period, data element/indicator and orgunit makes more advanced report design very difficult, as you cannot put e.g. specific indicators, periods or orgunits on specific columns. E.g. by cross-tabbing on the indicator dimension in an indicator report table you will get the indicator names on the column headers in your report, in addition to a column referencing orgunit, and another column referencing period. With such a table design you could drag and drop indicator names to specific columns or chart positions in the iReport software. Similarly you can cross tab on orgunits or periods to make their names specifically available to report design. E.g. by cross-tabbing on periods and selecting the two relative periods &apos;Reporting month&apos; and &apos;This year&apos;, you can design reports with both the last month and the accumulative annual value for given month as they will be available as column headers in your report table. It is also possible to combine two dimensions in cross-tabbing, e.g. period and indicator, which makes it possible to e.g. look at three selected indicators for two specific relative periods. This would e.g. make it possible to make a table or chart based report with BCG, DPT3 and Measles coverage, both for the last month and the accumulative coverage so far in the year. 

</para>
<para>All in all, by combining the functionality of cross tabbing, relative periods and report table parameters you should have a tool to support most report scenarios. If not, we would be very happy to receive suggestions to further improvements to report tables. As already mentioned, we have started to look at more fine-grained parameters for the period dimension as the &apos;Reporting month&apos; does not cover enough, or at least is not intuitive enough, when it comes to e.g. quarterly reports.
</para>
</section>
</section>
<section>
<title>Report table outcome</title>
<para>
When the report table is run, the system will calculate values for specified indicators/data elements/data sets, orgunits and periods. The data will be presented in DHIS 2 in a table layout. The column headers will correspond to the cross-tab dimension you have selected. An example report table showing ANC coverage for a district in The Gambia, is shown below. Here the indicator and the periods are cross-tabbed, as can be seen from the column headers.
</para>
<screenshot>
<screeninfo>Example report table</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/dhis2_creating_reporting/crosstab_ind-per.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>
Above the table there are six buttons; five download buttons and one Back button. Clicking the Back button will simply take you back to the previous screen. The function of the five download buttons, are presented below the screenshot:
</para>
<screenshot>
<screeninfo>The download buttons</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2_creating_reporting/report-table_output.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="bold">The five download buttons</emphasis></para>
<itemizedlist>
<listitem>
<para><emphasis role="italic">Download as Excel:</emphasis></para>
<para>Downloads a generated Excel file you can open in Excel.</para>
</listitem>
<listitem>
<para><emphasis role="italic">Download as CSV:</emphasis></para>
<para>Downloads a generated .csv file. CSV stands for <emphasis role="bold">C</emphasis>omma <emphasis role="bold">S</emphasis>eparated <emphasis role="bold">V</emphasis>alues. It&apos;s a text file with the file ending .csv. Each line in the file corresponds to a row in the table, while the columns are separated with semi colons (;). The file can be opened in a text editor as well as in a spread sheet program (such as Excel).</para>
</listitem>
<listitem>
<para><emphasis role="italic">Download as PDF:</emphasis></para>
<para>Downloads a generated pdf file. The data will be presented in a similar layout as the generated table you are already viewing in DHIS 2.</para>
</listitem>
<listitem>
<para><emphasis role="italic">Download as Report:</emphasis></para>
<para>Downloads a &quot;styled&quot; pdf file. In addition to present the data in a table layout, this file also presents a chart, showing the aggregated data from all the chosen periods and the parent organisation unit chosen for the report table. The report is generated using the Jasper report engine.</para>
</listitem>
<listitem>
<para><emphasis role="italic">Download as JRXML:</emphasis></para>
<para>Downloads the design file for the generated Report described in the previous bullet. The design file (with the file ending .jrxml) can be opened in the Jasper iReport Designer software. If you plan to design standard reports, this is the starting point.</para>
</listitem>
</itemizedlist>
</section>
<section>
<title>Standard reports</title>
<section>
<title>What is a standard report?</title>
<para>A standard report is a manually designed report that presents manually chosen data in a manually specified layout. Still, it&apos;s highly flexible, as it can be designed to be reused over and over again, by making use of the powerful report tables.</para>
<para>A standard report can present any value from any table in the DHIS 2 database, but for the report design, we want the reports to be flexible, so we want to connect the reports to tables that changes through time. The report tables are therefore ideal for the report design.</para>
</section>
<section>
<title>Designing Standard reports in iReport</title>
<para>Jasper iReport Designer is a tool for creating reports that can be used as Standard Reports in DHIS 2. The tool allows for the creation of standard report templates that can easily be exported from DHIS 2 with up to date data. The process of creating reports involves four major steps:</para>
<orderedlist>
<listitem>
<para>A report table must be created in DHIS 2 with the indicators/data elements/datasets to be used in the report.</para>
</listitem>
<listitem>
<para>You have to run the report table and download the design file (Click the &quot;Download as JRXML&quot; button).</para>
</listitem>
<listitem>
<para>Open the downloaded .jrxml file using the free software Jasper iReport Designer to edit the layout of the report.</para>
</listitem>
<listitem>
<para>The edited report can then be uploaded to DHIS 2 to be used as a standard report.</para>
</listitem>
</orderedlist>
<para>If you want to preview your report during the design in iReport, you actually have to upload your file to DHIS 2 to see how it looks.</para>
<para>These four steps will be describe in detail in the coming sections. In general, when you are making standard reports you should have a clear idea of how it should look before you even make the report table, as how the report table is designed has implications for how the report can be formatted in iReport. For example, what crosstab dimensions are selected in the report table has consequences for what crosstabs are available for the standard report, and it has consequences for what types of charts you can make.</para>
<section>
<title>Download and open the design file</title>
<para><emphasis>Note: If you have not created a report table yet, you have to do so. See section &quot;How to create report tables&quot; to do so.</emphasis></para>
<para>Locate your desired report table and run it by clicking the green circle with a white arrow inside. When the report is shown, click the &quot;Download as JRXML&quot; button to download the design file. Then open that file in the Jasper iReport Designer software.</para>
</section>
<section>
<title>Editing the report</title>
<para>You are now ready to edit the layout of the report. The main iReport window consists of a &quot;Report Inspector&quot; to the left, the report document in the middle, a &quot;Palette&quot; area on the upper right hand side and a &quot;Properties&quot; area on the lower right hand side. The &quot;Report Inspector&quot; are used for selecting and examining the various properties of the report, and when selecting an item in the inspector, the &quot;Properties&quot; panel changes to display properties relating to the selection. The &quot;Palette&quot; is used for adding various elements, e.g. text boxes, images and charts to the document. 
</para>
<screenshot>
<screeninfo>Overview of the main iReport window</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="100%" fileref="resources/images/dhis2_creating_reporting/ireport/iReport-window.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis>Note: If you cannot see the Palette or Properties sidebar, you can enable them from the menu item called &quot;Window&quot; on the menu bar.</emphasis></para>
<para>The iReport document is divided into seven main bands, divided by layout separators (the blue lines). These lines are used to decide how big each of the areas should be on the report. 
</para>
<para>The areas all have different purposes:
</para>
<itemizedlist>
<listitem>
<para>Title - area for the title of the report</para>
</listitem>
<listitem>
<para>Page header - area for the page header</para>
</listitem>
<listitem>
<para>Column header - area for column headers (for the table)</para>
</listitem>
<listitem>
<para>Detail 1 - area where the actual report data will be placed</para>
</listitem>
<listitem>
<para>Column footer - area to make footer of the table</para>
</listitem>
<listitem>
<para>Page footer - area for the page footer</para>
</listitem>
<listitem>
<para>Summary - elements in this area will be placed at the end of the report</para>
</listitem>
</itemizedlist>
<para>By default you will see that only the Title, Column Header and the Detail 1 bands have data.
For most reports this is OK. The Title band is suitable for a title and e.g. a chart. 
Data fields entered into the Detail 1 area will be iterated over to create a table. 
For example, if a field called &quot;datalementname&quot; is placed in the Detail 1 band,
all data elements in the report table will be listed here. 
We&apos;ll come back to data fields management just a little below.</para>
<para>The unused bands in the report are shrinked to add more space for your report data. You can
however increase/decrease the band height as you like. There are two ways to do that. The first way is simply to drag the blue band-line as shown below.</para>
<screenshot>
<screeninfo>Drag the blue lines to change the band heights</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="66%" fileref="resources/images/dhis2_creating_reporting/ireport/17_drag.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The other way to adjust the band height is to select a band in the 
&quot;Report Inspector&quot;, and then adjust the &quot;Band height&quot; value in the 
&quot;Detail 1 - properties&quot; area in the lower right corner.</para>
<screenshot>
<screeninfo>Adjust the size of layout areas by changing the Band height property</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/dhis2_creating_reporting/ireport/18_adjust.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>As the fields are already present on the report, you probably don&apos;t want to do anything
than just fix the layout and drag fields around. You can also resize the fields by dragging the side, top or bottom lines. If you want to change the text in the column headers, you simply double click the field and change the text.</para>
<para>To add the a field to the table, we simply drag it to the Detail 1 band from the &quot;Report Inspector&quot;. The column header will be added automatically.</para>
<para>By double clicking the box, the text can be edited. The format of the text, such as size, font and alignment, can be adjusted with the tools above the document.</para>
<screenshot>
<screeninfo>Double click to edit the text, and change its appearance</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/dhis2_creating_reporting/ireport/21_title_edit.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para><emphasis role="bold">
<emphasis role="italic">
<emphasis role="bold">
<emphasis role="bold">
<emphasis>
<emphasis role="bold">NOTE: Fields starting with &quot;$F&quot; present values that are retrieved from the database every time the report is run. The values here will vary, so do not change these fields unless you want a static value here!</emphasis>
</emphasis>
</emphasis>
</emphasis>
</emphasis>
</emphasis></para>
</section>
<!-- New part on advanced iReporting, replacing Charts section --> <section>
<title>Text</title>
<para>
There are two types of text in iReport: «Text labels» and «Text fields» (data fields). They work in different ways, and should be used for different purposes. The main point is that text fields are just placeholders that will be filled with the correct text from the report table when the report is run, while text labels will stay the way they are when the report is run.</para>
<section>
<title>Static text</title>
<para>Static text are text plain text labels that can be edited normally. There are two ways to edit text labels: </para>
<itemizedlist>
<listitem>
<para>By double clicking in the text box</para>
</listitem>
<listitem>
<para>By using the Static text properties in the Properties panel</para>
</listitem>
</itemizedlist>
<screenshot>
<screeninfo>Click to edit text label</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="30%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_01.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section>
<title>Text fields</title>
<para>Text fields are formulas that will be filled from the report table when the report is run. Unlike static text, these can not be edited in a normal way. However, they can be manipulated in various ways to ensure that the desired output will be produced. There are three ways to edit the text fields:</para>
<para/>
<itemizedlist>
<listitem>
<para>By right clicking on the text box and selecting Edit expression</para>
</listitem>
<listitem>
<para>By double clicking the text field (not recommended, as this will not bring up the expression editor)</para>
</listitem>
<listitem>
<para>By using the Text field properties in the Properties panel</para>
</listitem>
</itemizedlist>
<screenshot>
<screeninfo>Click to open Expression editor</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="30%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_04.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Click to open Expression editor</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="30%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_06.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Text fields can represent either numbers or text, so that they can be used both for showing for example names of district or for numeric values. It is therefore important the the Expression class, seen in the Text field properties matches the Text field expression. For the default text fields in the .jrxml file downloaded from DHIS 2 this is not a problem, but it is important when making new text fields. The two most important Expression classes are java.lang.Double for numbers and java.lang.String for text.</para>
<para/>
<section>
<title>Example</title>
<para>For example, let us say you have a quarterly report where you would like to add a new column with the yearly total. You therefore add a new Static text field to the column header band, and a Text field to the details band in. By default, new Text fields are set to java.lang.String (text). However, the yearly total column will be filled with numbers. We therefore have to change the Expression class for the new text field to java.lang.Double:</para>
<screenshot>
<screeninfo>Click to show expression class options</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="30%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_07.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Choose desired class</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="30%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_08.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>When we edit the text field expression, we see the Expression editor window with all the available columns from the report table. We can see here that each of these are marked with what type they are - text or number. What we need to make sure of is therefore that the expression class we choose for the text field matches the actual expression.</para>
<screenshot>
<screeninfo>Expression editor</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_10.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</section>
</section>
<section>
<title>Filtering the table rows</title>
<para>In the default table exported from DHIS 2, there are some rows that it might be better to leave out of the table, and some that it would be preferable to have at the end. For example, when making a table based on a report table with the «parent organisation unit» parameter, the default table might have a row with the national level somewhere in between all the regions. In iReport, this can be changed so that the «parent organisation unit» appears at the bottom of the table. This involves two steps that will be explained below. Note that this will not work where there is only one organisation units, and it is therefore most useful when using the «parent organisation unit» or «grand parent organisation unit» parameters in the report table.</para>
<section>
<title>Hiding the «parameter organisation unit» from the table</title>
<para>We exclude the &quot;paramter organisation unit&quot; from the table by using a property in the Details band called &quot;Print when expression&quot;. To set a Print when expression, start by selecting the Detail band in the Report inspector, then edit the Print when expression in the properties panel.</para>
<screenshot>
<screeninfo>Select Detail 1 in the Report Inspector</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="40%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_11.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Open the Expression Editor by clicking next to Print When Expression</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="40%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_12.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The Expression editor window should now appear. What we must do is to create an expression that checks if the row being generated is the row with the organisation unit given as a parameter. The report table contains a column that we can use for this called organisation_unit_is_parent. To exclude the row with the parameter organisation unit, double click on organisation_unit_is_parent in the list to copy it to the expression area, then add <command>.equals(&quot;No&quot;)</command> at the end so that the code is:</para>
<para><command>$F{organisation_unit_is_parent}.equals(&quot;No&quot;)</command></para>
<para>This tells the report engine to only print table rows where the organisation unit is not the parent organisation unit.</para>
<screenshot>
<screeninfo>Code to skip parent organisation unit</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_14.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section>
<title>Putting the &quot;param organisation unit&quot; at the bottom of the table</title>
<para>Instead of removing the &quot;param organisation unit&quot; from the table entirely, it is also possible to put it at the bottom (or top) of the table. This is done by using the sort functionality explained in the next section, and choosing to sort first by &quot;organisation_unit_is_parent&quot;. Other sorting options can be added in addition to this, for example to make a list where the param organisation unit is at the bottom of the table, with the other organisation units listed alphabetically above it.
</para>
</section>
<section>
<title>Hiding other rows</title>
<para>Using the expression editor it is also possible to exclude other rows from the table, in addition to the parent organisation unit as was explained above. In Ghana, for example, all regions have a «fake district» which is the name of the region in square brackets. This can also be excluded from the table using the Print when expression that was introduced above. To to this, follow the instructions above to bring up the Expression editor window. Then, we use Java expressions to test whether or not the row should be hidden.</para>
<section>
<title>Example - removing rows with organisation units starting with [</title>
<para>Example - removing rows with organisation units starting with [</para>
<para><command>($F{organisationunitname}.charAt( 0 ) != &apos;[&apos;)</command></para>
<para>This makes the report skip any rows where the first character of the organisation unit name is [.</para>
<para>It is also possible to combine several of these expressions. To do this we put the expressions in a parenthesis with the two characters &amp;&amp; in between. For example, to make a table that leaves both organisation units whose name starts with [ and the parent organisation unit, we can use the following expression:</para>
<para><command>($F{organisationunitname}.charAt( 0 ) != &apos;[&apos;)&amp;&amp;$F{organisation_unit_is_parent}.equals(&quot;No&quot;)</command></para>
<screenshot>
<screeninfo>Combining expressions in the Expression editor</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_29.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</section>
</section>
<section>
<title>Sorting</title>
<para>Often you will be making reports where the first column is organisation unit names. However, it can be a problem that the list of organisation units are not sorted alphabetically. This can be fixed in iReport through a few simple steps.</para>
<para>In the report inspector, right click on the name of the report (by default this is dpt) and select Edit query. </para>
<screenshot>
<screeninfo>Choose Edit Query</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="40%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_21.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>A Report query window will appear. Click on the Sort options button.</para>
<screenshot>
<screeninfo>Choose Sort Options...</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_22.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>A Sorting window as show below will appear. Here, we can add our sorting options. Click the Add field button. Another small window will show up, with a drop down menu where you can choose Sort by organisationunitname to have the table sorted alphabetically by name.</para>
<screenshot>
<screeninfo>Choose Add</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_23.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Choose sort parameter</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="30%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_24.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Click OK - Close - OK to close the three windows. The table should now be sorted.</para>
</section>
<section>
<title>Changing indicator/data element names</title>
<para>By default, the reports from DHIS 2 uses the short names for indicators and data elements in reports and charts. In some cases these are not always very meaningful for third parties, but with some work they can be given custom names through iReport. This is useful for example if you are making a report with indicators as rows and periods as column, or for charts with indicators. </para>
<screenshot>
<screeninfo>Shortnames - before and after</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_000.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>To change the names of an indicator or data element, we have to edit its «expression» or formula, for example by right clicking the text box and choosing Edit expression to bring up the Expression editor. </para>
<screenshot>
<screeninfo>Choose Edit Expression</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_32.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Next, we have to insert some Java code. In the following example, we will be replacing the shortname of three indicators with their proper names. The code searches for the shortname, and then replaces it with a proper name. </para>
<screenshot>
<screeninfo>Expression editor, showing replacing shortnames</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_34.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>
<command>($F{indicatorname}.equals(&quot;Bed Util All&quot;)) ? &quot;Bed Utilisation - All Wards&quot;</command>
</para>
<para>
<command>:</command>
</para>
<para>
<command>($F{indicatorname}.equals(&quot;Bed Util Mat&quot;)) ? &quot;Bed Utilisation - Maternity&quot;</command>
</para>
<para>
<command>:</command>
</para>
<para>
<command>($F{indicatorname}.equals(&quot;Bed Util Ped&quot;)) ? &quot;Bed Utilisation - Paediatric&quot;</command>
</para>
<para>
<command>:</command>
</para>
<para>
<command>$F{indicatorname}</command>
</para>
<para>From this, we can see a pattern that is reusable for more general cases.</para>
<itemizedlist>
<listitem>
<para>For each indicator or data element we want to change the name for, we need one line</para>
</listitem>
<listitem>
<para>Each line is separated by a colon :</para>
</listitem>
<listitem>
<para>We finish the expression with a «regular» line</para>
</listitem>
</itemizedlist>
<para>Each line has the same format, where the red text is the shortname, the blue text is what we want to insert instead.</para>
<screenshot>
<screeninfo>Code for replacing shortnames. Shortname in red, new name in blue</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/dhis2_creating_reporting/ireportadv/ireport_screen_0.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The same expressions can be used for example when having indicator names along the category axis of a chart.</para>
</section>
<section>
<title>Adding horizontal totals</title>
<para>By using the expression editor, it is possible to add a column to the table with totals for each row. In the following example, we will make a table with three months as columns as well as a column with the totals for the three months.</para>
<para>We start by dragging a text label into the table header and changing its text to &quot;Total&quot;, and dragging a text field into the details row. </para>
<para>As was discussed in the section on &quot;Text field&quot;, we have to change the properties of the new text field so that it can display numbers. To do this, change the &quot;Expressions Class&quot; in the properties panel to &quot;java.lang.Double&quot;.</para>
<para>Right click the text field and choose &quot;Edit Expression&quot;. This will bring up the &quot;Expressions editor&quot;. As the expression, we want to sum up all the columns. In this case we have three value expressions we want to sum up: &quot;September&quot;, &quot;October 2010&quot;, &quot;November 2010&quot;. The name of these fields will vary depending on the crosstab dimension you have chosen in the report table. In our case, the expression we make is &quot;$f{September}+$f{October 2010}+$f{November 2010}&quot;:</para>
<para>Each row of the table have a totals column to the right.</para>
</section>
<section>
<title>Groups of tables</title>
<para>There are cases when it can be useful to have several tables in one report. This can be done using Report groups. Using this functionality, one can for example create a report one table for each indicator, or one table of each organisation unit. In the following, we will go through the steps needed to make a report with three indicators, each represented in one table. It is important that the report table does not crosstab on indicators when we want to make groups of tables based on indicators. </para>
<para>In our example, the .jrxml file downloaded from DHIS 2 will by default have one column for organisation unit and on for indicators (assuming we have chosen periods as the only crosstab dimension). We start by removing the indicator column, since this in not needed in our case, and realign the other fields to fit the report.</para>
<screenshot>
<screeninfo>Delete column</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_36.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Next, we create out Report group. Go to the report insepctor, right click on the report name (dpt is the default) and choose Add Report Group. </para>
<screenshot>
<screeninfo>Add Report Group</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="40%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_38.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>A window will appear, with a report group wizard. Select a name for the group, in this case we choose «Indicator». In the drop down menu, we can select what columns in the report table we want the groups to be based on. So, if we wanted one table for each organisation unit, we would choose organisation unit name as the report object to group according to. However, since we are grouping by indicators in this example, we choose indicatorname. Then click next. </para>
<screenshot>
<screeninfo>Choose grouping parameter - here, indicators</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_39.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The next step is to select whether or not we want a separate Group header and Group footer band for each report group. In this case, we choose to include both. Click Finish, and the group bands should appear in the report.</para>
<screenshot>
<screeninfo>Add group header/footer</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_40.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>If you upload and run the report, it will now create one table for each indicator. However, it will not look very good as there will be no header row over each table - only one header at the top of each page. Also, there is no indication as to which table is showing which indicator. In the following, we will fix this.</para>
<para>Instead of having the title row in the column header, we can instead move it to the Group header. This will make the heading show up above each individual table. Furthermore, we can add a heading to each table with the name of the indicator. </para>
<para>Move the column headers from the Column header band to the Indicator group header band.</para>
<screenshot>
<screeninfo>Move header row to column header</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_41.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Next, add a text field to the Indicator group heading band, and edit it’s expression to display the indicator name.</para>
<screenshot>
<screeninfo>Add text field to use as heading</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_42.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Edit text field expression to show indicator name</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_44.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The report should now have three tables, one for each indicator. Each table will have a heading with the name of the indicator, and also a table header row.</para>
<screenshot>
<screeninfo>Example of finished report table</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_45.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<section>
<title>Sorting and grouping</title>
<para>When using grouping, some precautions must be taken with regards to sorting. Notably, when adding sorting parameters, whatever parameter is used as basis for the grouping must come first. Thus if you are grouping the report by indicator, and want sort the organisation units alphabetically, you have to choose to sort first by indicator, then by organisation unit name as shown below. For instructions on how to add sorting, see the sorting section above.</para>
<screenshot>
<screeninfo>Sorting by indicator and organisation unit name</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_59.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</section>
<section>
<title>Charts</title>
<para>By default, a 3D bar chart is included in the .jrxml file that is downloaded from DHIS 2. This is set up so that only data from the «parameter orgnisation unit» (often the parent or grand parent) is used. Usually, this is a good solution. Since it is the default, we will start by looking at bar charts, before looking at line charts.</para>
<section>
<title>Bar charts</title>
<screenshot>
<screeninfo>Example bar chart</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_54.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Bar charts are the default chart type in DHIS 2. In this section, we will look at how to make a bar charts like the one above, comparing the value of one inidcator in several districts. To edit the default chart in iReport, right click on it and choose Chart data.</para>
<screenshot>
<screeninfo>Choose Edit Chart Data</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_46.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>A window will appear. By default, the Filter expression is filled in so that only data for the parent organisation unit will be displayed. If for some reason you do not want this, simply delete the text in the text box. In this case we do NOT want the filter, as we are making a chart showing a comparison across districts. To continue, click the details tab.</para>
<screenshot>
<screeninfo>Select the Details tab</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_47.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Under details, you see the list of series for the chart. By default, one series is created per crosstab column. In this case, we are looking at data for one indicator for the whole of 2010, for a number of districts. The indicator is along the crosstab dimension.</para>
<screenshot>
<screeninfo>List of data series</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_48.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>To make changes to a series, select it and click modify. Another window will appear where there are four areas that can be edit. The three first are required, but it is sufficient to add an empty quote («») in one of the first two.</para>
<screenshot>
<screeninfo>The data series editor</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_500.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The first box is a text field where the name of the series can be inserted or edited. This is the field that will be used to fill the text in the legend box (shown below).</para>
<screenshot>
<screeninfo>Chart legend</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="15%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_50.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>However, if you want to have the name of each bar along the x-axis of the chart instead of using the legend, this can be done by adding whatever text you want to present in the Category expression field, or by inserting an expression to have it filled automatically when the report is run. In this case, we want to have one bar for each organisation unit. We therefore edit the category expression by clicking on the button to the right.</para>
<screenshot>
<screeninfo>Editing the category expression</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_49.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>As the expression, we chose organisationunitname, as shown below.</para>
<screenshot>
<screeninfo>Choose organisation unit name.</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_490.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>When we are finished, the series editor should look like below. Click OK, then Close to close the Chart Details window.</para>
<screenshot>
<screeninfo>Series editor.</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_501.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>If you add a good description in the Category expression area, you can leave out the legend box. This is done in the Report properties panel of iReport, where you can also edit many other details of the chart.</para>
<screenshot>
<screeninfo>Checkbox to show/hide chart legend</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="40%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_51.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>We can also add a title to the chart, for example the name of the indicator. This is also done in the Chart properties panel, under Title expression.</para>
<screenshot>
<screeninfo>Edit chart title</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="40%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_55.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The Expression editor window will appear, where you can enter the title. Note that the title must be in quotes, as shown below.</para>
<screenshot>
<screeninfo>Expression editor</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_56.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The chart is now ready.</para>
</section>
<section>
<title>Line charts</title>
<para>Line charts can be useful in many circumstances. However, to make line charts the report data (report table) must be suited for it. Thus if you want to make a line chart, it is important that the report table does not have periods in the crosstab dimension. Examples where this is useful is if you are making a report for a single organisation unit with one or more indicators, or if you are making a report with one indicator and one or more organisation units.</para>
<para>Below, we will go though the steps needed to make a report with a line chart showing the development of three indicators over one year, for one organisation unit. We start by making a report table with the choices shown below:</para>
<screenshot>
<screeninfo>Report table - crosstab dimensions</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="30%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_57.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Report table - periods and parameters</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_60.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>When we open the resulting .jrxml-file in iReport, the default line chart is included. Since we want to make a line chart, we delete this chart and drag a new chart element into the report from the Palette panel.</para>
<screenshot>
<screeninfo>Delete the default chart</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_61.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Drag in new chart element</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_62.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>As soon as we drag the Chart element into the report, a window will appear. We choose the Line chart, as shown below. </para>
<screenshot>
<screeninfo>Choose Line chart</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_63.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>A chart wizard will appear. Click next in the first step, then Finish in the next - we will add the data later.</para>
<screenshot>
<screeninfo>Choose Next</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_64.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Choose Finish</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_65.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Next, adjust the size and position of the chart in your report. Then, we will add one data series for each of our three indicators. Right-click on the chart and choose Chart data. If you are making a chart with one indicator and several organisation units, you probably want to make a filter expression so that only data from the paramter/parent organisation unit is used in the chart. To do this, add this line to the Filter expression area:</para>
<para><command>$F{organisation_unit_is_parent}.equals(&quot;Yes&quot;)</command></para>
<para>In our example, we only have on organisation unit, so this is not necessary. Next, click the details tab to see a list of the series in the chart. For now, this list is empty, but we will add one series for each of our three indicators. To add a series, click the Add button.</para>
<screenshot>
<screeninfo>Choose the Details tab</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_66.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Choose Add</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_67.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>In the window that appears, enter the name of the first of the indicators in the Series expression window. Remember to put the name in quotes. In the category expression (along the x-axis) we want the months, so we use the button next to the field to open the Expression editor and add periodname. </para>
<screenshot>
<screeninfo>Edit the category expression</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_69.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<screenshot>
<screeninfo>Choose periodname as the expression</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_68.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>In the value expression, we add the actual data values for our first indicator. Use the Expression editor again to do this. When we are finished, the window should look like the one below, only with different names according to the indicator. </para>
<screenshot>
<screeninfo>The finished category series</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="70%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_70.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>You can then Click OK to close the window. Follow the same steps to add a series for the other indicators. </para>
<screenshot>
<screeninfo>Chart details after adding three series</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="60%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_71.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Close the window, and the data for the line chart should be ready. However, some additional adjustments might be needed - most of these can be found in the Line chart properties panel. For example, when making a month by month chart as we have in example, there is often not enough space for the month names along the category axis. This can be fixed by rotating the labels by for example -40 degrees, by using the property Category Axis Tick Label Rotation.</para>
<screenshot>
<screeninfo>Changing the appearance of the category labels</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="40%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_72.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>Many other options are available to give the chart the desired look.</para>
<screenshot>
<screeninfo>The finished line chart</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="90%" fileref="resources/images/dhis2_creating_reporting/ireportadv/irep_screen_73.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
</section>
<!--Old part on charts 
<section><title>Charts</title><para>The auto-generated report already has a chart. This can however be edited. To do that, right-click on the chart and select &quot;Chart Data&quot;.</para><screenshot>
<screeninfo>Select Chart Data by right clicking on the chart</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/dhis2_creating_reporting/ireport/32_editchart_1.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot><para>Go to the &quot;Details&quot; tab to see what is actually shown in the chart.
</para><screenshot>
<screeninfo>Go the Details and Add a Category series</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/dhis2_creating_reporting/ireport/33_editchart_2.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot><para>If you select a series and then click the &quot;Modify&quot; button, a new window will appear. There are four fields that we can fill out, where the three first are mandatory and are already automatically filled.
</para><screenshot>
<screeninfo>The Category series window</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/dhis2_creating_reporting/ireport/34_editchart_3.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot><para>You can edit each field by pressing the edit button on the righ.t</para><screenshot>
<screeninfo>Edit the category expression</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="66%" fileref="resources/images/dhis2_creating_reporting/ireport/35_editchart_4.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot><para>A new window appears with the available fields. A list of available fields to put in the chart will show. If you double-click one of the items, it will be added to the Expression editor.</para><screenshot>
<screeninfo>Double click on the desired field</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="66%" fileref="resources/images/dhis2_creating_reporting/ireport/36_editchart_5.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot><para>To make the chart more informative and better looking, we can select it by clicking on it and use the &quot;Properties&quot; panel on the right hand side to make adjustments. For example, you can add a title to the chart, change the font, rotate the axis labels (as shown below) and so on.</para><screenshot>
<screeninfo>Edit the chart properties</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="66%" fileref="resources/images/dhis2_creating_reporting/ireport/39_editchart_9.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>--> <section>
<title>Adding the Report to DHIS 2</title>
<para>We can now switch to DHIS 2 and import our report. Go to the Report Module in DHIS 2, and select &quot;Standard Report&quot;. In the &quot;Standard Report&quot; screen, click &quot;Add new&quot;, or edit an existing one.</para>
<para>In the following screen, there are several actions we need to take. First, enter a name for the new &quot;Standard Report&quot;. Second, for design, click &quot;Choose File&quot; and find the .jrxml-file you have edited in iReport. Then we select the report table that we used as a basis for the report in iReport. Click add, and it should move to the &quot;Selected report tables&quot; area. Finally, click save. 
</para>
<screenshot>
<screeninfo>Upload the file and choose the right report table</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="66%" fileref="resources/images/dhis2_creating_reporting/ireport/27_new_std_report.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
<para>The report is now available as a &quot;Standard Report&quot; in DHIS 2:</para>
<screenshot>
<screeninfo>The report is available as a Standard Report</screeninfo>
<mediaobject>
<imageobject>
<imagedata width="50%" fileref="resources/images/dhis2_creating_reporting/ireport/28_done.jpg" format="JPEG"/>
</imageobject>
</mediaobject>
</screenshot>
</section>
<section>
<title>Some final guidelines</title>
<itemizedlist>
<listitem>
<para>Use the same version of iReport and DHIS 2&apos;s version of Jasper reports. See the About page in DHIS 2 for the Jasper version in use.</para>
</listitem>
<listitem>
<para>Use report tables with cross tab dimensions as your data source for your report designs. This will make it a lot easier to design reports where you need to put specific indicators, periods, or orgunits on columns.</para>
</listitem>
<listitem>
<para>Learn from others, there are many DHIS 2 report designs for Jasper on launchpad, see http://bazaar.launchpad.net/~DHIS 2-devs-core/DHIS 2/trunk/files/head:/resources/</para>
</listitem>
</itemizedlist>
</section>
</section>
</section>
</chapter>
<chapter>
<title>Setting up GIS</title>
<section>
<title>Context</title>
<para>Setting up the GIS simply means storing coordinates for the organisation units you want to show on the map in the database. Coordinates are often distributed in proprietary formats and will need to be converted to a format which DHIS2 uses. ESRI shapefiles are the most common geospatial vector data format for desktop applications. You might find shapefiles for your country <ulink url="http://www.diva-gis.org/gdata">here</ulink> or in many other geospatial data repositories on the web. Some amount of work needs to be done in order to use these coordinates in DHIS 2 GIS, namely transforming the data into a suitable format and ensuring the name which are contained in the geospatial data match exactly with the names of the organization units which they should be matched to. </para>
<para>If you go to the organisation unit module and edit one of the units, you can see a text field called Coordinates. Here you may fill in its coordinates directly (geojson format) which is useful if you just want to update a couple of units.</para>
<para>An example point/facility coordinate:</para>
<para><programlisting><userinput>[29.341,-11.154]</userinput></programlisting></para>
<para>An example polygon/area coordinates string:</para>
<para><programlisting><userinput>[[[[29.343,-11.154],[28.329,-11.342],[28.481,-10.239],[29.833,-10.412]]]]</userinput></programlisting></para>
<para>However, if you are going to e.g. add coordinates for all units at a certain level you don&apos;t want to do that manually. This is where the automatic GML import comes into play and the following section explains the preferred way of using it.<important>
<para>The only co-ordinate reference system supported by DHIS2 is EPSG:4326, also known as geographic longitude/latitude. Coordinates must be stored with the longitude (east/west position) proceeding the latitude (north/south position). If your vector data is in a different CRS than EPSG 4326, you will need to reproject the data first before importing into DHIS2. </para>
</important></para>
</section>
<section id="gisSetup">
<title>Importing coordinates</title>
<para>Step 1 - Simplify/generalize your geographical data</para>
<para>The boundaries in geographical data files are usually very accurate, too much so for the needs of a web-based GIS. This usually does not affect the performance when using GIS files on a a local system, but it is usually necessary to optimize the geographical data for the web-based GIS system of DHIS2. All geographical data needs to be downloaded from the server and rendered in a browser, so if the data is overly complex, the performance of the DHIS2 GIS will be negatively impacted. This optimization process can be described as follows:</para>
<para><simplelist>
<member>Coordinates: The number of significant decimal digits (e.g. 23.02937874993774) should be shortened to fewer digits (e.g. 23.03). Although this will result in some inaccuracies on the map, given the usual scale at which maps in DHIS2 are produced (&gt; 1:50,000), the loss of precision should not be noticeable. Normally, no more than four significant digits after the decimal point should be necessary.</member>
<member>Polygons: In addition to shortening the number of significant digits, the actual number of points should also be reduced to an optimal level. Finding this optimal level may take a bit of experimentation. Decreasing the precision of the points as well as the number of points through generalization, will lead to degradation of the polygon. However, after a bit of experimentation, an optimal level of generalization can be found, where the accuracy of the polygon is visually acceptable, and the performance of the GIS is optimal. </member>
</simplelist></para>
<para>For polygons, we need to make the boundary lines less detailed by removing some of the line points. One possible method is the use of <ulink url="http://mapshaper.com/test/MapShaper.swf">MapShaper</ulink> which is an online tool which can be used to generalize geographical data. To use MapShaper, simply upload your shapefile to the site. Then, at the center bottom you see a slider that starts at 0%. It is usually acceptable to drag it up to about 80%. In the left menu you can check &quot;show original lines&quot; to compare the result and you may want to give a different simplification method a try. When you are happy with the result, click &quot;export&quot; in the top right corner. Then check the first of the four options called &quot;Shapefile - polygons&quot;, click &quot;create&quot; and wait for the download buttons to appear. Now, download the two files to your local computer (being sure to rename the file so that you do not overwrite your existing, original data). Move on to the next step with your new simplified shapefile.
</para>
<para>Step 2 - Convert the shapefile to GML</para>
<para>
The recommended tool for geographical format conversions is called &quot;ogr2ogr&quot;. This should be available for most Linux distributions <command>sudo apt-get install gdal-bin</command>. For Windows, go to <ulink url="http://fwtools.maptools.org/">http://fwtools.maptools.org/ </ulink>and download &quot;FWTools&quot;, install it and open up the FWTools command shell. During the format conversion we also want to ensure that the output has the correct coordinate projection (called EPSG:4326 with geographic longitude and latitude). For a more detailed reference of geographic coordinates, please refer to this <ulink url="http://www.epsg-registry.org/">site</ulink>. If you have already reprojected the geographic data to the geographic latitude/longitude (EPSG:4326) system, there is no need to explicitly define the output coordinate system, assuming that <command>ogr2ogr</command> can determine the input spatial reference system. Note that most shapefiles are using the EPSG:4326 system. You can determine the spatial reference system by executing the following command.</para>
<para><programlisting><userinput>ogrinfo -al -so filename.shp</userinput></programlisting></para>
<para>Assuming that the projection is reported to be EPSG:27700 by <command>ogrinfo</command>, we can transform it to EPSG:4326 by executing the following command.<programlisting><userinput>ogr2ogr -s_srs EPSG:27700 -t_srs EPSG:4326 -f GML filename.gml filename.shp </userinput></programlisting></para>
<para>If the geographic data is already in EPSG:4326, you can simply transform the shapefile to GML by executing the following command. </para>
<para><programlisting><userinput>ogr2ogr -f GML filename.gml filename.shp</userinput></programlisting></para>
<para> You will find the created GML file in the same folder as the shapefile.
</para>
<para>Step 3 - Prepare the GML file</para>
<para>Unfortunately, the GML file is not ready for importation yet. Open it in a robust text editor like Geany (Linux) or Notepad++ (Windows). GML is an XML based format which means that you will recognize the regular XML tag hierarchy. In the GML file an organisation unit is represented as a &lt;gml:featureMember&gt;. Inside the feature members we usually find a lot of attributes, but we are just going to import their coordinates. In order to do this DHIS 2 will match the name of the feature members to the organisation unit names in the database. To get the name of the feature members in the GML file the importer will look for a property called &quot;ogr:Name&quot;. Figure out what property that is holding the name of the feature members (could be &quot;ogr:DISTRICT_NAME&quot;, &quot;ogr:NAME_1&quot; or whatever, this differs from shapefile to shapefile) and rename it to &quot;ogr:Name&quot;. Ensure that both the start and the end tags are renamed properly. They are supposed to look like e.g.: &lt;ogr:Name&gt;Moyamba District&lt;/ogr:Name&gt;
</para>
<para>Note that the name of the feature members in the GML file must be spelled exactly the same as the organisation units in the database. Otherwise the importer will not recognize it and thus not transfer any coordinates. E.g. &quot;Moyamba&quot; in the GML file might be called &quot;Moyamba District&quot; in the database. Creative use of the &quot;rename all&quot; function in the text editor is usually of great help in these situations, as you do not want to edit numerous feature members manually. Have a brief look at the names and compare them to the names in the database. If they seem to match fairly good, it is about time to do a preview in the import-export module.
</para>
<para>
Go to Services -&gt; Import-Export, select &quot;Preview&quot;, select the GML file and click &quot;Import&quot;. Look for new/updated organisation units. Our intention is to add coordinates to already existing organisation units in the database, so we want as many updates as possible and 0 new. Those listed as new will be created as root units and mess up the organisation unit trees in DHIS 2. If any listed as new, click the number and the organisation units in question will appear in the list below. If there are any slight misspellings compared to the organisation unit names in the database - fix them and do the preview again. Otherwise, click the &quot;discard all&quot; button below the list and then the &quot;Import all&quot; button above the list.
</para>
<para>
If the import process completes successfully, you should now be able to utilize the geographical data in the DHIS2 GIS. If not, check the log for hints and look for common errors such as:
</para>
<para>- Name duplicates in the GML file. The name column in the database is unique and does not accept two organisation units with the same name.</para>
<para>- The &quot;shortname&quot; column in the organisationunit table in your database has a too small varchar definition. Increase it to 100.</para>
<para>- Special name characters in the GML file. Be sure to convert these to appropirate XML equivalents or escape sequences.</para>
</section>
<section>
<title>Administering the GIS module</title>
<section id="gisOverlay">
<title>Register overlays</title>
<para>Overlays are geographical layers that do not have any direct linkage
to data in the database. Examples include roads, rivers, airports, ports,
and other geographical information that you may want to display on your
map, but that is not necessarily linked to data contained in the DHIS
database. The <guimenu>Register Overlay</guimenu> panel will allow you to
add new layers and determine how they will be represented visually on the
map. </para>
<itemizedlist>
<listitem>
<para><guilabel>Display name: </guilabel>Represents your overlay in
the layer tree in the upper right corner.</para>
</listitem>
<listitem>
<para><guilabel>Map source file: </guilabel>The GeoJSON file
name.</para>
</listitem>
<listitem>
<para><guilabel>Fill color: </guilabel>Decides the fill color if the
layer is a polygon layer. </para>
</listitem>
<listitem>
<para><guilabel>Fill opacity: </guilabel>Select an opacity level
between 0 (invisible) and 1 (solid).</para>
</listitem>
<listitem>
<para><guilabel>Stroke color: </guilabel>The stroke color over lines
and polygon borders.</para>
</listitem>
<listitem>
<para><guilabel>Stroke width: </guilabel>Select a stroke width between
0 and 4.</para>
</listitem>
</itemizedlist>
<section>
<title>Copying files to the DHIS application</title>
<para>Currently, your GeoJSON files should be placed in the
DHIS2_HOME/geojson of your DHIS application to be accessible to the GIS
module. If the GeoJSON directory does not exist, you will need to create
it manually and copy your GeoJSON files there.</para>
</section>
</section>
</section>
</chapter>
</book>
